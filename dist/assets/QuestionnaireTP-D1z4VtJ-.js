import{j as e,s as a}from"./index-Br72Bvhm.js";import{r as t}from"./vendor-DyLareeb.js";import{S as n,I as r}from"./Select-DCWGwE4F.js";import{I as s}from"./Input-OjxGWKjg.js";import{B as l}from"./Button-CLPlrq1l.js";import"./ui-Dv3yRtCs.js";const i=()=>{const i=(new Date).getFullYear(),o=Array.from({length:10},((e,a)=>{const t=(i+a).toString();return{value:t,label:t}})),[d,c]=t.useState({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",trainingTypes:[],trainingOther:"",eventMonth:"",eventYear:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""}),[m,u]=t.useState(!1),[p,h]=t.useState(null),[g,x]=t.useState(!1),[y,b]=t.useState({});t.useEffect((()=>{if(!p)return;const e=setTimeout((()=>h(null)),4e3);return()=>clearTimeout(e)}),[p]);const v=e=>{const{name:a,value:t}=e.target;c((e=>({...e,[a]:t})))},f=(e,a)=>{c((t=>{const n=t[e],r=n.includes(a);return{...t,[e]:r?n.filter((e=>e!==a)):[...n,a]}}))};return e.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-[2rem] md:rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] border border-gray-100",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-black mb-6 md:mb-8",children:"Let's Connect"}),p&&e.jsx("div",{role:"status","aria-live":"polite",className:"fixed left-4 right-4 top-6 md:left-auto md:right-6 md:top-6 z-[60] rounded-xl px-5 md:px-6 py-3 md:py-4 shadow-xl border font-bold "+("success"===p.type?"bg-green-600 text-white border-green-400":"bg-red-600 text-white border-red-400"),children:p.text}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const t=["name","contact","companyName","companyEmail","industryOption","noOfPax","duration","eventMonth","eventYear","budget","location"].some((e=>!d[e])),n=0===d.trainingTypes.length||0===d.languages.length;if(t||n||!g)return g||b({privacyConsent:"Please agree to the Privacy Policy"}),void h({type:"error",text:"Please fill in all required fields"});u(!0),h(null);try{const e=d.trainingTypes.filter((e=>"Others"!==e));d.trainingOther.trim()&&e.push(d.trainingOther);const t=d.languages.filter((e=>"Others"!==e));d.languagesOther.trim()&&t.push(d.languagesOther);const n={name:d.name,contact:d.contact?parseInt(d.contact,10):null,company_name:d.companyName,company_email:d.companyEmail,industry:"Other"===d.industryOption?d.industryOther:d.industryOption,no_of_pax:d.noOfPax?parseInt(d.noOfPax):null,duration:d.duration,types_of_training:e,estimated_training_month:`${d.eventMonth} ${d.eventYear}`,budget:d.budget?parseFloat(d.budget):null,eventYear:"",hrdc:"Yes"===d.hrdc,preferred_location:d.location,language:t.join(", "),remarks:d.remarks},{error:r}=await a.from("training_program_inquiries").insert([n]);if(r)throw r;h({type:"success",text:"Thank you! Your inquiry has been sent. We will get back to you soon."}),c({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",trainingTypes:[],trainingOther:"",eventMonth:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""}),x(!1),b({})}catch(r){h({type:"error",text:"Error submitting form. Please ensure all data is valid and try again."})}finally{u(!1)}},className:"space-y-4 md:space-y-5",noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(s,{type:"text",name:"name",placeholder:"Name",required:!0,onChange:v,value:d.name,disabled:m})}),e.jsx("div",{children:e.jsx(s,{type:"text",name:"contact",placeholder:"Contact",required:!0,onChange:v,value:d.contact,disabled:m})})]}),e.jsx("div",{children:e.jsx(s,{type:"text",name:"companyName",placeholder:"Company Name",required:!0,onChange:v,value:d.companyName,disabled:m})}),e.jsx("div",{children:e.jsx(s,{type:"email",name:"companyEmail",placeholder:"Company Email",required:!0,onChange:v,value:d.companyEmail,disabled:m})}),e.jsx("div",{children:e.jsx(n,{name:"industryOption",value:d.industryOption,onChange:e=>c((a=>({...a,industryOption:e}))),options:r.map((e=>({value:e,label:e}))),placeholder:"Select Industry",searchable:!0,required:!0,disabled:m})}),"Other"===d.industryOption&&e.jsx("div",{children:e.jsx(s,{type:"text",name:"industryOther",placeholder:"Please specify your industry",required:!0,onChange:v,value:d.industryOther,disabled:m})}),e.jsx("div",{children:e.jsx(s,{type:"number",name:"noOfPax",placeholder:"No of pax",required:!0,onChange:v,value:d.noOfPax,disabled:m,min:0,step:1})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Duration of Training: ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-6",children:["Half day","Full day"].map((a=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(s,{type:"radio",name:"duration",value:a,onChange:v,checked:d.duration===a,disabled:m}),e.jsx("span",{className:"text-gray-600 text-sm",children:a})]},a)))})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Types of Training: ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex flex-col gap-3",children:["Mental Health & Wellbeing","Leadership & Management","Personal Development & Soft Skills","Others"].map((a=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.trainingTypes.includes(a),onChange:()=>f("trainingTypes",a),disabled:m,className:"h-4 w-4 rounded border-gray-300 text-[#f68921] focus:ring-[#f68921] cursor-pointer"}),e.jsx("span",{className:"text-sm text-gray-600",children:a})]},a)))})]}),d.trainingTypes.includes("Others")&&e.jsx("div",{children:e.jsx(s,{type:"text",name:"trainingOther",placeholder:"Please specify other training type",required:!0,onChange:v,value:d.trainingOther,disabled:m})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(n,{name:"eventMonth",value:d.eventMonth,onChange:e=>c((a=>({...a,eventMonth:e}))),options:[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}],placeholder:"Month",disabled:m}),e.jsx(n,{name:"eventYear",value:d.eventYear,onChange:e=>c((a=>({...a,eventYear:e}))),options:o,placeholder:"Year",disabled:m})]}),e.jsx("div",{children:e.jsx(s,{type:"number",name:"budget",placeholder:"Budget (RM)",required:!0,onChange:v,value:d.budget,disabled:m,min:0,step:"0.01"})})]}),e.jsxs("div",{className:"flex gap-10 items-center py-2",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"HRDC Claimable?"}),e.jsx("div",{className:"flex gap-4",children:["Yes","No"].map((a=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(s,{type:"radio",name:"hrdc",value:a,checked:d.hrdc===a,onChange:v,disabled:m}),e.jsx("span",{className:"text-sm text-gray-600",children:a})]},a)))})]}),e.jsx("div",{children:e.jsx(s,{type:"text",name:"location",placeholder:"Preferred Location",required:!0,onChange:v,value:d.location,disabled:m})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Language to Conduct: ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex flex-wrap gap-6",children:["English","Mandarin","BM","Others"].map((a=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.languages.includes(a),onChange:()=>f("languages",a),disabled:m,className:"h-4 w-4 rounded border-gray-300 text-[#f68921] focus:ring-[#f68921] cursor-pointer"}),e.jsx("span",{className:"text-sm text-gray-600",children:a})]},a)))})]}),d.languages.includes("Others")&&e.jsx("div",{children:e.jsx(s,{type:"text",name:"languagesOther",placeholder:"Please specify other language",required:!0,onChange:v,value:d.languagesOther,disabled:m})}),e.jsx("div",{children:e.jsx("textarea",{name:"remarks",rows:3,placeholder:"Remarks (Optional)",onChange:v,value:d.remarks,disabled:m,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:()=>{x(!g),b({})},disabled:m,className:"mt-1 h-4 w-4 rounded border-gray-300 text-[#f68921] focus:ring-[#f68921] cursor-pointer"}),e.jsxs("span",{className:"text-sm text-gray-600 leading-relaxed",children:["By submitting this form, I agree to the processing of my personal data as per the"," ",e.jsx("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-[#4a90e2] hover:text-[#f68921] underline font-medium",children:"Privacy Policy"}),"."]})]}),y.privacyConsent&&e.jsx("p",{className:"mt-2 text-sm font-medium text-red-600",children:y.privacyConsent})]}),e.jsx(l,{type:"submit",disabled:m,loading:m,fullWidth:!0,className:"py-4 md:py-5 bg-[#fcb22f] text-white font-black text-lg md:text-xl rounded-2xl hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:m?"Submitting...":"Submit Inquiry"})]})]})};export{i as default};
