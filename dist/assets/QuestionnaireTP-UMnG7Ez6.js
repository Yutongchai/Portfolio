import{j as e,I as a,S as n,a as t,B as r,s}from"./index-B5YwDgdN.js";import{r as l}from"./vendor-Bulzf-Ob.js";import"./ui-B7BI0lBe.js";const i=()=>{const i=(new Date).getFullYear(),d=Array.from({length:10},((e,a)=>{const n=(i+a).toString();return{value:n,label:n}})),[o,c]=l.useState({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",trainingTypes:[],trainingOther:"",eventMonth:"",eventYear:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""}),[u,m]=l.useState(!1),[p,h]=l.useState(null),[g,x]=l.useState(!1),[y,b]=l.useState({});l.useEffect((()=>{if(!p)return;const e=setTimeout((()=>h(null)),4e3);return()=>clearTimeout(e)}),[p]);const v=e=>{const{name:a,value:n}=e.target;c((e=>({...e,[a]:n})))},f=(e,a)=>{c((n=>{const t=n[e],r=t.includes(a);return{...n,[e]:r?t.filter((e=>e!==a)):[...t,a]}}))};return e.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-[2rem] md:rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] border border-gray-100",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-black mb-6 md:mb-8",children:"Let's Connect"}),p&&e.jsx("div",{role:"status","aria-live":"polite",className:"fixed left-4 right-4 top-6 md:left-auto md:right-6 md:top-6 z-[60] rounded-xl px-5 md:px-6 py-3 md:py-4 shadow-xl border font-bold "+("success"===p.type?"bg-green-600 text-white border-green-400":"bg-red-600 text-white border-red-400"),children:p.text}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const a=["name","contact","companyName","companyEmail","industryOption","noOfPax","duration","eventMonth","eventYear","budget","location"].some((e=>!o[e])),n=0===o.trainingTypes.length||0===o.languages.length;if(a||n||!g)return g||b({privacyConsent:"Please agree to the Privacy Policy"}),void h({type:"error",text:"Please fill in all required fields"});m(!0),h(null);try{const e=o.trainingTypes.filter((e=>"Others"!==e));o.trainingOther.trim()&&e.push(o.trainingOther);const a=o.languages.filter((e=>"Others"!==e));o.languagesOther.trim()&&a.push(o.languagesOther);const n={name:o.name,contact:o.contact?parseInt(o.contact,10):null,company_name:o.companyName,company_email:o.companyEmail,industry:"Other"===o.industryOption?o.industryOther:o.industryOption,no_of_pax:o.noOfPax?parseInt(o.noOfPax):null,duration:o.duration,types_of_training:e,estimated_training_month:`${o.eventMonth} ${o.eventYear}`,budget:o.budget?parseFloat(o.budget):null,eventYear:"",hrdc:"Yes"===o.hrdc,preferred_location:o.location,language:a.join(", "),remarks:o.remarks},{error:t}=await s.from("training_program_inquiries").insert([n]);if(t)throw t;h({type:"success",text:"Thank you! Your inquiry has been sent. We will get back to you soon."}),c({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",trainingTypes:[],trainingOther:"",eventMonth:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""}),x(!1),b({})}catch(t){h({type:"error",text:"Error submitting form. Please ensure all data is valid and try again."})}finally{m(!1)}},className:"space-y-4 md:space-y-5",noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(a,{type:"text",name:"name",placeholder:"Name",required:!0,onChange:v,value:o.name,disabled:u})}),e.jsx("div",{children:e.jsx(a,{type:"text",name:"contact",placeholder:"Contact",required:!0,onChange:v,value:o.contact,disabled:u})})]}),e.jsx("div",{children:e.jsx(a,{type:"text",name:"companyName",placeholder:"Company Name",required:!0,onChange:v,value:o.companyName,disabled:u})}),e.jsx("div",{children:e.jsx(a,{type:"email",name:"companyEmail",placeholder:"Company Email",required:!0,onChange:v,value:o.companyEmail,disabled:u})}),e.jsx("div",{children:e.jsx(n,{name:"industryOption",value:o.industryOption,onChange:e=>c((a=>({...a,industryOption:e}))),options:t.map((e=>({value:e,label:e}))),placeholder:"Select Industry",searchable:!0,required:!0,disabled:u})}),"Other"===o.industryOption&&e.jsx("div",{children:e.jsx(a,{type:"text",name:"industryOther",placeholder:"Please specify your industry",required:!0,onChange:v,value:o.industryOther,disabled:u})}),e.jsx("div",{children:e.jsx(a,{type:"number",name:"noOfPax",placeholder:"No of pax",required:!0,onChange:v,value:o.noOfPax,disabled:u,min:0,step:1})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Duration of Training: ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-6",children:["Half day","Full day"].map((n=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(a,{type:"radio",name:"duration",value:n,onChange:v,checked:o.duration===n,disabled:u}),e.jsx("span",{className:"text-gray-600 text-sm",children:n})]},n)))})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Types of Training: ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex flex-col gap-3",children:["Mental Health & Wellbeing","Leadership & Management","Personal Development & Soft Skills","Others"].map((a=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.trainingTypes.includes(a),onChange:()=>f("trainingTypes",a),disabled:u,className:"h-4 w-4 rounded border-gray-300 text-[#f68921] focus:ring-[#f68921] cursor-pointer"}),e.jsx("span",{className:"text-sm text-gray-600",children:a})]},a)))})]}),o.trainingTypes.includes("Others")&&e.jsx("div",{children:e.jsx(a,{type:"text",name:"trainingOther",placeholder:"Please specify other training type",required:!0,onChange:v,value:o.trainingOther,disabled:u})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(n,{name:"eventMonth",value:o.eventMonth,onChange:e=>c((a=>({...a,eventMonth:e}))),options:[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}],placeholder:"Month",disabled:u}),e.jsx(n,{name:"eventYear",value:o.eventYear,onChange:e=>c((a=>({...a,eventYear:e}))),options:d,placeholder:"Year",disabled:u})]}),e.jsx("div",{children:e.jsx(a,{type:"number",name:"budget",placeholder:"Budget (RM)",required:!0,onChange:v,value:o.budget,disabled:u,min:0,step:"0.01"})})]}),e.jsxs("div",{className:"flex gap-10 items-center py-2",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"HRDC Claimable?"}),e.jsx("div",{className:"flex gap-4",children:["Yes","No"].map((n=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(a,{type:"radio",name:"hrdc",value:n,checked:o.hrdc===n,onChange:v,disabled:u}),e.jsx("span",{className:"text-sm text-gray-600",children:n})]},n)))})]}),e.jsx("div",{children:e.jsx(a,{type:"text",name:"location",placeholder:"Preferred Location",required:!0,onChange:v,value:o.location,disabled:u})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Language to Conduct: ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex flex-wrap gap-6",children:["English","Mandarin","BM","Others"].map((a=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.languages.includes(a),onChange:()=>f("languages",a),disabled:u,className:"h-4 w-4 rounded border-gray-300 text-[#f68921] focus:ring-[#f68921] cursor-pointer"}),e.jsx("span",{className:"text-sm text-gray-600",children:a})]},a)))})]}),o.languages.includes("Others")&&e.jsx("div",{children:e.jsx(a,{type:"text",name:"languagesOther",placeholder:"Please specify other language",required:!0,onChange:v,value:o.languagesOther,disabled:u})}),e.jsx("div",{children:e.jsx("textarea",{name:"remarks",rows:3,placeholder:"Remarks (Optional)",onChange:v,value:o.remarks,disabled:u,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:()=>{x(!g),b({})},disabled:u,className:"mt-1 h-4 w-4 rounded border-gray-300 text-[#f68921] focus:ring-[#f68921] cursor-pointer"}),e.jsxs("span",{className:"text-sm text-gray-600 leading-relaxed",children:["By submitting this form, I agree to the processing of my personal data as per the"," ",e.jsx("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-[#4a90e2] hover:text-[#f68921] underline font-medium",children:"Privacy Policy"}),"."]})]}),y.privacyConsent&&e.jsx("p",{className:"mt-2 text-sm font-medium text-red-600",children:y.privacyConsent})]}),e.jsx(r,{type:"submit",disabled:u,loading:u,fullWidth:!0,className:"py-4 md:py-5 bg-[#fcb22f] text-white font-black text-lg md:text-xl rounded-2xl hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:u?"Submitting...":"Submit Inquiry"})]})]})};export{i as default};
