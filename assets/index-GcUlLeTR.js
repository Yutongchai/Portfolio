var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{r,a as s,L as a,g as n,R as i,b as o,u as l,c,B as d,d as u,e as h,N as m}from"./vendor-Bulzf-Ob.js";import{C as p,L as g,m as f,A as x,u as b,a as y,b as v,c as w,G as j,H as k,d as N,e as _,U as S,f as C,T as E,S as T,M as O,Z as R,g as P,B as A,h as I,i as $,j as D,X as L,k as z,l as M,n as U,s as B,o as q,p as W,q as F,r as G,P as H,D as V,I as K,V as J,t as Y,v as Z,w as X,x as Q}from"./ui-6JhV8hcL.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ee={exports:{}},te={},re=r,se=Symbol.for("react.element"),ae=Symbol.for("react.fragment"),ne=Object.prototype.hasOwnProperty,ie=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oe={key:!0,ref:!0,__self:!0,__source:!0};function le(e,t,r){var s,a={},n=null,i=null;for(s in void 0!==r&&(n=""+r),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(i=t.ref),t)ne.call(t,s)&&!oe.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:se,type:e,key:n,ref:i,props:a,_owner:ie.current}}te.Fragment=ae,te.jsx=le,te.jsxs=le,ee.exports=te;var ce,de=ee.exports,ue=s;function he({name:e,size:t=24,color:r="currentColor",className:s="",strokeWidth:a=2,...n}){const i="string"==typeof e?e.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""):e,o=g[i];return o?de.jsx(o,{size:t,color:r,strokeWidth:a,className:s,...n}):de.jsx(p,{size:t,color:"gray",strokeWidth:a,className:s,...n})}ce=ue.createRoot,ue.hydrateRoot;class me extends r.Component{constructor(e){super(e),t(this,"handleGoBack",(()=>{window.location.href="/"})),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){var r;e.__ErrorBoundary=!0,null==(r=window.__COMPONENT_ERROR__)||r.call(window,e,t)}render(){return this.state.hasError?de.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:de.jsxs("div",{className:"text-center p-8 max-w-md",children:[de.jsx("div",{className:"flex justify-center items-center mb-2",children:de.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42px",height:"42px",viewBox:"0 0 32 33",fill:"none",children:[de.jsx("path",{d:"M16 28.5C22.6274 28.5 28 23.1274 28 16.5C28 9.87258 22.6274 4.5 16 4.5C9.37258 4.5 4 9.87258 4 16.5C4 23.1274 9.37258 28.5 16 28.5Z",stroke:"#343330",strokeWidth:"2",strokeMiterlimit:"10"}),de.jsx("path",{d:"M11.5 15.5C12.3284 15.5 13 14.8284 13 14C13 13.1716 12.3284 12.5 11.5 12.5C10.6716 12.5 10 13.1716 10 14C10 14.8284 10.6716 15.5 11.5 15.5Z",fill:"#343330"}),de.jsx("path",{d:"M20.5 15.5C21.3284 15.5 22 14.8284 22 14C22 13.1716 21.3284 12.5 20.5 12.5C19.6716 12.5 19 13.1716 19 14C19 14.8284 19.6716 15.5 20.5 15.5Z",fill:"#343330"}),de.jsx("path",{d:"M21 22.5C19.9625 20.7062 18.2213 19.5 16 19.5C13.7787 19.5 12.0375 20.7062 11 22.5",stroke:"#343330",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),de.jsxs("div",{className:"flex flex-col gap-1 text-center",children:[de.jsx("h1",{className:"text-2xl font-medium text-neutral-800",children:"Something went wrong"}),de.jsx("p",{className:"text-neutral-600 text-base w-8/12 mx-auto",children:"We encountered an unexpected error while processing your request."})]}),de.jsx("div",{className:"flex justify-center items-center mt-6",children:de.jsxs("button",{onClick:this.handleGoBack,className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded flex items-center gap-2 transition-colors duration-200 shadow-sm",children:[de.jsx(he,{name:"ArrowLeft",size:18,color:"#fff"}),"Back"]})})]})}):this.props.children}}const pe=({logo:e,logoAlt:t="Logo",logoHref:s="/",items:n,activeHref:i,className:o=""})=>{const[l,c]=r.useState(!1),d=[{label:"Team Building",href:"/work-showcase/team-building"},{label:"Corporate Event",href:"/work-showcase/corporate-event"},{label:"Training Program",href:"/work-showcase/training-program"},{label:"CSR",href:"/work-showcase/csr"}];return de.jsx("nav",{className:`w-full bg-white border-b-4 border-[#7a4a4a] ${o}`,children:de.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-6 py-4",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx(a,{to:s,children:de.jsx("img",{src:e,alt:t,className:"h-16 w-auto"})})}),de.jsx("div",{className:"flex-grow flex justify-center",children:de.jsx("ul",{className:"flex items-center gap-12",children:n.map((e=>de.jsx("li",{className:"relative group",children:"Services"===e.label?de.jsxs("div",{className:"relative py-2",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[de.jsxs("button",{className:"flex items-center text-xl tracking-wide text-[#5a2323] hover:text-[#a05a5a] transition-all "+(i.includes("work-showcase")?"font-bold":"font-normal"),children:[de.jsx("span",{children:e.label}),de.jsx("svg",{className:"ml-2 h-4 w-4 transition-transform duration-300 "+(l?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),de.jsx("div",{className:`\n                      absolute left-1/2 -translate-x-1/2 pt-4 w-64 z-[9999]\n                      transition-all duration-300 ease-out\n                      ${l?"opacity-100 translate-y-0 visible":"opacity-0 -translate-y-2 invisible pointer-events-none"}\n                    `,children:de.jsx("ul",{className:"bg-white border border-gray-100 rounded-2xl shadow-2xl overflow-hidden py-2",children:d.map((e=>de.jsx("li",{children:de.jsx(a,{to:e.href,className:"block px-6 py-3 text-base text-[#5a2323] hover:bg-[#fcf8f8] hover:text-[#a05a5a] transition-colors",onClick:()=>c(!1),children:e.label})},e.href)))})})]}):de.jsx(a,{to:e.href,className:"text-xl tracking-wide text-[#5a2323] hover:text-[#a05a5a] transition-all py-2 border-b-2 border-transparent "+(i===e.href?"border-[#7a4a4a] font-bold":"font-normal"),children:e.label})},e.href)))})}),de.jsx("div",{className:"hidden md:block w-24"})]})})};var ge={exports:{}};function fe(){}function xe(){}xe.resetWarningCache=fe;ge.exports=function(){function e(e,t,r,s,a,n){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xe,resetWarningCache:fe};return r.PropTypes=r,r}();const be=n(ge.exports);var ye,ve=r,we=(ye=ve)&&"object"==typeof ye&&"default"in ye?ye.default:ye;function je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ke=!("undefined"==typeof window||!window.document||!window.document.createElement);const Ne=n((function(e,t,r){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==r&&"function"!=typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(s){if("function"!=typeof s)throw new Error("Expected WrappedComponent to be a React component.");var a,n=[];function i(){a=e(n.map((function(e){return e.props}))),o.canUseDOM?t(a):r&&(a=r(a))}var o=function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.peek=function(){return a},o.rewind=function(){if(o.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=a;return a=void 0,n=[],e};var l=o.prototype;return l.UNSAFE_componentWillMount=function(){n.push(this),i()},l.componentDidUpdate=function(){i()},l.componentWillUnmount=function(){var e=n.indexOf(this);n.splice(e,1),i()},l.render=function(){return we.createElement(s,this.props)},o}(ve.PureComponent);return je(o,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(s)+")"),je(o,"canUseDOM",ke),o}}));var _e="undefined"!=typeof Element,Se="function"==typeof Map,Ce="function"==typeof Set,Ee="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Te(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var r,s,a,n;if(Array.isArray(e)){if((r=e.length)!=t.length)return!1;for(s=r;0!==s--;)if(!Te(e[s],t[s]))return!1;return!0}if(Se&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(n=e.entries();!(s=n.next()).done;)if(!t.has(s.value[0]))return!1;for(n=e.entries();!(s=n.next()).done;)if(!Te(s.value[1],t.get(s.value[0])))return!1;return!0}if(Ce&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(n=e.entries();!(s=n.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(Ee&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((r=e.length)!=t.length)return!1;for(s=r;0!==s--;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((r=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(s=r;0!==s--;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(_e&&e instanceof Element)return!1;for(s=r;0!==s--;)if(("_owner"!==a[s]&&"__v"!==a[s]&&"__o"!==a[s]||!e.$$typeof)&&!Te(e[a[s]],t[a[s]]))return!1;return!0}return e!=e&&t!=t}const Oe=n((function(e,t){try{return Te(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return!1;throw r}}));
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Re=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;const Ie=n(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(e){s[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var r,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),n=1;n<arguments.length;n++){for(var i in r=Object(arguments[n]))Pe.call(r,i)&&(a[i]=r[i]);if(Re){s=Re(r);for(var o=0;o<s.length;o++)Ae.call(r,s[o])&&(a[s[o]]=r[s[o]])}}return a});var $e="bodyAttributes",De="htmlAttributes",Le="titleAttributes",ze={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ze).map((function(e){return ze[e]}));var Me,Ue,Be,qe,We="charset",Fe="cssText",Ge="href",He="http-equiv",Ve="innerHTML",Ke="itemprop",Je="name",Ye="property",Ze="rel",Xe="src",Qe="target",et={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},tt="defaultTitle",rt="defer",st="encodeSpecialCharacters",at="onChangeClientState",nt="titleTemplate",it=Object.keys(et).reduce((function(e,t){return e[et[t]]=t,e}),{}),ot=[ze.NOSCRIPT,ze.SCRIPT,ze.STYLE],lt="data-react-helmet",ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ht=function(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r},mt=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},pt=function(e){var t=yt(e,ze.TITLE),r=yt(e,nt);if(r&&t)return r.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var s=yt(e,tt);return t||s||void 0},gt=function(e){return yt(e,at)||function(){}},ft=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return ut({},e,t)}),{})},xt=function(e,t){return t.filter((function(e){return void 0!==e[ze.BASE]})).map((function(e){return e[ze.BASE]})).reverse().reduce((function(t,r){if(!t.length)for(var s=Object.keys(r),a=0;a<s.length;a++){var n=s[a].toLowerCase();if(-1!==e.indexOf(n)&&r[n])return t.concat(r)}return t}),[])},bt=function(e,t,r){var s={};return r.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&Nt("Helmet: "+e+' should be of type "Array". Instead found type "'+ct(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var a={};r.filter((function(e){for(var r=void 0,n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],l=o.toLowerCase();-1===t.indexOf(l)||r===Ze&&"canonical"===e[r].toLowerCase()||l===Ze&&"stylesheet"===e[l].toLowerCase()||(r=l),-1===t.indexOf(o)||o!==Ve&&o!==Fe&&o!==Ke||(r=o)}if(!r||!e[r])return!1;var c=e[r].toLowerCase();return s[r]||(s[r]={}),a[r]||(a[r]={}),!s[r][c]&&(a[r][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var n=Object.keys(a),i=0;i<n.length;i++){var o=n[i],l=Ie({},s[o],a[o]);s[o]=l}return e}),[]).reverse()},yt=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(t))return s[t]}return null},vt=(Me=Date.now(),function(e){var t=Date.now();t-Me>16?(Me=t,e(t)):setTimeout((function(){vt(e)}),0)}),wt=function(e){return clearTimeout(e)},jt="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||vt:global.requestAnimationFrame||vt,kt="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||wt:global.cancelAnimationFrame||wt,Nt=function(e){return console&&"function"==typeof console.warn&&void 0},_t=null,St=function(e,t){var r=e.baseTag,s=e.bodyAttributes,a=e.htmlAttributes,n=e.linkTags,i=e.metaTags,o=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,d=e.styleTags,u=e.title,h=e.titleAttributes;Tt(ze.BODY,s),Tt(ze.HTML,a),Et(u,h);var m={baseTag:Ot(ze.BASE,r),linkTags:Ot(ze.LINK,n),metaTags:Ot(ze.META,i),noscriptTags:Ot(ze.NOSCRIPT,o),scriptTags:Ot(ze.SCRIPT,c),styleTags:Ot(ze.STYLE,d)},p={},g={};Object.keys(m).forEach((function(e){var t=m[e],r=t.newTags,s=t.oldTags;r.length&&(p[e]=r),s.length&&(g[e]=m[e].oldTags)})),t&&t(),l(e,p,g)},Ct=function(e){return Array.isArray(e)?e.join(""):e},Et=function(e,t){void 0!==e&&document.title!==e&&(document.title=Ct(e)),Tt(ze.TITLE,t)},Tt=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(lt),a=s?s.split(","):[],n=[].concat(a),i=Object.keys(t),o=0;o<i.length;o++){var l=i[o],c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),-1===a.indexOf(l)&&a.push(l);var d=n.indexOf(l);-1!==d&&n.splice(d,1)}for(var u=n.length-1;u>=0;u--)r.removeAttribute(n[u]);a.length===n.length?r.removeAttribute(lt):r.getAttribute(lt)!==i.join(",")&&r.setAttribute(lt,i.join(","))}},Ot=function(e,t){var r=document.head||document.querySelector(ze.HEAD),s=r.querySelectorAll(e+"["+lt+"]"),a=Array.prototype.slice.call(s),n=[],i=void 0;return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var s in t)if(t.hasOwnProperty(s))if(s===Ve)r.innerHTML=t.innerHTML;else if(s===Fe)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{var o=void 0===t[s]?"":t[s];r.setAttribute(s,o)}r.setAttribute(lt,"true"),a.some((function(e,t){return i=t,r.isEqualNode(e)}))?a.splice(i,1):n.push(r)})),a.forEach((function(e){return e.parentNode.removeChild(e)})),n.forEach((function(e){return r.appendChild(e)})),{oldTags:a,newTags:n}},Rt=function(e){return Object.keys(e).reduce((function(t,r){var s=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+s:s}),"")},Pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[et[r]||r]=e[r],t}),t)},At=function(e,t,r){switch(e){case ze.TITLE:return{toComponent:function(){return e=t.title,r=t.titleAttributes,(s={key:e})[lt]=!0,a=Pt(r,s),[i.createElement(ze.TITLE,a,e)];var e,r,s,a},toString:function(){return function(e,t,r,s){var a=Rt(r),n=Ct(t);return a?"<"+e+" "+lt+'="true" '+a+">"+mt(n,s)+"</"+e+">":"<"+e+" "+lt+'="true">'+mt(n,s)+"</"+e+">"}(e,t.title,t.titleAttributes,r)}};case $e:case De:return{toComponent:function(){return Pt(t)},toString:function(){return Rt(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,r){var s,a=((s={key:r})[lt]=!0,s);return Object.keys(t).forEach((function(e){var r=et[e]||e;if(r===Ve||r===Fe){var s=t.innerHTML||t.cssText;a.dangerouslySetInnerHTML={__html:s}}else a[r]=t[e]})),i.createElement(e,a)}))}(e,t)},toString:function(){return function(e,t,r){return t.reduce((function(t,s){var a=Object.keys(s).filter((function(e){return!(e===Ve||e===Fe)})).reduce((function(e,t){var a=void 0===s[t]?t:t+'="'+mt(s[t],r)+'"';return e?e+" "+a:a}),""),n=s.innerHTML||s.cssText||"",i=-1===ot.indexOf(e);return t+"<"+e+" "+lt+'="true" '+a+(i?"/>":">"+n+"</"+e+">")}),"")}(e,t,r)}}}},It=function(e){var t=e.baseTag,r=e.bodyAttributes,s=e.encode,a=e.htmlAttributes,n=e.linkTags,i=e.metaTags,o=e.noscriptTags,l=e.scriptTags,c=e.styleTags,d=e.title,u=void 0===d?"":d,h=e.titleAttributes;return{base:At(ze.BASE,t,s),bodyAttributes:At($e,r,s),htmlAttributes:At(De,a,s),link:At(ze.LINK,n,s),meta:At(ze.META,i,s),noscript:At(ze.NOSCRIPT,o,s),script:At(ze.SCRIPT,l,s),style:At(ze.STYLE,c,s),title:At(ze.TITLE,{title:u,titleAttributes:h},s)}},$t=Ne((function(e){return{baseTag:xt([Ge,Qe],e),bodyAttributes:ft($e,e),defer:yt(e,rt),encode:yt(e,st),htmlAttributes:ft(De,e),linkTags:bt(ze.LINK,[Ze,Ge],e),metaTags:bt(ze.META,[Je,We,He,Ye,Ke],e),noscriptTags:bt(ze.NOSCRIPT,[Ve],e),onChangeClientState:gt(e),scriptTags:bt(ze.SCRIPT,[Xe,Ve],e),styleTags:bt(ze.STYLE,[Fe],e),title:pt(e),titleAttributes:ft(Le,e)}}),(function(e){_t&&kt(_t),e.defer?_t=jt((function(){St(e,(function(){_t=null}))})):(St(e),_t=null)}),It)((function(){return null})),Dt=(Ue=$t,qe=Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!Oe(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case ze.SCRIPT:case ze.NOSCRIPT:return{innerHTML:t};case ze.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,r=e.child,s=e.arrayTypeChildren,a=e.newChildProps,n=e.nestedChildren;return ut({},s,((t={})[r.type]=[].concat(s[r.type]||[],[ut({},a,this.mapNestedChildrenToProps(r,n))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,r,s=e.child,a=e.newProps,n=e.newChildProps,i=e.nestedChildren;switch(s.type){case ze.TITLE:return ut({},a,((t={})[s.type]=i,t.titleAttributes=ut({},n),t));case ze.BODY:return ut({},a,{bodyAttributes:ut({},n)});case ze.HTML:return ut({},a,{htmlAttributes:ut({},n)})}return ut({},a,((r={})[s.type]=ut({},n),r))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var r=ut({},t);return Object.keys(e).forEach((function(t){var s;r=ut({},r,((s={})[t]=e[t],s))})),r},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var r=this,s={};return i.Children.forEach(e,(function(e){if(e&&e.props){var a=e.props,n=a.children,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[it[r]||r]=e[r],t}),t)}(ht(a,["children"]));switch(r.warnOnInvalidChildren(e,n),e.type){case ze.LINK:case ze.META:case ze.NOSCRIPT:case ze.SCRIPT:case ze.STYLE:s=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:s,newChildProps:i,nestedChildren:n});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:i,nestedChildren:n})}}})),t=this.mapArrayTypeChildrenToProps(s,t)},t.prototype.render=function(){var e=this.props,t=e.children,r=ht(e,["children"]),s=ut({},r);return t&&(s=this.mapChildrenToProps(t,s)),i.createElement(Ue,s)},dt(t,null,[{key:"canUseDOM",set:function(e){Ue.canUseDOM=e}}]),t}(i.Component),Be.propTypes={base:be.object,bodyAttributes:be.object,children:be.oneOfType([be.arrayOf(be.node),be.node]),defaultTitle:be.string,defer:be.bool,encodeSpecialCharacters:be.bool,htmlAttributes:be.object,link:be.arrayOf(be.object),meta:be.arrayOf(be.object),noscript:be.arrayOf(be.object),onChangeClientState:be.func,script:be.arrayOf(be.object),style:be.arrayOf(be.object),title:be.string,titleAttributes:be.object,titleTemplate:be.string},Be.defaultProps={defer:!0,encodeSpecialCharacters:!0},Be.peek=Ue.peek,Be.rewind=function(){var e=Ue.rewind();return e||(e=It({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},qe);Dt.renderStatic=Dt.rewind;const Lt="/Portfolio/assets/Logo-DWg4K-M0.png",zt=()=>de.jsxs("footer",{className:"bg-[#153462] text-white font-light",children:[de.jsxs("div",{className:"relative pt-12 pb-8",children:[de.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center pointer-events-none",children:[de.jsx("div",{className:"w-full border-t-[4px] border-[#f68921] mb-1"}),de.jsx("div",{className:"w-full border-t-[4px] border-[#79989f] mb-1"}),de.jsx("div",{className:"w-full border-t-[4px] border-[#18616e]"})]}),de.jsx("div",{className:"relative flex justify-center",children:de.jsx("div",{className:"bg-[#153462] px-6",children:de.jsx("img",{src:Lt,alt:"Logo",className:"h-24 w-auto object-contain"})})})]}),de.jsxs("div",{className:"max-w-7xl mx-auto px-8 pb-16",children:[de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-12",children:[de.jsxs("div",{className:"md:col-span-4 flex flex-col space-y-4",children:[de.jsx("img",{src:Lt,alt:"EITO Group",className:"h-20 w-fit mb-2"}),de.jsx("h2",{className:"tracking-[0.4em] text-xl font-normal uppercase",children:"EITO Group"}),de.jsxs("ul",{className:"space-y-4 text-sm md:text-base opacity-80",children:[de.jsx("li",{children:"Email: info@eitogroup.com.my"}),de.jsx("li",{children:"Phone: +6016-328 7947"})]})]}),de.jsx("div",{className:"md:col-span-8 grid grid-cols-1 sm:grid-cols-3 gap-8",children:[{title:"Company",links:["Our Value","Contact us"]},{title:"Services",links:[{label:"Team Building",path:"/work-showcase/team-building"},{label:"Training Program",path:"/work-showcase/training-program"},{label:"CSR",path:"/work-showcase/CSR"},{label:"Corporate Event",path:"/work-showcase/corporate-event"}]},{title:"Certifications",links:[]}].map((e=>de.jsxs("div",{children:[de.jsx("h3",{className:"tracking-[0.3em] text-lg font-bold uppercase mb-6 text-[#f68921]",children:e.title}),de.jsx("ul",{className:"space-y-4",children:e.links.map((e=>{const t="string"==typeof e?e:e.label,r="string"==typeof e?`#${e.toLowerCase().replace(/\s/g,"-")}`:e.path;return de.jsx("li",{children:de.jsx("a",{href:r,className:"text-white hover:text-[#79989f] transition-colors",children:t})},t)}))}),"Certifications"===e.title&&de.jsx("div",{className:"mt-6 flex justify-start",children:de.jsx("img",{src:"/Portfolio//HRD.png",alt:"HRD Certification",className:"h-20 w-auto object-contain brightness-0 invert opacity-80"})})]},e.title)))})]}),de.jsx("div",{className:"mt-16 pt-8 border-t border-white/10 flex flex-col items-center justify-center",children:de.jsx("span",{className:"tracking-[0.3em] text-[10px] md:text-xs uppercase opacity-50 text-center",children:"Â© 2026 by EITO Group Team Building. All rights reserved."})})]})]});function Mt(...e){return e.filter(Boolean).join(" ")}const Ut=r.forwardRef(((e,t)=>{const{texts:s,transition:a={type:"spring",damping:25,stiffness:300},initial:n={y:"100%",opacity:0},animate:i={y:0,opacity:1},exit:o={y:"-120%",opacity:0},animatePresenceMode:l="wait",animatePresenceInitial:c=!1,rotationInterval:d=2e3,staggerDuration:u=0,staggerFrom:h="first",loop:m=!0,auto:p=!0,splitBy:g="characters",onNext:b,mainClassName:y,splitLevelClassName:v,elementLevelClassName:w,...j}=e,[k,N]=r.useState(0),_=e=>{if("undefined"!=typeof Intl&&Intl.Segmenter){const t=new Intl.Segmenter("en",{granularity:"grapheme"});return Array.from(t.segment(e),(e=>e.segment))}return Array.from(e)},S=r.useMemo((()=>{const e=s[k];if("characters"===g){const t=e.split(" ");return t.map(((e,r)=>({characters:_(e),needsSpace:r!==t.length-1})))}return"words"===g?e.split(" ").map(((e,t,r)=>({characters:[e],needsSpace:t!==r.length-1}))):"lines"===g?e.split("\n").map(((e,t,r)=>({characters:[e],needsSpace:t!==r.length-1}))):e.split(g).map(((e,t,r)=>({characters:[e],needsSpace:t!==r.length-1})))}),[s,k,g]),C=r.useCallback(((e,t)=>{const r=t;if("first"===h)return e*u;if("last"===h)return(r-1-e)*u;if("center"===h){const t=Math.floor(r/2);return Math.abs(t-e)*u}if("random"===h){const t=Math.floor(Math.random()*r);return Math.abs(t-e)*u}return Math.abs(h-e)*u}),[h,u]),E=r.useCallback((e=>{N(e),b&&b(e)}),[b]),T=r.useCallback((()=>{const e=k===s.length-1?m?0:k:k+1;e!==k&&E(e)}),[k,s.length,m,E]),O=r.useCallback((()=>{const e=0===k?m?s.length-1:k:k-1;e!==k&&E(e)}),[k,s.length,m,E]),R=r.useCallback((e=>{const t=Math.max(0,Math.min(e,s.length-1));t!==k&&E(t)}),[s.length,k,E]),P=r.useCallback((()=>{0!==k&&E(0)}),[k,E]);return r.useImperativeHandle(t,(()=>({next:T,previous:O,jumpTo:R,reset:P})),[T,O,R,P]),r.useEffect((()=>{if(!p)return;const e=setInterval(T,d);return()=>clearInterval(e)}),[T,d,p]),de.jsxs(f.span,{className:Mt("text-rotate",y),...j,layout:!0,transition:a,children:[de.jsx("span",{className:"text-rotate-sr-only",children:s[k]}),de.jsx(x,{mode:l,initial:c,children:de.jsx(f.span,{className:Mt("lines"===g?"text-rotate-lines":"text-rotate"),layout:!0,"aria-hidden":"true",children:S.map(((e,t,r)=>{const s=r.slice(0,t).reduce(((e,t)=>e+t.characters.length),0);return de.jsxs("span",{className:Mt("text-rotate-word",v),children:[e.characters.map(((e,t)=>de.jsx(f.span,{initial:n,animate:i,exit:o,transition:{...a,delay:C(s+t,r.reduce(((e,t)=>e+t.characters.length),0))},className:Mt("text-rotate-element",w),children:e},t))),e.needsSpace&&de.jsx("span",{className:"text-rotate-space",children:" "})]},t)}))},k)})]})}));Ut.displayName="RotatingText";var Bt=function(e,t){return(Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};var qt=function(){return qt=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},qt.apply(this,arguments)};function Wt(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]])}return r}function Ft(e,t,r,s){return new(r||(r=Promise))((function(a,n){function i(e){try{l(s.next(e))}catch(t){n(t)}}function o(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class Gt extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Ht extends Gt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vt extends Gt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Kt extends Gt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jt,Yt;(Yt=Jt||(Jt={})).Any="any",Yt.ApNortheast1="ap-northeast-1",Yt.ApNortheast2="ap-northeast-2",Yt.ApSouth1="ap-south-1",Yt.ApSoutheast1="ap-southeast-1",Yt.ApSoutheast2="ap-southeast-2",Yt.CaCentral1="ca-central-1",Yt.EuCentral1="eu-central-1",Yt.EuWest1="eu-west-1",Yt.EuWest2="eu-west-2",Yt.EuWest3="eu-west-3",Yt.SaEast1="sa-east-1",Yt.UsEast1="us-east-1",Yt.UsWest1="us-west-1",Yt.UsWest2="us-west-2";class Zt{constructor(e,{headers:t={},customFetch:r,region:s=Jt.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ft(this,arguments,void 0,(function*(e,t={}){var r;let s,a;try{const{headers:n,method:i,body:o,signal:l,timeout:c}=t;let d={},{region:u}=t;u||(u=this.region);const h=new URL(`${this.url}/${e}`);let m;u&&"any"!==u&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u)),o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)?"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=o):"string"==typeof o?(d["Content-Type"]="text/plain",m=o):"undefined"!=typeof FormData&&o instanceof FormData?m=o:(d["Content-Type"]="application/json",m=JSON.stringify(o)):m=!o||"string"==typeof o||"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer||"undefined"!=typeof FormData&&o instanceof FormData?o:JSON.stringify(o);let p=l;c&&(a=new AbortController,s=setTimeout((()=>a.abort()),c),l?(p=a.signal,l.addEventListener("abort",(()=>a.abort()))):p=a.signal);const g=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),n),body:m,signal:p}).catch((e=>{throw new Ht(e)})),f=g.headers.get("x-relay-error");if(f&&"true"===f)throw new Vt(g);if(!g.ok)throw new Kt(g);let x,b=(null!==(r=g.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return x="application/json"===b?yield g.json():"application/octet-stream"===b||"application/pdf"===b?yield g.blob():"text/event-stream"===b?g:"multipart/form-data"===b?yield g.formData():yield g.text(),{data:x,error:null,response:g}}catch(n){return{data:null,error:n,response:n instanceof Kt||n instanceof Vt?n.context:void 0}}finally{s&&clearTimeout(s)}}))}}var Xt=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Qt=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{let t=null,s=null,a=null,n=e.status,i=e.statusText;if(e.ok){var o,l;if("HEAD"!==r.method){var c;const t=await e.text();""===t||(s="text/csv"===r.headers.get("Accept")||r.headers.get("Accept")&&(null===(c=r.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const d=null===(o=r.headers.get("Prefer"))||void 0===o?void 0:o.match(/count=(exact|planned|estimated)/),u=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");d&&u&&u.length>1&&(a=parseInt(u[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(s)&&(s.length>1?(t={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,a=null,n=406,i="Not Acceptable"):s=1===s.length?s[0]:null)}else{var d;const a=await e.text();try{t=JSON.parse(a),Array.isArray(t)&&404===e.status&&(s=[],t=null,n=200,i="OK")}catch(u){404===e.status&&""===a?(n=204,i="No Content"):t={message:a}}if(t&&r.isMaybeSingle&&(null==t||null===(d=t.details)||void 0===d?void 0:d.includes("0 rows"))&&(t=null,n=200,i="OK"),t&&r.shouldThrowOnError)throw new Xt(t)}return{error:t,data:s,count:a,status:n,statusText:i}}));return this.shouldThrowOnError||(s=s.catch((e=>{var t;let r="";const s=null==e?void 0:e.cause;if(s){var a,n,i,o;const t=null!==(a=null==s?void 0:s.message)&&void 0!==a?a:"",l=null!==(n=null==s?void 0:s.code)&&void 0!==n?n:"";r=`${null!==(i=null==e?void 0:e.name)&&void 0!==i?i:"FetchError"}: ${null==e?void 0:e.message}`,r+=`\n\nCaused by: ${null!==(o=null==s?void 0:s.name)&&void 0!==o?o:"Error"}: ${t}`,l&&(r+=` (${l})`),(null==s?void 0:s.stack)&&(r+=`\n${s.stack}`)}else{var l;r=null!==(l=null==e?void 0:e.stack)&&void 0!==l?l:""}return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:r,hint:"",code:""},data:null,count:null,status:0,statusText:""}}))),s.then(e,t)}returns(){return this}overrideTypes(){return this}},er=class extends Qt{select(e){let t=!1;const r=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const n=a?`${a}.order`:"order",i=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const a=void 0===s?"offset":`${s}.offset`,n=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(n,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:n="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const tr=new RegExp("[,()]");var rr=class extends er{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map((e=>"string"==typeof e&&tr.test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map((e=>"string"==typeof e&&tr.test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let a="";"plain"===s?a="pl":"phrase"===s?a="ph":"websearch"===s&&(a="w");const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},sr=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:s}=null!=t?t:{},a=r?"HEAD":"GET";let n=!1;const i=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e))).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),s&&l.append("Prefer",`count=${s}`),new rr({method:a,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const{url:a,headers:n}=this.cloneRequestState();if(t&&n.append("Prefer",`count=${t}`),r||n.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));a.searchParams.set("columns",e.join(","))}}return new rr({method:"POST",url:a,headers:n,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){var n;const{url:i,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&i.searchParams.set("on_conflict",t),s&&o.append("Prefer",`count=${s}`),a||o.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));i.searchParams.set("columns",e.join(","))}}return new rr({method:"POST",url:i,headers:o,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}update(e,{count:t}={}){var r;const{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new rr({method:"PATCH",url:s,headers:a,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:e}={}){var t;const{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new rr({method:"DELETE",url:r,headers:s,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},ar=class e{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=s}from(e){if(!e||"string"!=typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new sr(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:a}={}){var n;let i;const o=new URL(`${this.url}/rpc/${e}`);let l;const c=e=>null!==e&&"object"==typeof e&&(!Array.isArray(e)||e.some(c)),d=r&&Object.values(t).some(c);d?(i="POST",l=t):r||s?(i=r?"HEAD":"GET",Object.entries(t).filter((([e,t])=>void 0!==t)).map((([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`])).forEach((([e,t])=>{o.searchParams.append(e,t)}))):(i="POST",l=t);const u=new Headers(this.headers);return d?u.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&u.set("Prefer",`count=${a}`),new rr({method:i,url:o,headers:u,schema:this.schemaName,body:l,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}};class nr{constructor(){}static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const ir="2.0.0",or=ir,lr=1e4;var cr,dr,ur,hr,mr,pr,gr,fr,xr,br,yr;(dr=cr||(cr={}))[dr.connecting=0]="connecting",dr[dr.open=1]="open",dr[dr.closing=2]="closing",dr[dr.closed=3]="closed",(hr=ur||(ur={})).closed="closed",hr.errored="errored",hr.joined="joined",hr.joining="joining",hr.leaving="leaving",(pr=mr||(mr={})).close="phx_close",pr.error="phx_error",pr.join="phx_join",pr.reply="phx_reply",pr.leave="phx_leave",pr.access_token="access_token",(gr||(gr={})).websocket="websocket",(xr=fr||(fr={})).Connecting="connecting",xr.Open="open",xr.Closing="closing",xr.Closed="closed";class vr{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"==typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const s=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var t,r;const s=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},a=(new TextEncoder).encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,r){var s,a;const n=e.topic,i=null!==(s=e.ref)&&void 0!==s?s:"",o=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=0===Object.keys(c).length?"":JSON.stringify(c);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`ref length ${i.length} exceeds maximum of 255`);if(n.length>255)throw new Error(`topic length ${n.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const u=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+n.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let m=new DataView(h),p=0;m.setUint8(p++,this.KINDS.userBroadcastPush),m.setUint8(p++,o.length),m.setUint8(p++,i.length),m.setUint8(p++,n.length),m.setUint8(p++,l.length),m.setUint8(p++,d.length),m.setUint8(p++,t),Array.from(o,(e=>m.setUint8(p++,e.charCodeAt(0)))),Array.from(i,(e=>m.setUint8(p++,e.charCodeAt(0)))),Array.from(n,(e=>m.setUint8(p++,e.charCodeAt(0)))),Array.from(l,(e=>m.setUint8(p++,e.charCodeAt(0)))),Array.from(d,(e=>m.setUint8(p++,e.charCodeAt(0))));var g=new Uint8Array(h.byteLength+r.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(r),h.byteLength),g.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"==typeof e){const r=JSON.parse(e),[s,a,n,i,o]=r;return t({join_ref:s,ref:a,topic:n,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),s=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,s)}_decodeUserBroadcast(e,t,r){const s=t.getUint8(1),a=t.getUint8(2),n=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=r.decode(e.slice(o,o+s));o+=s;const c=r.decode(e.slice(o,o+a));o+=a;const d=r.decode(e.slice(o,o+n));o+=n;const u=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(r.decode(u)):u,m={type:this.BROADCAST_EVENT,event:c,payload:h};return n>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter((([e])=>t.includes(e)))):{}}}class wr{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}(yr=br||(br={})).abstime="abstime",yr.bool="bool",yr.date="date",yr.daterange="daterange",yr.float4="float4",yr.float8="float8",yr.int2="int2",yr.int4="int4",yr.int4range="int4range",yr.int8="int8",yr.int8range="int8range",yr.json="json",yr.jsonb="jsonb",yr.money="money",yr.numeric="numeric",yr.oid="oid",yr.reltime="reltime",yr.text="text",yr.time="time",yr.timestamp="timestamp",yr.timestamptz="timestamptz",yr.timetz="timetz",yr.tsrange="tsrange",yr.tstzrange="tstzrange";const jr=(e,t,r={})=>{var s;const a=null!==(s=r.skipTypes)&&void 0!==s?s:[];return t?Object.keys(t).reduce(((r,s)=>(r[s]=kr(s,e,t,a),r)),{}):{}},kr=(e,t,r,s)=>{const a=t.find((t=>t.name===e)),n=null==a?void 0:a.type,i=r[e];return n&&!s.includes(n)?Nr(n,i):_r(i)},Nr=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Tr(t,r)}switch(e){case br.bool:return Sr(t);case br.float4:case br.float8:case br.int2:case br.int4:case br.int8:case br.numeric:case br.oid:return Cr(t);case br.json:case br.jsonb:return Er(t);case br.timestamp:return Or(t);case br.abstime:case br.date:case br.daterange:case br.int4range:case br.int8range:case br.money:case br.reltime:case br.text:case br.time:case br.timestamptz:case br.timetz:case br.tsrange:case br.tstzrange:default:return _r(t)}},_r=e=>e,Sr=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Cr=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Er=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Tr=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,s=e[r];if("{"===e[0]&&"}"===s){let s;const n=e.slice(1,r);try{s=JSON.parse("["+n+"]")}catch(a){s=n?n.split(","):[]}return s.map((e=>Nr(t,e)))}return e},Or=e=>"string"==typeof e?e.replace(" ","T"):e,Rr=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Pr{constructor(e,t,r={},s=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ar,Ir,$r,Dr,Lr,zr,Mr,Ur;(Ir=Ar||(Ar={})).SYNC="sync",Ir.JOIN="join",Ir.LEAVE="leave";class Br{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Br.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=Br.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],s()})),this.channel._on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Br.syncDiff(this.state,e,t,r),s())})),this.onJoin(((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave(((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,r,s){const a=this.cloneDeep(e),n=this.transformState(t),i={},o={};return this.map(a,((e,t)=>{n[e]||(o[e]=t)})),this.map(n,((e,t)=>{const r=a[e];if(r){const s=t.map((e=>e.presence_ref)),a=r.map((e=>e.presence_ref)),n=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=r.filter((e=>s.indexOf(e.presence_ref)<0));n.length>0&&(i[e]=n),l.length>0&&(o[e]=l)}else i[e]=t})),this.syncDiff(a,{joins:i,leaves:o},r,s)}static syncDiff(e,t,r,s){const{joins:a,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,((t,s)=>{var a;const n=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(s),n.length>0){const r=e[t].map((e=>e.presence_ref)),s=n.filter((e=>r.indexOf(e.presence_ref)<0));e[t].unshift(...s)}r(t,n,s)})),this.map(n,((t,r)=>{let a=e[t];if(!a)return;const n=r.map((e=>e.presence_ref));a=a.filter((e=>n.indexOf(e.presence_ref)<0)),e[t]=a,s(t,a,r),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const s=e[r];return t[r]="metas"in s?s.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):s,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Dr=$r||($r={})).ALL="*",Dr.INSERT="INSERT",Dr.UPDATE="UPDATE",Dr.DELETE="DELETE",(zr=Lr||(Lr={})).BROADCAST="broadcast",zr.PRESENCE="presence",zr.POSTGRES_CHANGES="postgres_changes",zr.SYSTEM="system",(Ur=Mr||(Mr={})).SUBSCRIBED="SUBSCRIBED",Ur.TIMED_OUT="TIMED_OUT",Ur.CLOSED="CLOSED",Ur.CHANNEL_ERROR="CHANNEL_ERROR";class qr{constructor(e,t={config:{}},r){var s,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Pr(this,mr.join,this.params,this.timeout),this.rejoinTimer=new wr((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ur.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("error",(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())})),this._on(mr.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new Br(this),this.broadcastEndpointURL=Rr(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(s=this.params.config)||void 0===s?void 0:s.broadcast)||void 0===a?void 0:a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ur.closed){const{config:{broadcast:n,presence:i,private:o}}=this.params,l=null!==(s=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((e=>e.filter)))&&void 0!==s?s:[],c=!!this.bindings[Lr.PRESENCE]&&this.bindings[Lr.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),d={},u={broadcast:n,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError((t=>null==e?void 0:e(Mr.CHANNEL_ERROR,t))),this._onClose((()=>null==e?void 0:e(Mr.CLOSED))),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async({postgres_changes:t})=>{var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==t){const s=this.bindings.postgres_changes,a=null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0,n=[];for(let r=0;r<a;r++){const a=s[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,d=t&&t[r];if(!(d&&d.event===i&&qr.isFilterValueEqual(d.schema,o)&&qr.isFilterValueEqual(d.table,l)&&qr.isFilterValueEqual(d.filter,c)))return this.unsubscribe(),this.state=ur.errored,void(null==e||e(Mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));n.push(Object.assign(Object.assign({},a),{id:d.id}))}return this.bindings.postgres_changes=n,void(e&&e(Mr.SUBSCRIBED))}null==e||e(Mr.SUBSCRIBED)})).receive("error",(t=>{this.state=ur.errored,null==e||e(Mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null==e||e(Mr.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===ur.joined&&e===Lr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then((async()=>await this.subscribe()))),this._on(e,t,r)}async httpSend(e,t,r={}){var s;if(null==t)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const n={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,n,null!==(s=r.timeout)&&void 0!==s?s:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e,t={}){var r,s;if(this._canPush()||"broadcast"!==e.type)return new Promise((r=>{var s,a,n;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(n=null===(a=null===(s=this.params)||void 0===s?void 0:s.config)||void 0===a?void 0:a.broadcast)||void 0===n?void 0:n.ack)||r("ok"),i.receive("ok",(()=>r("ok"))),i.receive("error",(()=>r("error"))),i.receive("timeout",(()=>r("timed out")))}));{const{event:n,payload:i}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(s=e.body)||void 0===s?void 0:s.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ur.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise((s=>{r=new Pr(this,mr.leave,{},e),r.receive("ok",(()=>{t(),s("ok")})).receive("timeout",(()=>{t(),s("timed out")})).receive("error",(()=>{s("error")})),r.send(),this._canPush()||r.trigger("ok",{})})).finally((()=>{null==r||r.destroy()}))}teardown(){this.pushBuffer.forEach((e=>e.destroy())),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ur.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const s=new AbortController,a=setTimeout((()=>s.abort()),r),n=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),n}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Pr(this,e,t,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,a;const n=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=mr;if(r&&[i,o,l,c].indexOf(n)>=0&&r!==this._joinRef())return;let d=this._onMessage(n,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null===(s=this.bindings.postgres_changes)||void 0===s||s.filter((e=>{var t,r,s;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(s=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===s?void 0:s.toLocaleLowerCase())===n})).map((e=>e.callback(d,r))):null===(a=this.bindings[n])||void 0===a||a.filter((e=>{var r,s,a,i,o,l,c,d;if(["broadcast","presence","postgres_changes"].includes(n)){if("id"in e){const n=e.id,l=null===(r=e.filter)||void 0===r?void 0:r.event;return n&&(null===(s=t.ids)||void 0===s?void 0:s.includes(n))&&("*"===l||(null==l?void 0:l.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))&&(!(null===(i=e.filter)||void 0===i?void 0:i.table)||e.filter.table===(null===(o=t.data)||void 0===o?void 0:o.table))}{const r=null===(c=null===(l=null==e?void 0:e.filter)||void 0===l?void 0:l.event)||void 0===c?void 0:c.toLocaleLowerCase();return"*"===r||r===(null===(d=null==t?void 0:t.event)||void 0===d?void 0:d.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===n})).map((e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:s,type:a,errors:n}=e,i={schema:t,table:r,commit_timestamp:s,eventType:a,new:{},old:{},errors:n};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,r)}))}_isClosed(){return this.state===ur.closed}_isJoined(){return this.state===ur.joined}_isJoining(){return this.state===ur.joining}_isLeaving(){return this.state===ur.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter((e=>{var s;return!((null===(s=e.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&qr.isEqual(e.filter,t))}))),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mr.close,{},e)}_onError(e){this._on(mr.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ur.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=jr(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=jr(e.columns,e.old_record)),t}}const Wr=()=>{},Fr=25e3,Gr=10,Hr=100,Vr=[1e3,2e3,5e3,1e4];class Kr{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lr,this.transport=null,this.heartbeatIntervalMs=Fr,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wr,this.ref=0,this.reconnectTimer=null,this.vsn=or,this.logger=Wr,this.conn=null,this.sendBuffer=[],this.serializer=new vr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${gr.websocket}`,this.httpEndpoint=Rr(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nr.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout((()=>{this._setConnectionState("disconnected")}),100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cr.connecting:return fr.Connecting;case cr.open:return fr.Open;case cr.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find((e=>e.topic===r));if(s)return s;{const r=new qr(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:s,ref:a}=e,n=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${r} (${a})`,s),this.isConnected()?n():this.sendBuffer.push(n)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout((()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()}),Hr)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t.topic!==e.topic))}_onConnMessage(e){this.decode(e.data,(e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(o){this.log("error","error in heartbeat callback",o)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:r,payload:s,ref:a}=e,n=a?`(${a})`:"",i=s.status||"";this.log("receive",`${i} ${t} ${r} ${n}`.trim(),s),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(r,s,a))),this._triggerStateCallbacks("message",e)}))}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===cr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===cr.open||this.conn.readyState===cr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach((e=>e.teardown()))}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`);(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then((()=>{this.flushSendBuffer()})).catch((e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()})),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach((e=>e._trigger(mr.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach((e=>{const r={access_token:t,version:"realtime-js/2.91.0"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(mr.access_token,{access_token:t})})))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch((t=>{this.log("error",`Error setting auth in ${e}`,t)}))}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach((r=>{try{r(t)}catch(s){this.log("error",`error in ${e} callback`,s)}}))}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wr((async()=>{setTimeout((async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Gr)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,s,a,n,i,o,l,c,d,u,h;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:lr,this.heartbeatIntervalMs=null!==(s=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==s?s:Fr,this.worker=null!==(a=null==e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(n=null==e?void 0:e.accessToken)&&void 0!==n?n:null,this.heartbeatCallback=null!==(i=null==e?void 0:e.heartbeatCallback)&&void 0!==i?i:Wr,this.vsn=null!==(o=null==e?void 0:e.vsn)&&void 0!==o?o:or,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>Vr[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null==e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(d=null==e?void 0:e.decode)&&void 0!==d?d:(e,t)=>t(JSON.parse(e));break;case ir:this.encode=null!==(u=null==e?void 0:e.encode)&&void 0!==u?u:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null==e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var Jr=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null==(r=t.icebergType)?void 0:r.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function Yr(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:a,body:n,headers:i}){const o=function(e,t,r){const s=new URL(t,e);if(r)for(const[a,n]of Object.entries(r))void 0!==n&&s.searchParams.set(a,n);return s.toString()}(e.baseUrl,s,a),l=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),c=await t(o,{method:r,headers:{...n?{"Content-Type":"application/json"}:{},...l,...i},body:n?JSON.stringify(n):void 0}),d=await c.text(),u=(c.headers.get("content-type")||"").includes("application/json"),h=u&&d?JSON.parse(d):d;if(!c.ok){const e=u?h:void 0,t=null==e?void 0:e.error;throw new Jr((null==t?void 0:t.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:null==t?void 0:t.type,icebergCode:null==t?void 0:t.code,details:e})}return{status:c.status,headers:c.headers,data:h}}}}function Zr(e){return e.join("")}var Xr=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Zr(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map((e=>({namespace:e})))}async createNamespace(e,t){const r={namespace:e.namespace,properties:null==t?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zr(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zr(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zr(e.namespace)}`}),!0}catch(t){if(t instanceof Jr&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Jr&&409===r.status)return;throw r}}};function Qr(e){return e.join("")}var es=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((null==t?void 0:t.purge)??!1)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Jr&&404===r.status)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Jr&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ts=class{constructor(e){var t;let r="v1";e.catalogName&&(r+=`/${e.catalogName}`);const s=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Yr({baseUrl:s,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null==(t=e.accessDelegation)?void 0:t.join(","),this.namespaceOps=new Xr(this.client,r),this.tableOps=new es(this.client,r,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},rs=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ss(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var as=class extends rs{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ns=class extends rs{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const is=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),os=e=>{if(Array.isArray(e))return e.map((e=>os(e)));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((([e,r])=>{const s=e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[s]=os(r)})),t};function ls(e){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e){var t=function(e,t){if("object"!=ls(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t);if("object"!=ls(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ls(t)?t:t+""}function ds(e,t,r){return(t=cs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function us(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?us(Object(r),!0).forEach((function(t){ds(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):us(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ms=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},ps=async(e,t,r)=>{e instanceof await Response&&!(null==r?void 0:r.noResolveJson)?e.json().then((r=>{const s=e.status||500,a=(null==r?void 0:r.statusCode)||s+"";t(new as(ms(r),s,a))})).catch((e=>{t(new ns(ms(e),e))})):t(new ns(ms(e),e))},gs=(e,t,r,s)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&s?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(s)?(a.headers=hs({"Content-Type":"application/json"},null==t?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,(null==t?void 0:t.duplex)&&(a.duplex=t.duplex),hs(hs({},a),r)):a};async function fs(e,t,r,s,a,n){return new Promise(((i,o)=>{e(r,gs(t,s,a,n)).then((e=>{if(!e.ok)throw e;return(null==s?void 0:s.noResolveJson)?e:e.json()})).then((e=>i(e))).catch((e=>ps(e,o,s)))}))}async function xs(e,t,r,s){return fs(e,"GET",t,r,s)}async function bs(e,t,r,s,a){return fs(e,"POST",t,s,a,r)}async function ys(e,t,r,s,a){return fs(e,"PUT",t,s,a,r)}async function vs(e,t,r,s,a){return fs(e,"DELETE",t,s,a,r)}var ws=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ss(e))return{data:null,error:e};throw e}}};let js;js=Symbol.toStringTag;var ks=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[js]="BlobDownloadBuilder",this.promise=null}asStream(){return new ws(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ss(e))return{data:null,error:e};throw e}}};const Ns={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_s={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ss=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=is(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,s){var a=this;try{let n;const i=hs(hs({},_s),s);let o=hs(hs({},a.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const l=i.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(n=new FormData,n.append("cacheControl",i.cacheControl),l&&n.append("metadata",a.encodeMetadata(l)),n.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(n=r,n.has("cacheControl")||n.append("cacheControl",i.cacheControl),l&&!n.has("metadata")&&n.append("metadata",a.encodeMetadata(l))):(n=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(l))),("undefined"!=typeof ReadableStream&&n instanceof ReadableStream||n&&"object"==typeof n&&"pipe"in n&&"function"==typeof n.pipe)&&!i.duplex&&(i.duplex="half")),(null==s?void 0:s.headers)&&(o=hs(hs({},o),s.headers));const c=a._removeEmptyFolders(t),d=a._getFinalPath(c),u=await("PUT"==e?ys:bs)(a.fetch,`${a.url}/object/${d}`,n,hs({headers:o},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:c,id:u.Id,fullPath:u.Key},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ss(n))return{data:null,error:n};throw n}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var a=this;const n=a._removeEmptyFolders(e),i=a._getFinalPath(n),o=new URL(a.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let e;const t=hs({upsert:_s.upsert},s),i=hs(hs({},a.headers),{"x-upsert":String(t.upsert)});return"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType),{data:{path:n,fullPath:(await ys(a.fetch,o.toString(),e,{headers:i})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ss(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let s=r._getFinalPath(e);const a=hs({},r.headers);(null==t?void 0:t.upsert)&&(a["x-upsert"]="true");const n=await bs(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:a}),i=new URL(r.url+n.url),o=i.searchParams.get("token");if(!o)throw new rs("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;try{return{data:await bs(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ss(a))return{data:null,error:a};throw a}}async copy(e,t,r){var s=this;try{return{data:{path:(await bs(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:s.headers})).Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ss(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var s=this;try{let a=s._getFinalPath(e),n=await bs(s.fetch,`${s.url}/object/sign/${a}`,hs({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:s.headers});const i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return n={signedUrl:encodeURI(`${s.url}${n.signedURL}${i}`)},{data:n,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ss(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var s=this;try{const a=await bs(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:a.map((e=>hs(hs({},e),{},{signedUrl:e.signedURL?encodeURI(`${s.url}${e.signedURL}${n}`):null}))),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ss(a))return{data:null,error:a};throw a}}download(e,t){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),a=s?`?${s}`:"",n=this._getFinalPath(e);return new ks((()=>xs(this.fetch,`${this.url}/${r}/${n}${a}`,{headers:this.headers,noResolveJson:!0})),this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:os(await xs(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await async function(e,t,r,s){return fs(e,"HEAD",t,hs(hs({},r),{},{noResolveJson:!0}),s)}(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ss(s)&&s instanceof ns){const e=s.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&s.push(a);const n=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&s.push(i);let o=s.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}}async list(e,t,r){var s=this;try{const a=hs(hs(hs({},Ns),t),{},{prefix:e||""});return{data:await bs(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},r),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ss(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const s=hs({},e);return{data:await bs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Cs="2.91.0",Es={"X-Client-Info":`storage-js/${Cs}`};var Ts=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const a=new URL(e);(null==s?void 0:s.useNewHostname)&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=hs(hs({},Es),t),this.fetch=is(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await xs(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await xs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await bs(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}}async updateBucket(e,t){var r=this;try{return{data:await ys(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}}async emptyBucket(e){var t=this;try{return{data:await bs(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Os=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=hs(hs({},Es),t),this.fetch=is(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await bs(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&r.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&r.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&r.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&r.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&r.set("search",e.search);const s=r.toString(),a=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await xs(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!(e=>!(!e||"string"!=typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new rs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ts({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(e,t){const r=e[t];return"function"!=typeof r?r:async(...t)=>{try{return{data:await r.apply(e,t),error:null}}catch(a){if(s)throw a;return{data:null,error:a}}}}})}};const Rs={"X-Client-Info":`storage-js/${Cs}`,"Content-Type":"application/json"};var Ps=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function As(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}var Is=class extends Ps{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$s=class extends Ps{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Ds=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Ls=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zs=(e,t,r,s)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return s?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(s)?(a.headers=hs({"Content-Type":"application/json"},null==t?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,hs(hs({},a),r)):a};async function Ms(e,t,r,s,a,n){return new Promise(((i,o)=>{e(r,zs(t,s,a,n)).then((e=>{if(!e.ok)throw e;if(null==s?void 0:s.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}})).then((e=>i(e))).catch((e=>(async(e,t,r)=>{if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==r?void 0:r.noResolveJson)){const r=e.status||500,s=e;if("function"==typeof s.json)s.json().then((e=>{const s=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||r+"";t(new Is(Ls(e),r,s))})).catch((()=>{const e=r+"";t(new Is(s.statusText||`HTTP ${r} error`,r,e))}));else{const e=r+"";t(new Is(s.statusText||`HTTP ${r} error`,r,e))}}else t(new $s(Ls(e),e))})(e,o,s)))}))}async function Us(e,t,r,s,a){return Ms(e,"POST",t,s,a,r)}var Bs=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=hs(hs({},Rs),t),this.fetch=Ds(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Us(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(As(s))return{data:null,error:s};throw s}}async listIndexes(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Us(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(As(s))return{data:null,error:s};throw s}}},qs=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=hs(hs({},Rs),t),this.fetch=Ds(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Us(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:await Us(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Us(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}},Ws=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=hs(hs({},Rs),t),this.fetch=Ds(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Us(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}}},Fs=class extends Ws{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Gs(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(e={}){return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},Gs=class extends Bs{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){return(()=>super.createIndex)().call(this,hs(hs({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(e={}){return(()=>super.listIndexes)().call(this,hs(hs({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new Hs(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Hs=class extends qs{constructor(e,t,r,s,a){super(e,t,a),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,hs(hs({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,hs(hs({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(e={}){var t=this;return(()=>super.listVectors)().call(t,hs(hs({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,hs(hs({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,hs(hs({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Vs=class extends Ts{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new Ss(this.url,this.headers,e,this.fetch)}get vectors(){return new Fs(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Os(this.url+"/iceberg",this.headers,this.fetch)}};const Ks="2.91.0",Js=3e4,Ys=9e4,Zs={"X-Client-Info":`gotrue-js/${Ks}`},Xs="X-Supabase-Api-Version",Qs={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},ea=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ta extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ra(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class sa extends ta{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class aa extends ta{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class na extends ta{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class ia extends na{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class oa extends na{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class la extends na{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ca extends na{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class da extends na{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ua extends na{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ha extends na{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ma(e){return ra(e)&&"AuthRetryableFetchError"===e.name}class pa extends na{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class ga extends na{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xa=" \t\n\r=".split(""),ba=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xa.length;t+=1)e[xa[t].charCodeAt(0)]=-2;for(let t=0;t<fa.length;t+=1)e[fa[t].charCodeAt(0)]=t;return e})();function ya(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(fa[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(fa[e]),t.queuedBits-=6}}function va(e,t,r){const s=ba[e];if(!(s>-1)){if(-2===s)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function wa(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},n=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,s,r)};for(let i=0;i<e.length;i+=1)va(e.charCodeAt(i),a,n);return t.join("")}function ja(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function ka(e){const t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)va(e.charCodeAt(a),r,s);return new Uint8Array(t)}function Na(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const t=1024*(s-55296)&65535;s=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}ja(s,t)}}(e,(e=>t.push(e))),new Uint8Array(t)}function _a(e){const t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};return e.forEach((e=>ya(e,r,s))),ya(null,r,s),t.join("")}const Sa=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Ca={tested:!1,writable:!1},Ea=()=>{if(!Sa())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(Ca.tested)return Ca.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ca.tested=!0,Ca.writable=!0}catch(t){Ca.tested=!0,Ca.writable=!1}return Ca.writable};const Ta=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Oa=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ra=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(s){return r}},Pa=async(e,t)=>{await e.removeItem(t)};class Aa{constructor(){this.promise=new Aa.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Ia(e){const t=e.split(".");if(3!==t.length)throw new ga("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ea.test(t[r]))throw new ga("JWT not in base64url format");return{header:JSON.parse(wa(t[0])),payload:JSON.parse(wa(t[1])),signature:ka(t[2]),raw:{header:t[0],payload:t[1]}}}function $a(e){return("0"+e.toString(16)).substr(-2)}async function Da(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function La(e,t,r=!1){const s=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let s=0;s<56;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,$a).join("")}();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await Oa(e,`${t}-code-verifier`,a);const n=await Da(s);return[n,s===n?"plain":"s256"]}Aa.promiseConstructor=Promise;const za=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ma=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ua(e){if(!Ma.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ba(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qa(e){return JSON.parse(JSON.stringify(e))}const Wa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fa=[502,503,504];async function Ga(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new ha(Wa(e),0);if(Fa.includes(e.status))throw new ha(Wa(e),e.status);let s,a;try{s=await e.json()}catch(i){throw new aa(Wa(i),i)}const n=function(e){const t=e.headers.get(Xs);if(!t)return null;if(!t.match(za))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(i){return null}}(e);if(n&&n.getTime()>=Qs.timestamp&&"object"==typeof s&&s&&"string"==typeof s.code?a=s.code:"object"==typeof s&&s&&"string"==typeof s.error_code&&(a=s.error_code),a){if("weak_password"===a)throw new pa(Wa(s),e.status,(null===(t=s.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new ia}else if("object"==typeof s&&s&&"object"==typeof s.weak_password&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0))throw new pa(Wa(s),e.status,s.weak_password.reasons);throw new sa(Wa(s),e.status||500,a)}async function Ha(e,t,r,s){var a;const n=Object.assign({},null==s?void 0:s.headers);n[Xs]||(n[Xs]=Qs.name),(null==s?void 0:s.jwt)&&(n.Authorization=`Bearer ${s.jwt}`);const i=null!==(a=null==s?void 0:s.query)&&void 0!==a?a:{};(null==s?void 0:s.redirectTo)&&(i.redirect_to=s.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,s,a,n){const i=((e,t,r,s)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))})(t,s,a,n);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw new ha(Wa(l),0)}o.ok||await Ga(o);if(null==s?void 0:s.noResolveJson)return o;try{return await o.json()}catch(l){await Ga(l)}}(e,t,r+o,{headers:n,noResolveJson:null==s?void 0:s.noResolveJson},{},null==s?void 0:s.body);return(null==s?void 0:s.xform)?null==s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}function Va(e){var t;let r=null;var s;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(s=e.expires_in,Math.round(Date.now()/1e3)+s)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ka(e){const t=Va(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function Ja(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ya(e){return{data:e,error:null}}function Za(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:n}=e,i=Wt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:n},user:Object.assign({},i)},error:null}}function Xa(e){return e}const Qa=["global","local","others"];class en{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Ta(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Qa[0]){if(Qa.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qa.join(", ")}`);try{return await Ha(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ra(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ha(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ja})}catch(r){if(ra(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Wt(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=null==r?void 0:r.newEmail,delete s.newEmail),await Ha(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Za,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(ra(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ha(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ja})}catch(t){if(ra(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,a,n,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Ha(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(s=null==e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==a?a:""},xform:Xa});if(c.error)throw c.error;const d=await c.json(),u=null!==(n=c.headers.get("x-total-count"))&&void 0!==n?n:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t})),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ra(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Ua(e);try{return await Ha(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ja})}catch(t){if(ra(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ua(e);try{return await Ha(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ja})}catch(r){if(ra(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Ua(e);try{return await Ha(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ja})}catch(r){if(ra(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ua(e.userId);try{const{data:t,error:r}=await Ha(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(ra(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ua(e.userId),Ua(e.id);try{return{data:await Ha(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ra(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,s,a,n,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Ha(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(s=null==e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==a?a:""},xform:Xa});if(c.error)throw c.error;const d=await c.json(),u=null!==(n=c.headers.get("x-total-count"))&&void 0!==n?n:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t})),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ra(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Ha(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ra(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Ha(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ra(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Ha(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if(ra(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ha(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ra(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Ha(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ra(t))return{data:null,error:t};throw t}}}function tn(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const rn=!!(globalThis&&Ea()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class sn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class an extends sn{}async function nn(e,t,r){const s=new globalThis.AbortController;return t>0&&setTimeout((()=>{s.abort()}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},(async s=>{if(!s){if(0===t)throw new an(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(rn)try{await globalThis.navigator.locks.query()}catch(a){}return await r()}try{return await r()}finally{}}))))}function on(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ln(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,(e=>e.toString(16).padStart(2,"0"))).join("")}class cn extends Error{constructor({message:e,code:t,cause:r,name:s}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(a=null!=s?s:r instanceof Error?r.name:void 0)&&void 0!==a?a:"Unknown Error",this.code=t}}class dn extends cn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function un({error:e,options:t}){var r,s,a;const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new cn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(r=n.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new cn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(s=n.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new cn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(a=n.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new cn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new cn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name){return 0===n.pubKeyCredParams.filter((e=>"public-key"===e.type)).length?new cn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new cn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e})}if("SecurityError"===e.name){const t=window.location.hostname;if(!bn(t))return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rp.id!==t)return new cn({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new cn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new cn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hn({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new cn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!bn(t))return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new cn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new cn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const mn=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function pn(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,a=Wt(e,["challenge","user","excludeCredentials"]),n=ka(t).buffer,i=Object.assign(Object.assign({},r),{id:ka(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:n,user:i});if(s&&s.length>0){o.excludeCredentials=new Array(s.length);for(let e=0;e<s.length;e++){const t=s[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:ka(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function gn(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=Wt(e,["challenge","allowCredentials"]),a=ka(t).buffer,n=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){n.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];n.allowCredentials[e]=Object.assign(Object.assign({},t),{id:ka(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return n}function fn(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_a(new Uint8Array(e.response.attestationObject)),clientDataJSON:_a(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function xn(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e,s=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_a(new Uint8Array(a.authenticatorData)),clientDataJSON:_a(new Uint8Array(a.clientDataJSON)),signature:_a(new Uint8Array(a.signature)),userHandle:a.userHandle?_a(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function bn(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function yn(){var e,t;return!!(Sa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const vn={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wn={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jn(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r={};for(const a of e)if(a)for(const e in a){const n=a[e];if(void 0!==n)if(Array.isArray(n))r[e]=n;else if((s=n)instanceof ArrayBuffer||ArrayBuffer.isView(s))r[e]=n;else if(t(n)){const s=r[e];t(s)?r[e]=jn(s,n):r[e]=jn(n)}else r[e]=n}var s;return r}class kn{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:s},a){try{const{data:n,error:i}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!n)return{data:null,error:i};const o=null!=s?s:mn.createNewAbortSignal();if("create"===n.webauthn.type){const{user:e}=n.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${r}`),e.displayName||(e.displayName=e.name)}switch(n.webauthn.type){case"create":{const t=function(e,t){return jn(vn,e,t||{})}(n.webauthn.credential_options.publicKey,null==a?void 0:a.create),{data:r,error:s}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dn("Browser returned unexpected credential type",t)}:{data:null,error:new dn("Empty credential response",t)}}catch(t){return{data:null,error:un({error:t,options:e})}}}({publicKey:t,signal:o});return r?{data:{factorId:e,challengeId:n.id,webauthn:{type:n.webauthn.type,credential_response:r}},error:null}:{data:null,error:s}}case"request":{const t=function(e,t){return jn(wn,e,t||{})}(n.webauthn.credential_options.publicKey,null==a?void 0:a.request),{data:r,error:s}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dn("Browser returned unexpected credential type",t)}:{data:null,error:new dn("Empty credential response",t)}}catch(t){return{data:null,error:hn({error:t,options:e})}}}(Object.assign(Object.assign({},n.webauthn.credential_options),{publicKey:t,signal:o}));return r?{data:{factorId:e,challengeId:n.id,webauthn:{type:n.webauthn.type,credential_response:r}},error:null}:{data:null,error:s}}}}catch(n){return ra(n)?{data:null,error:n}:{data:null,error:new aa("Unexpected error in challenge",n)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:s}={}},a){if(!t)return{data:null,error:new ta("rpId is required for WebAuthn authentication")};try{if(!yn())return{data:null,error:new aa("Browser does not support WebAuthn",null)};const{data:n,error:i}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:s},{request:a});if(!n)return{data:null,error:i};const{webauthn:o}=n;return this._verify({factorId:e,challengeId:n.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:r,credential_response:o.credential_response}})}catch(n){return ra(n)?{data:null,error:n}:{data:null,error:new aa("Unexpected error in authenticate",n)}}}async _register({friendlyName:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:s}={}},a){if(!t)return{data:null,error:new ta("rpId is required for WebAuthn registration")};try{if(!yn())return{data:null,error:new aa("Browser does not support WebAuthn",null)};const{data:n,error:i}=await this._enroll({friendlyName:e});if(!n)return await this.client.mfa.listFactors().then((t=>{var r;return null===(r=t.data)||void 0===r?void 0:r.all.find((t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status))})).then((e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0)),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:n.id,friendlyName:n.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:s},{create:a});return o?this._verify({factorId:n.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:r,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(n){return ra(n)?{data:null,error:n}:{data:null,error:new aa("Unexpected error in register",n)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Nn={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zs,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function _n(e,t,r){return await r()}const Sn={};class Cn{get jwks(){var e,t;return null!==(t=null===(e=Sn[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Sn[this.storageKey]=Object.assign(Object.assign({},Sn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Sn[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sn[this.storageKey]=Object.assign(Object.assign({},Sn[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Nn),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=Cn.nextInstanceID[this.storageKey])&&void 0!==t?t:0,Cn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"==typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&Sa()){this._logPrefix();this.logDebugMessages}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new en({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Ta(a.fetch),this.lock=a.lock||_n,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Sa()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=nn:this.lock=_n,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kn(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Ea()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tn(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=tn(this.memoryStorage)),Sa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ks}) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(Sa()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((e,r)=>{t[r]=e}))}catch(s){}return r.searchParams.forEach(((e,r)=>{t[r]=e})),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Sa()&&this.detectSessionInUrl&&"none"!==r){const{data:s,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return ra(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return{error:a}}const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout((async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ra(t)?this._returnResult({error:t}):this._returnResult({error:new aa("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const a=await Ha(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken}},xform:Va}),{data:n,error:i}=a;if(i||!n)return this._returnResult({data:{user:null,session:null},error:i});const o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(ra(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,s;try{let a;if("email"in e){const{email:r,password:s,options:n}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await La(this.storage,this.storageKey)),a=await Ha(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:r,password:s,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:i,code_challenge_method:o},xform:Va})}else{if(!("phone"in e))throw new la("You must provide either an email or phone number and a password");{const{phone:t,password:n,options:i}=e;a=await Ha(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!==(r=null==i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(s=null==i?void 0:i.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Va})}}const{data:n,error:i}=a;if(i||!n)return await Pa(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:i});const o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(await Pa(this.storage,`${this.storageKey}-code-verifier`),ra(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:s,options:a}=e;t=await Ha(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Ka})}else{if(!("phone"in e))throw new la("You must provide either an email or phone number and a password");{const{phone:r,password:s,options:a}=e;t=await Ha(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Ka})}}const{data:r,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const e=new oa;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(ra(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,(async()=>this._exchangeCodeForSession(e)))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,s,a,n,i,o,l,c,d,u;let h,m;if("message"in e)h=e.message,m=e.signature;else{const{chain:d,wallet:u,statement:p,options:g}=e;let f;if(Sa())if("object"==typeof u)f=u;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");f=e.ethereum}else{if("object"!=typeof u||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");f=u}const x=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href),b=await f.request({method:"eth_requestAccounts"}).then((e=>e)).catch((()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")}));if(!b||0===b.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const y=on(b[0]);let v=null===(r=null==g?void 0:g.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!v){const e=await f.request({method:"eth_chainId"});v=parseInt(e,16)}h=function(e){var t;const{chainId:r,domain:s,expirationTime:a,issuedAt:n=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const m=`${d?`${d}://${s}`:s} wants you to sign in with your Ethereum account:\n${on(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let p=`URI: ${u}\nVersion: ${h}\nChain ID: ${r}${i?`\nNonce: ${i}`:""}\nIssued At: ${n.toISOString()}`;if(a&&(p+=`\nExpiration Time: ${a.toISOString()}`),o&&(p+=`\nNot Before: ${o.toISOString()}`),l&&(p+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}p+=e}return`${m}\n${p}`}({domain:x.host,address:y,statement:p,uri:x.href,version:"1",chainId:v,nonce:null===(s=null==g?void 0:g.signInWithEthereum)||void 0===s?void 0:s.nonce,issuedAt:null!==(n=null===(a=null==g?void 0:g.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==n?n:new Date,expirationTime:null===(i=null==g?void 0:g.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null==g?void 0:g.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==g?void 0:g.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==g?void 0:g.signInWithEthereum)||void 0===c?void 0:c.resources}),m=await f.request({method:"personal_sign",params:[ln(h),y]})}try{const{data:t,error:r}=await Ha(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:Va});if(r)throw r;if(!t||!t.session||!t.user){const e=new oa;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(p){if(ra(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,r,s,a,n,i,o,l,c,d,u,h;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:g,options:f}=e;let x;if(Sa())if("object"==typeof h)x=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!=typeof h||!(null==f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=h}const b=new URL(null!==(t=null==f?void 0:f.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==f?void 0:f.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in x&&"function"==typeof x.signMessage&&"publicKey"in x&&"object"==typeof x&&x.publicKey&&"toBase58"in x.publicKey&&"function"==typeof x.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${b.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${null!==(s=null===(r=null==f?void 0:f.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...(null===(a=null==f?void 0:f.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...(null===(n=null==f?void 0:f.signInWithSolana)||void 0===n?void 0:n.expirationTime)?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...(null===(i=null==f?void 0:f.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...(null===(o=null==f?void 0:f.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...(null===(l=null==f?void 0:f.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==f?void 0:f.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...f.signInWithSolana.resources.map((e=>`- ${e}`))]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(m),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await Ha(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:_a(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Va});if(r)throw r;if(!t||!t.session||!t.user){const e=new oa;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(g){if(ra(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await Ra(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(null!=t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new ua;const{data:t,error:a}=await Ha(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Va});if(await Pa(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!t||!t.session||!t.user){const e=new oa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),setTimeout((async()=>{await this._notifyAllSubscribers("SIGNED_IN",t.session)}),0)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=s?s:null}),error:a})}catch(a){if(await Pa(this.storage,`${this.storageKey}-code-verifier`),ra(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:a,nonce:n}=e,i=await Ha(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Va}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new oa;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(ra(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,s,a,n;try{if("email"in e){const{email:s,options:a}=e;let n=null,i=null;"pkce"===this.flowType&&([n,i]=await La(this.storage,this.storageKey));const{error:o}=await Ha(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null==a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:n,code_challenge_method:i},redirectTo:null==a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await Ha(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(s=null==r?void 0:r.data)&&void 0!==s?s:{},create_user:null===(a=null==r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(n=null==r?void 0:r.channel)&&void 0!==n?n:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o})}throw new la("You must provide either an email or phone number.")}catch(i){if(await Pa(this.storage,`${this.storageKey}-code-verifier`),ra(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,r;try{let s,a;"options"in e&&(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:n,error:i}=await Ha(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Va});if(i)throw i;if(!n){throw new Error("An error occurred on token verification.")}const o=n.session,l=n.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(s){if(ra(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,r,s,a,n;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await La(this.storage,this.storageKey));const l=await Ha(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ya});return(null===(a=l.data)||void 0===a?void 0:a.url)&&Sa()&&!(null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(await Pa(this.storage,`${this.storageKey}-code-verifier`),ra(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ia;const{error:s}=await Ha(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})}))}catch(e){if(ra(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:n}=await Ha(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},redirectTo:null==a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:n})}if("phone"in e){const{phone:r,type:s,options:a}=e,{data:n,error:i}=await Ha(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:i})}throw new la("You must provide either an email or phone number and a type")}catch(t){if(ra(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Ys;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await Ra(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=Ba()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,s)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"==typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,s)}return t.value||"string"!=typeof r||(t.value=!0),Reflect.get(e,r,s)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,(async()=>await this._getUser()));return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Ha(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ja}):await this._useSession((async e=>{var t,r,s;const{data:a,error:n}=e;if(n)throw n;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Ha(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(s=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0,xform:Ja}):{data:{user:null},error:new ia}}))}catch(t){if(ra(t))return function(e){return ra(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new ia;const n=s.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await La(this.storage,this.storageKey));const{data:l,error:c}=await Ha(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:n.access_token,xform:Ja});if(c)throw c;return n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("USER_UPDATED",n),this._returnResult({data:{user:n.user},error:null})}))}catch(r){if(await Pa(this.storage,`${this.storageKey}-code-verifier`),ra(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ia;const t=Date.now()/1e3;let r=t,s=!0,a=null;const{payload:n}=Ia(e.access_token);if(n.exp&&(r=n.exp,s=r<=t),s){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:s,error:n}=await this._getUser(e.access_token);if(n)throw n;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(ra(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var r;if(!e){const{data:s,error:a}=t;if(a)throw a;e=null!==(r=s.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new ia;const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(t){if(ra(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Sa())throw new ca("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ca(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new da("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new ca("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new da("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:n,expires_in:i,expires_at:o,token_type:l}=e;if(!(a&&i&&n&&l))throw new ca("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const{data:h,error:m}=await this._getUser(a);if(m)throw m;const p={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:d,expires_at:u,refresh_token:n,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(r){if(ra(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var r;const{data:s,error:a}=t;if(a)return this._returnResult({error:a});const n=null===(r=s.session)||void 0===r?void 0:r.access_token;if(n){const{error:t}=await this.admin.signOut(n,e);if(t&&(!function(e){return ra(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession((async t=>{var r,s;try{const{data:{session:s},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(a){await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a)}}))}async resetPasswordForEmail(e,t={}){let r=null,s=null;"pkce"===this.flowType&&([r,s]=await La(this.storage,this.storageKey,!0));try{return await Ha(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await Pa(this.storage,`${this.storageKey}-code-verifier`),ra(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(ra(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:s}=await this._useSession((async t=>{var r,s,a,n,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Ha(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==i?i:void 0})}));if(s)throw s;return Sa()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(r){if(ra(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession((async t=>{var r;try{const{error:s,data:{session:a}}=t;if(s)throw s;const{options:n,provider:i,token:o,access_token:l,nonce:c}=e,d=await Ha(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(r=null==a?void 0:a.access_token)&&void 0!==r?r:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Va}),{data:u,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):u&&u.session&&u.user?(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:h})):this._returnResult({data:{user:null,session:null},error:new oa})}catch(s){if(await Pa(this.storage,`${this.storageKey}-code-verifier`),ra(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}))}async unlinkIdentity(e){try{return await this._useSession((async t=>{var r,s;const{data:a,error:n}=t;if(n)throw n;return await Ha(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(s=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0})}))}catch(t){if(ra(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Ha(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Va})),s=(e,t)=>{const r=200*Math.pow(2,e);return t&&ma(t)&&Date.now()+r-a<Js},new Promise(((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await r(n);if(!s(n,null,t))return void e(t)}catch(a){if(!s(n,a))return void t(a)}})()})))}catch(a){if(this._debug(t,"error",a),ra(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var r,s}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Sa()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Ra(this.storage,this.storageKey);if(a&&this.userStorage){let t=await Ra(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Oa(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:Ba()}else if(a&&!a.user&&!a.user){const e=await Ra(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(a.user=e.user,await Pa(this.storage,this.storageKey+"-user"),await Oa(this.storage,this.storageKey,a)):a.user=Ba()}if(this._debug(r,"session from storage",a),!this._isValidSession(a))return this._debug(r,"session is not valid"),void(null!==a&&await this._removeSession());const n=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<Ys;if(this._debug(r,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(ma(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null==e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return void this._debug(r,"error",a)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ia;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Aa;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new ia;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const s={data:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(s,"error",a),ra(a)){const e={data:null,error:a};return ma(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(e,t)}catch(a){s.push(a)}}));if(await Promise.all(a),s.length>0){for(let e=0;e<s.length;e+=1);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Pa(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await Oa(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const s=qa(e);await Oa(this.storage,this.storageKey,s)}else{const e=qa(t);await Oa(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pa(this.storage,this.storageKey),await Pa(this.storage,this.storageKey+"-code-verifier"),await Pa(this.storage,this.storageKey+"-user"),this.userStorage&&await Pa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Sa()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Js);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0);this.autoRefreshTickTimeout=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const s=Math.floor((1e3*r.expires_at-t)/Js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof sn))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sa()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await La(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});s.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);s.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var r;const{data:s,error:a}=t;return a?this._returnResult({data:null,error:a}):await Ha(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(ra(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession((async t=>{var r,s;const{data:a,error:n}=t;if(n)return this._returnResult({data:null,error:n});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await Ha(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(s=null==o?void 0:o.totp)||void 0===s?void 0:s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))}))}catch(t){if(ra(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,(async()=>{try{return await this._useSession((async t=>{var r;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const n=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?fn(e.webauthn.credential_response):xn(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await Ha(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:n,headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))}))}catch(t){if(ra(t))return this._returnResult({data:null,error:t});throw t}}))}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,(async()=>{try{return await this._useSession((async t=>{var r;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const n=await Ha(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});if(n.error)return n;const{data:i}=n;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:pn(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:gn(i.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(t){if(ra(t))return this._returnResult({data:null,error:t});throw t}}))}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])s.all.push(a),"verified"===a.status&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ia(r.access_token);let n=null;a.aal&&(n=a.aal);let i=n;(null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter((e=>"verified"===e.status)))&&void 0!==t?t:[]).length>0&&(i="aal2");return{data:{currentLevel:n,nextLevel:i,currentAuthenticationMethods:a.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession((async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await Ha(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new ia})}))}catch(t){if(ra(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession((async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new ia});const n=await Ha(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return n.data&&n.data.redirect_url&&Sa()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(n.data.redirect_url),n}))}catch(r){if(ra(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession((async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new ia});const n=await Ha(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return n.data&&n.data.redirect_url&&Sa()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(n.data.redirect_url),n}))}catch(r){if(ra(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await Ha(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new ia})}))}catch(e){if(ra(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession((async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?(await Ha(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ia})}))}catch(t){if(ra(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find((t=>t.kid===e));if(r)return r;const s=Date.now();if(r=this.jwks.keys.find((t=>t.kid===e)),r&&this.jwks_cached_at+6e5>s)return r;const{data:a,error:n}=await Ha(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;return a.keys&&0!==a.keys.length?(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find((t=>t.kid===e)),r||null):null}async getClaims(e,t={}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:s,payload:a,signature:n,raw:{header:i,payload:o}}=Ia(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=s.alg&&!s.alg.startsWith("HS")&&s.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(s.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:s,signature:n},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(s.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,d,n,Na(`${i}.${o}`))))throw new ga("Invalid JWT signature");return{data:{claims:a,header:s,signature:n},error:null}}catch(r){if(ra(r))return this._returnResult({data:null,error:r});throw r}}}Cn.nextInstanceID={};const En=Cn;let Tn="";Tn="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const On={headers:{"X-Client-Info":`supabase-js-${Tn}/2.91.0`}},Rn={schema:"public"},Pn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},An={};function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e){var t=function(e,t){if("object"!=In(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t);if("object"!=In(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==In(t)?t:t+""}function Dn(e,t,r){return(t=$n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(r),!0).forEach((function(t){Dn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Mn=(e,t,r)=>{const s=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r),a=Headers;return async(r,n)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new a(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),s(r,zn(zn({},n),{},{headers:l}))}};var Un=class extends En{constructor(e){super(e)}},Bn=class{constructor(e,t,r){var s,a;this.supabaseUrl=e,this.supabaseKey=t;const n=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((r=t).endsWith("/")?r:r+"/")}catch(s){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var r}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",n),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",n),this.storageUrl=new URL("storage/v1",n),this.functionsUrl=new URL("functions/v1",n);const i=`sb-${n.hostname.split(".")[0]}-auth-token`,o=function(e,t){var r,s;const{db:a,auth:n,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:zn(zn({},l),a),auth:zn(zn({},c),n),realtime:zn(zn({},d),i),storage:{},global:zn(zn(zn({},u),o),{},{headers:zn(zn({},null!==(r=null==u?void 0:u.headers)&&void 0!==r?r:{}),null!==(s=null==o?void 0:o.headers)&&void 0!==s?s:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=r?r:{},{db:Rn,realtime:An,auth:zn(zn({},Pn),{},{storageKey:i}),global:On});var l;(this.storageKey=null!==(s=o.auth.storageKey)&&void 0!==s?s:"",this.headers=null!==(a=o.global.headers)&&void 0!==a?a:{},o.accessToken)?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(l=o.auth)&&void 0!==l?l:{},this.headers,o.global.fetch);this.fetch=Mn(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(zn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then((e=>this.realtime.setAuth(e))).catch((e=>{})),this.rest=new ar(new URL("rest/v1",n).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new Vs(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new Zt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,r=this;if(r.accessToken)return await r.accessToken();const{data:s}=await r.auth.getSession();return null!==(e=null===(t=s.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:n,flowType:i,lock:o,debug:l,throwOnError:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Un({url:this.authUrl.href,headers:zn(zn({},h),d),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,flowType:i,lock:o,debug:l,throwOnError:c,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some((e=>"authorization"===e.toLowerCase()))})}_initRealtimeClient(e){return new Kr(this.realtimeUrl.href,zn(zn({},e),{},{params:zn(zn({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}};!function(){if("undefined"!=typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(null==t)return!1;const r=t.match(/^v(\d+)\./);!!r&&parseInt(r[1],10)}();const qn=new Bn("https://faclulceyzjtkaqeidge.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZhY2x1bGNleXpqdGthcWVpZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODE4NjAsImV4cCI6MjA4NDU1Nzg2MH0.EquOCOQ8LvFOLWGOGQc-D4FonCOykLR3UeTAyDsefrI",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});const Wn={name:"EITO Group",tagline:"Building experiences that bring teams together",bio:"With a passion for creating meaningful connections, I specialize in designing team-building experiences that foster collaboration, growth, and lasting impact."},Fn=({personalInfo:e,preview:t=!1})=>{const s=e||Wn,a=r.useRef(null),{scrollYProgress:n}=b({target:a,offset:["start start","end start"]}),i=y(n,[0,1],["0%","20%"]),o=y(n,[0,.5,1],[1,.9,.6]),[l,c]=r.useState([]),[d,u]=r.useState(0);return r.useEffect((()=>{(async()=>{try{const{data:e,error:t}=await qn.from("hero_images").select("image_url").eq("is_active",!0).order("created_at",{ascending:!1});if(t)throw t;e&&e.length>0?c(e.map((e=>e.image_url))):c(["/Portfolio/_JIN3046.jpg","/Portfolio/different.jpg","/Portfolio/collage.jpg","/Portfolio/mainPic.jpg","/Portfolio/training.jpg","/Portfolio/discuss.jpg","/Portfolio/teamwork.jpg"])}catch(e){c(["/Portfolio/_JIN3046.jpg","/Portfolio/different.jpg","/Portfolio/collage.jpg","/Portfolio/mainPic.jpg","/Portfolio/training.jpg","/Portfolio/discuss.jpg","/Portfolio/teamwork.jpg"])}})()}),[]),r.useEffect((()=>{if(0===l.length)return;const e=setInterval((()=>{u((e=>(e+1)%l.length))}),5e3);return()=>clearInterval(e)}),[l.length]),t?de.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg h-72 md:h-80",children:[de.jsxs("div",{className:"absolute inset-0",children:[l.length>0&&de.jsx(f.div,{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${l[d]})`},animate:{scale:1.05},transition:{duration:10,repeat:1/0,repeatType:"reverse"}}),de.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),de.jsx("div",{className:"relative h-full flex items-center justify-center p-4",children:de.jsxs("div",{className:"text-center space-y-3",children:[de.jsx("h1",{className:"text-2xl md:text-3xl font-bold",style:{color:"#fcb22f"},children:s.name}),de.jsx("p",{className:"text-sm md:text-base text-white font-medium",children:"We Build Team Experiences"})]})})]}):de.jsxs("section",{ref:a,className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[de.jsxs("div",{className:"absolute inset-0 z-0",children:[l.map(((e,t)=>de.jsx(f.div,{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${e})`},initial:{opacity:0},animate:{opacity:t===d?1:0},transition:{duration:1.5}},e))),de.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),de.jsx(f.div,{className:"relative z-10 w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 md:py-32",style:{opacity:o,y:i},children:de.jsx("div",{className:"flex flex-col items-center text-center",children:de.jsxs(f.div,{className:"space-y-6 sm:space-y-8 max-w-3xl",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.25,.46,.45,.94]},children:[de.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[de.jsx(f.h1,{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold leading-none",style:{color:"#fcb22f"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:[.25,.46,.45,.94]},children:s.name}),de.jsxs(f.div,{className:"text-3xl sm:text-4xl md:text-5xl handwritten text-foreground/90",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3,ease:[.25,.46,.45,.94]},children:[de.jsx("span",{className:"font-bold",style:{color:"#ffffff"},children:"We Build Unforgettable Team Experiences â For "}),de.jsx(Ut,{texts:["People.","Culture.","Growth."],mainClassName:"inline-flex font-extrabold",style:{color:"#fcb22f"},staggerFrom:"last",initial:{y:"100%"},animate:{y:0},exit:{y:"-120%"},staggerDuration:.025,splitLevelClassName:"overflow-hidden",transition:{type:"spring",damping:30,stiffness:400},rotationInterval:2e3})]}),de.jsx(f.p,{className:"text-lg sm:text-xl md:text-2xl text-foreground/70 font-light leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:[.25,.46,.45,.94]},children:s.tagline})]}),de.jsx(f.div,{className:"h-1 bg-primary rounded-full mx-auto",initial:{width:0},animate:{width:120},transition:{duration:.8,delay:.5,ease:[.25,.46,.45,.94]}}),de.jsx(f.p,{className:"text-lg sm:text-xl leading-relaxed text-white font-bold",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6,ease:[.25,.46,.45,.94]},children:s.bio})]})})})]})},Gn=[{src:"/Portfolio/e.jpg",label:"Equilibrium",hoverText:"Creating balance between fun and impact"},{src:"/Portfolio/i.jpg",label:"Integrity",hoverText:"Doing what we say, always"},{src:"/Portfolio/t.jpg",label:"Teamwork",hoverText:"Collaboration over competition"},{src:"/Portfolio/o.jpg",label:"Honour",hoverText:"Respecting people and their potential"}],Hn=({text:e,minFontSize:t=16,maxFontSize:s=28})=>{const a=r.useRef(null),[n,i]=r.useState(s);return r.useEffect((()=>{const e=()=>{const e=a.current;if(!e)return;let r=s;e.style.fontSize=r+"px";const n=e.parentElement;if(n){for(;r>t&&e.scrollWidth>n.offsetWidth-40;)r-=1,e.style.fontSize=r+"px";i(r)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[e,t,s]),de.jsx("span",{ref:a,style:{fontSize:n+"px",fontStyle:"italic",fontWeight:500,whiteSpace:"nowrap",color:"#fff",textAlign:"center",padding:"0 8px"},children:e})},Vn=()=>de.jsxs("div",{style:{width:"100%",maxWidth:900,margin:"0 auto",padding:"40px 0"},children:[de.jsx("style",{children:"\n        .eito-card-group:hover .eito-hover-overlay {\n          opacity: 1 !important;\n          pointer-events: auto !important;\n        }\n        .eito-card-group:hover img {\n          transform: scale(1.05);\n        }\n      "}),de.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:Gn.map((e=>de.jsx("div",{style:{position:"relative",cursor:"pointer"},className:"eito-card-group",children:de.jsxs("div",{style:{borderRadius:12,overflow:"hidden",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",width:"100%",background:"#23242b",minHeight:220,display:"flex",alignItems:"flex-end",justifyContent:"center",position:"relative"},children:[de.jsx("img",{src:e.src,alt:e.label,style:{width:"100%",height:"auto",display:"block",transition:"transform 0.4s ease-out"}}),de.jsx("div",{style:{position:"absolute",bottom:24,left:0,width:"100%",textAlign:"center",zIndex:2,pointerEvents:"none"},children:de.jsx("h2",{style:{fontFamily:"Sora, Space Grotesk, sans-serif",fontWeight:800,fontSize:"2.5rem",margin:0,textShadow:"0 2px 8px rgba(0,0,0,0.25)",letterSpacing:"-1px",lineHeight:1.1,background:"linear-gradient(90deg, #fcb22f 0%, #fff 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e.label})}),de.jsx("div",{className:"eito-hover-overlay",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.3s",borderRadius:12,zIndex:3,pointerEvents:"none"},children:de.jsxs("blockquote",{style:{padding:"16px",borderLeft:"4px solid #fcb22f",background:"rgba(255,255,255,0.1)",borderRadius:8,margin:0,maxWidth:"85%",display:"flex",alignItems:"center",justifyContent:"center"},children:[de.jsx("span",{style:{fontSize:"1.5rem",color:"#fcb22f",fontWeight:700,marginRight:4},children:"â"}),de.jsx(Hn,{text:e.hoverText}),de.jsx("span",{style:{fontSize:"1.5rem",color:"#fcb22f",fontWeight:700,marginLeft:4},children:"â"})]})})]})},e.src)))})]}),Kn=({belief:e})=>{const t=w(0),r=w(0),s=v(t),a=v(r),n=y(a,[-.5,.5],["10deg","-10deg"]),i=y(s,[-.5,.5],["-10deg","10deg"]);return de.jsxs(f.div,{onMouseMove:e=>{const s=e.currentTarget.getBoundingClientRect(),a=(e.clientX-s.left)/s.width-.5,n=(e.clientY-s.top)/s.height-.5;t.set(a),r.set(n)},onMouseLeave:()=>{t.set(0),r.set(0)},style:{rotateX:n,rotateY:i,transformStyle:"preserve-3d"},className:"group relative h-[450px] rounded-[2.5rem] overflow-hidden cursor-pointer shadow-2xl",children:[e.bgImage?de.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110",style:{backgroundImage:`url('${e.bgImage}')`}}):de.jsx("div",{className:"absolute inset-0 bg-white"}),de.jsx("div",{className:"absolute inset-0 bg-white/80 group-hover:bg-white/70 transition-colors duration-500"}),de.jsx("div",{className:"absolute -right-4 -bottom-10 text-[12rem] font-black opacity-[0.05] group-hover:opacity-10 group-hover:-translate-y-8 transition-all duration-700 pointer-events-none",style:{color:e.color,transform:"translateZ(30px)"},children:e.letter}),de.jsxs("div",{className:"relative z-10 p-10 h-full flex flex-col",style:{transform:"translateZ(75px)"},children:[de.jsx("div",{className:"w-12 h-12 rounded-2xl mb-8 flex items-center justify-center text-2xl shadow-inner transition-transform duration-500 group-hover:rotate-[360deg]",style:{backgroundColor:`${e.color}20`},children:e.accent}),de.jsx("h3",{className:"text-2xl font-extrabold text-[#23242b] mb-4 group-hover:text-[#e1620b] transition-colors",children:e.title}),de.jsx("p",{className:"text-gray-600 leading-relaxed font-medium mb-auto",children:e.description}),de.jsxs(f.div,{initial:{y:20,opacity:0},whileHover:{y:0,opacity:1},className:"flex items-center gap-2 text-sm font-bold uppercase tracking-wider",style:{color:e.color},children:["View Details",de.jsx("span",{className:"w-8 h-8 rounded-full flex items-center justify-center border border-current",children:"â"})]})]}),de.jsx("div",{className:"absolute bottom-0 left-0 h-2 w-0 group-hover:w-full transition-all duration-700",style:{backgroundColor:e.color}})]})},Jn=()=>{const e=r.useRef(null),[t,s]=i.useState({x:0,y:0,isOver:!1}),{scrollYProgress:a}=b({target:e,offset:["start end","center center"]}),n=y(a,[0,1],[200,0]),o=y(a,[0,1],[.8,1]),l=y(a,[0,.5,1],[0,.5,1]),c=v(n,{stiffness:100,damping:20});return de.jsxs("section",{ref:e,className:"py-24 px-4 overflow-hidden relative",children:[de.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0",style:{backgroundImage:"url('/bg.jpg')"}}),de.jsx("div",{className:"absolute inset-0 bg-white/90 z-0"}),de.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[de.jsxs("div",{className:"text-center mb-24",children:[de.jsxs("h2",{className:"text-5xl font-black text-[#23242b] mb-4",children:["Our Beliefs & ",de.jsx("span",{className:"text-[#fcb22f]",children:"Values"})]}),de.jsx("p",{className:"text-gray-500 font-medium",children:"Built on experience, driven by connection."})]}),de.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 mb-32",style:{perspective:"1200px"},children:[{title:"Engagement Through Experience",description:"Meaningful experiences create real connection.",letter:"E",color:"#12a28f",accent:"ð¢",bgImage:"/Portfolio//Engagement.jpg"},{title:"Learning by Living",description:"Learning is most effective when it's lived, not lectured.",letter:"I",color:"#fcb22f",accent:"ð¡",bgImage:"/Portfolio//Living.jpg"},{title:"Valued Teams Perform",description:"Teams perform better when every member feels seen.",letter:"T",color:"#0074b4",accent:"ðµ",bgImage:"/Portfolio//Valued.jpg"}].map(((e,t)=>de.jsx(Kn,{belief:e},t)))}),de.jsx("div",{className:"py-20 flex flex-col items-center border-y border-gray-100/50 my-20",children:de.jsxs("p",{className:"text-4xl sm:text-6xl font-black text-center text-[#23242b] leading-tight",children:["That belief is the ",de.jsx("br",{}),de.jsxs("span",{className:"relative inline-block mt-4",children:[t.isOver&&de.jsx(f.div,{className:"absolute inset-0 z-0 pointer-events-none",style:{background:`radial-gradient(400px circle at ${t.x}px ${t.y}px, #fcb22f66 0%, transparent 100%)`}}),de.jsx(f.span,{style:{y:c,scale:o,opacity:l,rotate:"-15deg",backgroundColor:"#fcb22f"},className:"px-8 py-2 rounded-2xl text-white shadow-xl relative z-10",onMouseMove:e=>{const t=e.currentTarget.getBoundingClientRect();s({x:e.clientX-t.left,y:e.clientY-t.top,isOver:!0})},onMouseLeave:()=>s((e=>({...e,isOver:!1}))),children:"FOUNDATION"})]}),de.jsx("br",{}),de.jsx("span",{className:"opacity-90",children:"of everything we do."})]})}),de.jsxs("div",{className:"mt-20",children:[de.jsxs("div",{className:"text-center mb-16 rounded-[2.5rem] px-6 py-12 shadow-2xl overflow-hidden relative",style:{background:"#3a2c23"},children:[de.jsx("h3",{className:"relative z-10 text-sm font-black uppercase tracking-[0.4em] text-[#fcb22f] mb-4",children:"Core Principles"}),de.jsx("p",{className:"relative z-10 text-3xl font-bold text-white",children:"The E I T O Fundamentals"})]}),de.jsx(Vn,{})]})]})]})},Yn=()=>{const e=[{id:"team-building",label:"Team Building",color:"#f68921",subCategories:[{title:"Workshop",desc:"interactive indoor sessions focusing on problem solving."},{title:"Adventure",desc:"high-energy outdoor activities to push boundaries."},{title:"Virtual",desc:"engaging remote experiences for distributed teams."}]},{id:"training",label:"Training Program",color:"#79989f",subCategories:[{title:"Personal Skill",desc:"enhancing individual effectiveness and soft skills."},{title:"Departmental",desc:"custom training tailored for specific team workflows."},{title:"Leadership",desc:"strategic coaching for current and future leaders."}]},{id:"corporate",label:"Corporate Event",color:"#fcb22f",subCategories:[{title:"Annual Dinner",desc:"memorable celebrations to reward your team."},{title:"Kick-off Meeting",desc:"aligning vision and energy for the year ahead."}]},{id:"csr",label:"CSR",color:"#18616e",subCategories:[{title:"Environmental",desc:"eco-focused initiatives like tree planting and cleanups."},{title:"Community Outreach",desc:"direct support for local social welfare programs."},{title:"Education",desc:"empowering the next generation through skill sharing."}]}],[t,s]=r.useState(e[0]),[a,n]=r.useState(0),i=(e,t)=>{const r={size:28,strokeWidth:1.5,style:{color:t}};switch(e){case"Workshop":return de.jsx(P,{...r});case"Adventure":return de.jsx(R,{...r});case"Virtual":return de.jsx(O,{...r});case"Personal Skill":return de.jsx(T,{...r});case"Departmental":return de.jsx(E,{...r});case"Leadership":return de.jsx(C,{...r});case"Annual Dinner":return de.jsx(S,{...r});case"Kick-off Meeting":return de.jsx(_,{...r});case"Environmental":return de.jsx(N,{...r});case"Community Outreach":return de.jsx(k,{...r});case"Education":return de.jsx(j,{...r});default:return null}};return de.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-24 bg-white",children:[de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 items-stretch",children:[de.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-10",children:[de.jsxs("div",{className:"max-w-xs",children:[de.jsx("span",{className:"text-[#f68921] font-bold uppercase tracking-[0.25em] text-sm",children:"Our Expertise"}),de.jsxs("h4",{className:"text-4xl md:text-5xl font-black text-[#153462] mt-4 leading-tight uppercase tracking-tighter",children:[de.jsx("span",{className:"whitespace-nowrap",children:"Everyone In,"}),de.jsx("br",{}),de.jsx("span",{className:"text-[#f68921]",children:"Team On!"})]})]}),de.jsx("div",{className:"flex flex-col gap-4",children:e.map((e=>de.jsxs("button",{onClick:()=>(e=>{s(e),n((e=>e+1))})(e),className:`\n                  relative flex items-center justify-between px-8 py-7 rounded-3xl border-2 transition-all duration-500\n                  ${t.id===e.id?"bg-[#153462] border-[#153462] text-white shadow-xl shadow-[#153462]/20 translate-x-4":"bg-white border-slate-100 text-slate-500 hover:border-[#f68921]/40 hover:translate-x-2"}\n                `,children:[de.jsxs("div",{className:"flex items-center gap-5",children:[de.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(0,0,0,0.1)]",style:{backgroundColor:e.color}}),de.jsx("span",{className:"text-xl font-bold tracking-tight",children:e.label})]}),t.id===e.id&&de.jsx("div",{className:"bg-[#f68921] rounded-full p-1",children:de.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})})]},e.id)))})]}),de.jsxs("div",{className:"lg:col-span-8 bg-[#153462]/[0.02] rounded-[3rem] p-10 md:p-16 border border-[#153462]/5 min-h-[500px] flex flex-col relative overflow-hidden",children:[de.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-[0.03]",children:de.jsx("h2",{className:"text-9xl font-black text-[#153462]",children:"EITO"})}),de.jsx("div",{className:"flex items-center gap-3 mb-12 pb-6 border-b border-[#153462]/10 relative z-10",children:de.jsxs("h3",{className:"text-sm font-black uppercase tracking-[0.4em] text-[#153462]",children:[t.label," ",de.jsx("span",{className:"text-[#f68921]",children:"Solutions"})]})}),de.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-12 animate-fadeIn relative z-10",children:t.subCategories.map(((e,r)=>de.jsxs("div",{className:"group",children:[de.jsx("div",{className:"mb-6 w-16 h-16 rounded-2xl flex items-center justify-center transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 shadow-sm",style:{backgroundColor:`${t.color}15`},children:i(e.title,t.color)}),de.jsx("h4",{className:"text-2xl font-black text-[#153462] mb-3 uppercase tracking-tight",children:e.title}),de.jsxs("p",{className:"text-slate-500 leading-relaxed text-lg",children:["Elevate your team with ",de.jsx("span",{className:"text-[#153462] font-semibold",children:e.desc})]})]},r)))},a)]})]}),de.jsx("style",{dangerouslySetInnerHTML:{__html:"\n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;\n        }\n      "}})]})},Zn=()=>{const[e,t]=r.useState(null),s=[{label:"Team Building",icon:P,color:"#38bdf8",image:"/Portfolio//TB.jpg",description:"Transform your workplace culture through high-energy activities that break silos and build lasting trust.",link:"/work-showcase/team-building"},{label:"Corporate Event",icon:A,color:"#fcb22f",image:"/Portfolio//CE.jpg",description:"From gala dinners to product launches, we provide end-to-end execution that ensures your message resonates.",link:"/work-showcase/corporate-event"},{label:"Training Program",icon:j,color:"#00ccbc",image:"/Portfolio//GT.jpg",description:"Upskill your workforce with modules focusing on leadership, emotional intelligence, and excellence.",link:"/work-showcase/training-program"},{label:"CSR",icon:I,color:"#ee424c",image:"/Portfolio//csr.jpg",description:"Bridge the gap between corporate goals and social needs with initiatives that leave a measurable impact.",link:"/work-showcase/csr"}];return de.jsx("section",{className:"py-24 px-6 bg-[#fdfdfb]",children:de.jsxs("div",{className:"max-w-7xl mx-auto",children:[de.jsxs("div",{className:"flex flex-col items-center mb-16 text-center",children:[de.jsx("div",{className:"h-1 w-12 bg-[#fcb22f] mb-4"}),de.jsx("h2",{className:"text-4xl md:text-5xl font-black text-[#23242b] tracking-tight",children:"Our Services"})]}),de.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map(((r,s)=>{const a=e===s,n=r.icon;return de.jsx("div",{className:"our-role-flip-card-container",onClick:()=>(e=>{t((t=>t===e?null:e))})(s),children:de.jsxs("div",{className:"our-role-flip-card "+(a?"flipped":""),children:[de.jsxs("div",{className:"our-role-card-front",style:{backgroundImage:`url(${r.image})`},children:[de.jsx("div",{className:"front-overlay"}),de.jsxs("div",{className:"front-content",children:[de.jsx("div",{className:"icon-pill",style:{backgroundColor:`${r.color}20`,color:r.color},children:de.jsx(n,{size:20})}),de.jsx("span",{className:"front-label",children:r.label})]})]}),de.jsxs("div",{className:"our-role-card-back",style:{backgroundColor:r.color},children:[de.jsx("div",{className:"back-glass-layer"}),de.jsxs("div",{className:"back-content",children:[de.jsx(n,{size:40,strokeWidth:1.5,className:"mb-6 opacity-80"}),de.jsx("h3",{className:"text-xl font-extrabold mb-4 uppercase tracking-widest",children:r.label}),de.jsx("p",{className:"text-sm leading-relaxed mb-8 opacity-90 font-medium",children:r.description}),de.jsxs("a",{href:r.link,className:"view-details-btn",children:[de.jsx("span",{children:"Learn More"}),de.jsx("div",{className:"circle-arrow",children:de.jsx($,{size:18})})]})]})]})]})},r.label)}))})]})})};function Xn(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var Qn=Symbol.for("react.lazy"),ei=o[" use ".trim().toString()];function ti(e){return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===Qn&&"_payload"in e&&("object"==typeof(t=e._payload)&&null!==t&&"then"in t);var t}function ri(e){const t=ai(e),s=r.forwardRef(((e,s)=>{let{children:a,...n}=e;ti(a)&&"function"==typeof ei&&(a=ei(a._payload));const i=r.Children.toArray(a),o=i.find(ii);if(o){const e=o.props.children,a=i.map((t=>t===o?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t));return de.jsx(t,{...n,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return de.jsx(t,{...n,ref:s,children:a})}));return s.displayName=`${e}.Slot`,s}var si=ri("Slot");function ai(e){const t=r.forwardRef(((e,t)=>{let{children:s,...a}=e;if(ti(s)&&"function"==typeof ei&&(s=ei(s._payload)),r.isValidElement(s)){const e=function(e){var t,r;let s=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=s&&"isReactWarning"in s&&s.isReactWarning;if(a)return e.ref;if(s=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(s),n=function(e,t){const r={...t};for(const s in t){const a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{const t=n(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(a,s.props);return s.type!==r.Fragment&&(n.ref=t?function(...e){return t=>{let r=!1;const s=e.map((e=>{const s=Xn(e,t);return r||"function"!=typeof s||(r=!0),s}));if(r)return()=>{for(let t=0;t<s.length;t++){const r=s[t];"function"==typeof r?r():Xn(e[t],null)}}}}(t,e):e),r.cloneElement(s,n)}return r.Children.count(s)>1?r.Children.only(null):null}));return t.displayName=`${e}.SlotClone`,t}var ni=Symbol("radix.slottable");function ii(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ni}function oi(e){var t,r,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=oi(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function li(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=oi(e))&&(s&&(s+=" "),s+=t);return s}const ci=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,di=li,ui=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),hi="-",mi=[],pi=e=>{const t=xi(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return fi(e);const r=e.split(hi),s=""===r[0]&&r.length>1?1:0;return gi(r,s,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=s[e],a=r[e];return t?a?((e,t)=>{const r=new Array(e.length+t.length);for(let s=0;s<e.length;s++)r[s]=e[s];for(let s=0;s<t.length;s++)r[e.length+s]=t[s];return r})(a,t):t:a||mi}return r[e]||mi}}},gi=(e,t,r)=>{if(0===e.length-t)return r.classGroupId;const s=e[t],a=r.nextPart.get(s);if(a){const r=gi(e,t+1,a);if(r)return r}const n=r.validators;if(null===n)return;const i=0===t?e.join(hi):e.slice(t).join(hi),o=n.length;for(let l=0;l<o;l++){const e=n[l];if(e.validator(i))return e.classGroupId}},fi=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),s=t.slice(0,r);return s?"arbitrary.."+s:void 0})(),xi=e=>{const{theme:t,classGroups:r}=e;return bi(r,t)},bi=(e,t)=>{const r=ui();for(const s in e){const a=e[s];yi(a,r,s,t)}return r},yi=(e,t,r,s)=>{const a=e.length;for(let n=0;n<a;n++){const a=e[n];vi(a,t,r,s)}},vi=(e,t,r,s)=>{"string"!=typeof e?"function"!=typeof e?ki(e,t,r,s):ji(e,t,r,s):wi(e,t,r)},wi=(e,t,r)=>{(""===e?t:Ni(t,e)).classGroupId=r},ji=(e,t,r,s)=>{_i(e)?yi(e(s),t,r,s):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(r,e)))},ki=(e,t,r,s)=>{const a=Object.entries(e),n=a.length;for(let i=0;i<n;i++){const[e,n]=a[i];yi(n,Ni(t,e),r,s)}},Ni=(e,t)=>{let r=e;const s=t.split(hi),a=s.length;for(let n=0;n<a;n++){const e=s[n];let t=r.nextPart.get(e);t||(t=ui(),r.nextPart.set(e,t)),r=t}return r},_i=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,Si=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),s=Object.create(null);const a=(a,n)=>{r[a]=n,t++,t>e&&(t=0,s=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=s[e])?(a(e,t),t):void 0},set(e,t){e in r?r[e]=t:a(e,t)}}},Ci=[],Ei=(e,t,r,s,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:s,isExternal:a}),Ti=e=>{const{prefix:t,experimentalParseClassName:r}=e;let s=e=>{const t=[];let r,s=0,a=0,n=0;const i=e.length;for(let d=0;d<i;d++){const i=e[d];if(0===s&&0===a){if(":"===i){t.push(e.slice(n,d)),n=d+1;continue}if("/"===i){r=d;continue}}"["===i?s++:"]"===i?s--:"("===i?a++:")"===i&&a--}const o=0===t.length?e:e.slice(n);let l=o,c=!1;o.endsWith("!")?(l=o.slice(0,-1),c=!0):o.startsWith("!")&&(l=o.slice(1),c=!0);return Ei(t,c,l,r&&r>n?r-n:void 0)};if(t){const e=t+":",r=s;s=t=>t.startsWith(e)?r(t.slice(e.length)):Ei(Ci,!1,t,void 0,!0)}if(r){const e=s;s=t=>r({className:t,parseClassName:e})}return s},Oi=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach(((e,r)=>{t.set(e,1e6+r)})),e=>{const r=[];let s=[];for(let a=0;a<e.length;a++){const n=e[a],i="["===n[0],o=t.has(n);i||o?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(n)):s.push(n)}return s.length>0&&(s.sort(),r.push(...s)),r}},Ri=/\s+/,Pi=e=>{if("string"==typeof e)return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=Pi(e[s]))&&(r&&(r+=" "),r+=t);return r},Ai=(e,...t)=>{let r,s,a,n;const i=e=>{const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:n}=t,i=[],o=e.trim().split(Ri);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:m}=r(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!m,g=s(p?h.substring(0,m):h);if(!g){if(!p){l=e+(l.length>0?" "+l:l);continue}if(g=s(h),!g){l=e+(l.length>0?" "+l:l);continue}p=!1}const f=0===d.length?"":1===d.length?d[0]:n(d).join(":"),x=u?f+"!":f,b=x+g;if(i.indexOf(b)>-1)continue;i.push(b);const y=a(g,p);for(let r=0;r<y.length;++r){const e=y[r];i.push(x+e)}l=e+(l.length>0?" "+l:l)}return l})(e,r);return a(e,n),n};return n=o=>{const l=t.reduce(((e,t)=>t(e)),e());return r=(e=>({cache:Si(e.cacheSize),parseClassName:Ti(e),sortModifiers:Oi(e),...pi(e)}))(l),s=r.cache.get,a=r.cache.set,n=i,i(o)},(...e)=>n(((...e)=>{let t,r,s=0,a="";for(;s<e.length;)(t=e[s++])&&(r=Pi(t))&&(a&&(a+=" "),a+=r);return a})(...e))},Ii=[],$i=e=>{const t=t=>t[e]||Ii;return t.isThemeGetter=!0,t},Di=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Li=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zi=/^\d+\/\d+$/,Mi=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ui=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bi=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qi=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wi=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fi=e=>zi.test(e),Gi=e=>!!e&&!Number.isNaN(Number(e)),Hi=e=>!!e&&Number.isInteger(Number(e)),Vi=e=>e.endsWith("%")&&Gi(e.slice(0,-1)),Ki=e=>Mi.test(e),Ji=()=>!0,Yi=e=>Ui.test(e)&&!Bi.test(e),Zi=()=>!1,Xi=e=>qi.test(e),Qi=e=>Wi.test(e),eo=e=>!ro(e)&&!lo(e),to=e=>fo(e,vo,Zi),ro=e=>Di.test(e),so=e=>fo(e,wo,Yi),ao=e=>fo(e,jo,Gi),no=e=>fo(e,bo,Zi),io=e=>fo(e,yo,Qi),oo=e=>fo(e,No,Xi),lo=e=>Li.test(e),co=e=>xo(e,wo),uo=e=>xo(e,ko),ho=e=>xo(e,bo),mo=e=>xo(e,vo),po=e=>xo(e,yo),go=e=>xo(e,No,!0),fo=(e,t,r)=>{const s=Di.exec(e);return!!s&&(s[1]?t(s[1]):r(s[2]))},xo=(e,t,r=!1)=>{const s=Li.exec(e);return!!s&&(s[1]?t(s[1]):r)},bo=e=>"position"===e||"percentage"===e,yo=e=>"image"===e||"url"===e,vo=e=>"length"===e||"size"===e||"bg-size"===e,wo=e=>"length"===e,jo=e=>"number"===e,ko=e=>"family-name"===e,No=e=>"shadow"===e,_o=Ai((()=>{const e=$i("color"),t=$i("font"),r=$i("text"),s=$i("font-weight"),a=$i("tracking"),n=$i("leading"),i=$i("breakpoint"),o=$i("container"),l=$i("spacing"),c=$i("radius"),d=$i("shadow"),u=$i("inset-shadow"),h=$i("text-shadow"),m=$i("drop-shadow"),p=$i("blur"),g=$i("perspective"),f=$i("aspect"),x=$i("ease"),b=$i("animate"),y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",lo,ro],v=()=>[lo,ro,l],w=()=>[Fi,"full","auto",...v()],j=()=>[Hi,"none","subgrid",lo,ro],k=()=>["auto",{span:["full",Hi,lo,ro]},Hi,lo,ro],N=()=>[Hi,"auto",lo,ro],_=()=>["auto","min","max","fr",lo,ro],S=()=>["auto",...v()],C=()=>[Fi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],E=()=>[e,lo,ro],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",ho,no,{position:[lo,ro]}],O=()=>["auto","cover","contain",mo,to,{size:[lo,ro]}],R=()=>[Vi,co,so],P=()=>["","none","full",c,lo,ro],A=()=>["",Gi,co,so],I=()=>[Gi,Vi,ho,no],$=()=>["","none",p,lo,ro],D=()=>["none",Gi,lo,ro],L=()=>["none",Gi,lo,ro],z=()=>[Gi,lo,ro],M=()=>[Fi,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ki],breakpoint:[Ki],color:[Ji],container:[Ki],"drop-shadow":[Ki],ease:["in","out","in-out"],font:[eo],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ki],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ki],shadow:[Ki],spacing:["px",Gi],text:[Ki],"text-shadow":[Ki],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fi,ro,lo,f]}],container:["container"],columns:[{columns:[Gi,ro,lo,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Hi,"auto",lo,ro]}],basis:[{basis:[Fi,"full","auto",o,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Gi,Fi,"auto","initial","none",ro]}],grow:[{grow:["",Gi,lo,ro]}],shrink:[{shrink:["",Gi,lo,ro]}],order:[{order:[Hi,"first","last","none",lo,ro]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_()}],"auto-rows":[{"auto-rows":_()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[o,"screen",...C()]}],"min-w":[{"min-w":[o,"screen","none",...C()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",r,co,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,lo,ao]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vi,ro]}],"font-family":[{font:[uo,ro,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,lo,ro]}],"line-clamp":[{"line-clamp":[Gi,"none",lo,ao]}],leading:[{leading:[n,...v()]}],"list-image":[{"list-image":["none",lo,ro]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",lo,ro]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Gi,"from-font","auto",lo,so]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[Gi,"auto",lo,ro]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lo,ro]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lo,ro]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hi,lo,ro],radial:["",lo,ro],conic:[Hi,lo,ro]},po,io]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:A()}],"border-w-x":[{"border-x":A()}],"border-w-y":[{"border-y":A()}],"border-w-s":[{"border-s":A()}],"border-w-e":[{"border-e":A()}],"border-w-t":[{"border-t":A()}],"border-w-r":[{"border-r":A()}],"border-w-b":[{"border-b":A()}],"border-w-l":[{"border-l":A()}],"divide-x":[{"divide-x":A()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":A()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Gi,lo,ro]}],"outline-w":[{outline:["",Gi,co,so]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,go,oo]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,go,oo]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[Gi,so]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":A()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,go,oo]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[Gi,lo,ro]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Gi]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[lo,ro]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Gi]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",lo,ro]}],filter:[{filter:["","none",lo,ro]}],blur:[{blur:$()}],brightness:[{brightness:[Gi,lo,ro]}],contrast:[{contrast:[Gi,lo,ro]}],"drop-shadow":[{"drop-shadow":["","none",m,go,oo]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",Gi,lo,ro]}],"hue-rotate":[{"hue-rotate":[Gi,lo,ro]}],invert:[{invert:["",Gi,lo,ro]}],saturate:[{saturate:[Gi,lo,ro]}],sepia:[{sepia:["",Gi,lo,ro]}],"backdrop-filter":[{"backdrop-filter":["","none",lo,ro]}],"backdrop-blur":[{"backdrop-blur":$()}],"backdrop-brightness":[{"backdrop-brightness":[Gi,lo,ro]}],"backdrop-contrast":[{"backdrop-contrast":[Gi,lo,ro]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Gi,lo,ro]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Gi,lo,ro]}],"backdrop-invert":[{"backdrop-invert":["",Gi,lo,ro]}],"backdrop-opacity":[{"backdrop-opacity":[Gi,lo,ro]}],"backdrop-saturate":[{"backdrop-saturate":[Gi,lo,ro]}],"backdrop-sepia":[{"backdrop-sepia":["",Gi,lo,ro]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",lo,ro]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Gi,"initial",lo,ro]}],ease:[{ease:["linear","initial",x,lo,ro]}],delay:[{delay:[Gi,lo,ro]}],animate:[{animate:["none",b,lo,ro]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,lo,ro]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:z()}],"skew-x":[{"skew-x":z()}],"skew-y":[{"skew-y":z()}],transform:[{transform:[lo,ro,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:M()}],"translate-x":[{"translate-x":M()}],"translate-y":[{"translate-y":M()}],"translate-z":[{"translate-z":M()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lo,ro]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lo,ro]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[Gi,co,so,ao]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}));function So(...e){return _o(li(e))}const Co=(Eo="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",To={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90",warning:"bg-warning text-warning-foreground hover:bg-warning/90",danger:"bg-error text-error-foreground hover:bg-error/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",xs:"h-8 rounded-md px-2 text-xs",xl:"h-12 rounded-md px-10 text-base"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if(null==(null==To?void 0:To.variants))return di(Eo,null==e?void 0:e.class,null==e?void 0:e.className);const{variants:r,defaultVariants:s}=To,a=Object.keys(r).map((t=>{const a=null==e?void 0:e[t],n=null==s?void 0:s[t];if(null===a)return null;const i=ci(a)||ci(n);return r[t][i]})),n=e&&Object.entries(e).reduce(((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e}),{}),i=null==To||null===(t=To.compoundVariants)||void 0===t?void 0:t.reduce(((e,t)=>{let{class:r,className:a,...i}=t;return Object.entries(i).every((e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...n}[t]):{...s,...n}[t]===r}))?[...e,r,a]:e}),[]);return di(Eo,a,i,null==e?void 0:e.class,null==e?void 0:e.className)});var Eo,To;const Oo=i.forwardRef((({className:e,variant:t,size:r,asChild:s=!1,children:a,loading:n=!1,iconName:o=null,iconPosition:l="left",iconSize:c=null,fullWidth:d=!1,disabled:u=!1,...h},m)=>{var p,g,f;const x=s?si:"button",b=c||{xs:12,sm:14,default:16,lg:18,xl:20,icon:16}[r||"default"]||16,y=()=>de.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v=()=>{if(!o)return null;try{return de.jsx(he,{name:o,size:b,className:So(a&&"left"===l&&"mr-2",a&&"right"===l&&"ml-2")})}catch{return null}},w=()=>de.jsxs("button",{className:So(Co({variant:t,size:r,className:e}),d&&"w-full"),ref:m,disabled:u||n,...h,children:[n&&de.jsx(y,{}),o&&"left"===l&&v(),a,o&&"right"===l&&v()]});if(s)try{if(!a||1!==i.Children.count(a))return w();const s=i.Children.only(a);if(!i.isValidElement(s))return w();const c=de.jsxs(de.Fragment,{children:[n&&de.jsx(y,{}),o&&"left"===l&&v(),null==(p=s.props)?void 0:p.children,o&&"right"===l&&v()]}),b=i.cloneElement(s,{className:So(Co({variant:t,size:r,className:e}),d&&"w-full",null==(g=s.props)?void 0:g.className),disabled:u||n||(null==(f=s.props)?void 0:f.disabled),children:c});return de.jsx(x,{ref:m,...h,children:b})}catch{return w()}return de.jsxs(x,{className:So(Co({variant:t,size:r,className:e}),d&&"w-full"),ref:m,disabled:u||n,...h,children:[n&&de.jsx(y,{}),o&&"left"===l&&v(),a,o&&"right"===l&&v()]})}));Oo.displayName="Button";const Ro=({logos:e,autoScrollSpeed:t=.5,pauseOnHover:s=!0})=>{const a=r.useRef(null),n=r.useRef(null),i=r.useRef(0),o=r.useRef(0),l=r.useRef(null),[c,d]=r.useState(!1),[u,h]=r.useState(!1),m=r.useRef({x:0,offset:0}),p=[...e,...e,...e],g=228*e.length,f=r.useCallback((()=>{a.current&&(a.current.style.transform=`translateX(-${i.current}px)`)}),[]),x=r.useCallback((()=>{i.current>=2*g?i.current-=g:i.current<0&&(i.current+=g)}),[g]);r.useEffect((()=>{const e=()=>{c||u?c&&Math.abs(o.current)>.1&&(i.current+=o.current,o.current*=.92,x(),f()):(Math.abs(o.current)>.1?(i.current+=o.current,o.current*=.95):(o.current=0,i.current+=t),x(),f()),l.current=requestAnimationFrame(e)};return l.current=requestAnimationFrame(e),()=>{l.current&&cancelAnimationFrame(l.current)}}),[c,u,t,x,f]);const b=r.useCallback((e=>{d(!0),m.current={x:e.clientX,offset:i.current},o.current=0}),[]),y=r.useCallback((e=>{if(!c)return;const t=m.current.x-e.clientX,r=m.current.offset+t;o.current=.1*t,i.current=r,x(),f(),m.current.x=e.clientX,m.current.offset=i.current}),[c,x,f]),v=r.useCallback((()=>{d(!1)}),[]),w=r.useCallback((()=>{c&&d(!1),s&&h(!1)}),[c,s]),j=r.useCallback((e=>{d(!0),m.current={x:e.touches[0].clientX,offset:i.current},o.current=0}),[]),k=r.useCallback((e=>{if(!c)return;const t=m.current.x-e.touches[0].clientX,r=m.current.offset+t;o.current=.1*t,i.current=r,x(),f(),m.current.x=e.touches[0].clientX,m.current.offset=i.current}),[c,x,f]),N=r.useCallback((()=>{d(!1)}),[]);return de.jsx("section",{className:"w-full bg-secondary/30",children:de.jsx("div",{className:"max-w-full mx-auto",children:de.jsxs("div",{ref:n,className:"relative overflow-hidden select-none",onMouseEnter:()=>s&&h(!0),onMouseLeave:w,onMouseDown:b,onMouseMove:y,onMouseUp:v,onTouchStart:j,onTouchMove:k,onTouchEnd:N,style:{cursor:c?"grabbing":"grab"},children:[de.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-24 md:w-40 bg-gradient-to-r from-secondary/30 to-transparent z-10 pointer-events-none"}),de.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-24 md:w-40 bg-gradient-to-l from-secondary/30 to-transparent z-10 pointer-events-none"}),de.jsx("div",{ref:a,className:"flex items-center will-change-transform py-8",style:{gap:"48px"},children:p.map(((e,t)=>de.jsx("div",{className:"flex-shrink-0 flex items-center justify-center rounded-xl bg-background/60 backdrop-blur-sm border border-border/50 transition-all duration-300 hover:bg-background hover:border-border hover:shadow-lg group",style:{width:180,height:80},children:de.jsx("img",{src:e||"/placeholder.svg",alt:"Partner logo",className:"max-w-[75%] max-h-[60%] object-contain opacity-60 group-hover:opacity-100 transition-opacity duration-300 ",draggable:!1})},`${e}-${t}`)))})]})})})},Po=({reviews:e,autoplay:t=!0})=>{const[s,a]=r.useState(0),n=()=>{a((t=>(t+1)%e.length))},i=e=>e===s;r.useEffect((()=>{if(t){const e=setInterval(n,5e3);return()=>clearInterval(e)}}),[t]);const o=()=>Math.floor(21*Math.random())-10;return de.jsx("div",{className:"mx-auto max-w-sm px-4 py-20 font-sans antialiased md:max-w-4xl md:px-8 lg:px-12",children:de.jsxs("div",{className:"relative grid grid-cols-1 gap-20 md:grid-cols-2",children:[de.jsx("div",{children:de.jsx("div",{className:"relative h-80 w-full",children:de.jsx(x,{children:e.map(((t,r)=>de.jsx(f.div,{initial:{opacity:0,scale:.9,z:-100,rotate:o()},animate:{opacity:i(r)?1:.7,scale:i(r)?1:.95,z:i(r)?0:-100,rotate:i(r)?0:o(),zIndex:i(r)?40:e.length+2-r,y:i(r)?[0,-80,0]:0},exit:{opacity:0,scale:.9,z:100,rotate:o()},transition:{duration:.4,ease:"easeInOut"},className:"absolute inset-0 origin-bottom",children:de.jsx("div",{className:"h-full w-full rounded-3xl bg-white dark:bg-neutral-900 shadow-xl overflow-hidden border-4 border-white dark:border-neutral-800",children:de.jsx("div",{className:"h-full w-full flex items-center justify-center p-8",children:de.jsx("img",{src:t.profileImage,alt:t.name,draggable:!1,className:"w-48 h-48 rounded-full object-cover object-center shadow-2xl ring-4 ring-white dark:ring-neutral-800"})})})},t.name+r)))})})}),de.jsxs("div",{className:"flex flex-col justify-between py-4",children:[de.jsxs(f.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.2,ease:"easeInOut"},children:[de.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[de.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[de.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),de.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),de.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),de.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),de.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Google Review"})]}),de.jsx("h3",{className:"text-2xl font-bold text-black dark:text-white",children:e[s].name}),de.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[(l=e[s].rating,de.jsx("div",{className:"flex gap-1",children:[...Array(5)].map(((e,t)=>de.jsx(T,{className:"w-5 h-5 "+(t<l?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200 dark:fill-gray-700 dark:text-gray-700")},t)))})),de.jsx("span",{className:"text-sm text-gray-500 dark:text-neutral-500",children:e[s].date})]}),de.jsx(f.p,{className:"mt-8 text-lg text-gray-500 dark:text-neutral-300 leading-relaxed",children:e[s].quote.split(" ").map(((e,t)=>de.jsxs(f.span,{initial:{filter:"blur(10px)",opacity:0,y:5},animate:{filter:"blur(0px)",opacity:1,y:0},transition:{duration:.2,ease:"easeInOut",delay:.02*t},className:"inline-block",children:[e,"Â "]},t)))}),e[s].reviewUrl&&de.jsx("a",{href:e[s].reviewUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-6 text-blue-600 dark:text-blue-400 hover:underline text-sm font-medium",children:"View on Google â"})]},s),de.jsxs("div",{className:"flex gap-4 pt-12 md:pt-0",children:[de.jsx("button",{onClick:()=>{a((t=>(t-1+e.length)%e.length))},className:"group/button flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 dark:bg-neutral-800 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:de.jsx("svg",{className:"h-5 w-5 text-black dark:text-neutral-400 transition-transform duration-300 group-hover/button:-translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),de.jsx("button",{onClick:n,className:"group/button flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 dark:bg-neutral-800 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:de.jsx("svg",{className:"h-5 w-5 text-black dark:text-neutral-400 transition-transform duration-300 group-hover/button:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})});var l},Ao=[{quote:"EITO Group transformed our team! The activities were engaging and perfectly tailored to our needs. Our communication and collaboration have improved dramatically.",name:"Sarah Johnson",profileImage:"/Portfolio/customers/advelsoft.jpg",rating:5,date:"2 weeks ago",reviewUrl:"https://www.google.com/maps"},{quote:"Outstanding experience! The facilitators were professional, energetic, and really knew how to bring our team together. Highly recommend for any company looking to boost morale.",name:"Michael Chen",profileImage:"/Portfolio/customers/colgate.png",rating:5,date:"1 month ago",reviewUrl:"https://www.google.com/maps"},{quote:"We've worked with several team building companies, but EITO Group stands out. The activities were fun, meaningful, and led to real improvements in how we work together.",name:"Emily Rodriguez",profileImage:"/Portfolio/customers/advelsoft.jpg",rating:5,date:"3 months ago",reviewUrl:"https://www.google.com/maps"},{quote:"Absolutely fantastic! Our team had a blast and learned so much. The impact on our workplace culture has been incredible. Worth every penny!",name:"David Kim",profileImage:"/Portfolio/customers/colgate.png",rating:5,date:"1 month ago",reviewUrl:"https://www.google.com/maps"}],Io=({philosophies:e})=>{const[t,s]=r.useState([]),a=l();return r.useEffect((()=>{(async()=>{try{const{data:e,error:t}=await qn.from("client_logos").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(t)throw t;if(e&&e.length>0){const t=e.map((e=>e.logo_url));s(t)}}catch(e){}})()}),[]),de.jsx("section",{className:"relative py-20 overflow-hidden bg-white",children:de.jsxs("div",{className:"relative z-10 w-full",children:[de.jsxs(f.div,{className:"text-center mb-16 px-6",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[de.jsx("p",{className:"text-sm md:text-base font-bold uppercase tracking-[0.3em] text-[#f68921] mb-4",children:"Trusted Partnerships"}),de.jsx("h2",{className:"text-4xl lg:text-6xl font-black text-[#153462] mb-6 uppercase tracking-tighter",children:"Our Clients"}),de.jsx("div",{className:"w-20 h-1 bg-[#f68921] mx-auto mb-8 rounded-full"})," ",de.jsxs("p",{className:"text-lg md:text-xl text-[#153462]/70 max-w-2xl mx-auto font-medium",children:["We have a handsome list of clients to be proud of. ",de.jsx("br",{className:"hidden md:block"}),de.jsx("span",{className:"text-[#153462]",children:"Book today"})," and watch your company join the list!"]})]}),de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute inset-y-0 left-0 w-20 bg-gradient-to-r from-white to-transparent z-10 pointer-events-none"}),de.jsx("div",{className:"absolute inset-y-0 right-0 w-20 bg-gradient-to-l from-white to-transparent z-10 pointer-events-none"}),t.length>0&&de.jsx("div",{className:"py-10 bg-[#153462]/[0.02]",children:de.jsx(Ro,{logos:t,autoScrollSpeed:.5,pauseOnHover:!0})})]}),de.jsx("section",{className:"py-16 px-4",children:de.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[de.jsxs(f.h2,{initial:{opacity:0},whileInView:{opacity:1},className:"text-2xl md:text-4xl font-black text-[#153462] mb-4 uppercase tracking-tight",children:["Start building with us ",de.jsx("span",{className:"text-[#f68921]",children:"today"})," and see the difference."]}),de.jsx("p",{className:"text-[#153462]/60 font-medium tracking-wide",children:"EXPERIENCE â¢ ENGAGEMENT â¢ RESULTS"})]})}),de.jsxs(f.div,{className:"mt-20",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:[de.jsx("div",{className:"text-center mb-8 px-6",children:de.jsx("h3",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-4",children:"What Our Clients Say"})}),de.jsx(Po,{reviews:Ao,autoplay:!0})]}),de.jsx("div",{className:"w-full flex justify-center my-20 px-6",children:de.jsxs("div",{className:"w-full md:w-[85%] border-[1px] border-[#153462]/20 rounded-[2.5rem] p-10 md:p-16 flex flex-col md:flex-row items-center justify-between overflow-hidden relative shadow-2xl shadow-[#153462]/10",style:{minHeight:"400px",background:"linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)"},children:[de.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#f68921] opacity-[0.03] rounded-full -mr-20 -mt-20 blur-3xl"}),de.jsxs("div",{className:"flex-[1.2] min-w-0 z-10 text-center md:text-left",children:[de.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-[#153462] leading-[1.1] mb-4 uppercase tracking-tighter",children:["Let's Design",de.jsx("br",{className:"hidden md:block"}),de.jsx("span",{className:"text-[#f68921]",children:"Your Next"})," Team Session"]}),de.jsxs("p",{className:"text-xl md:text-2xl font-medium text-[#153462]/70 mb-10 max-w-xl",children:["No obligation. No consultation fee. ",de.jsx("br",{className:"hidden sm:block"}),de.jsx("span",{className:"italic border-b-2 border-[#f68921]/30",children:"Just ideas that work."})]}),de.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center md:justify-start",children:[de.jsx(Oo,{variant:"default",size:"lg",className:"bg-[#153462] hover:bg-[#1c447a] text-white font-bold px-10 py-7 rounded-2xl text-lg shadow-lg transition-all hover:-translate-y-1 active:scale-95",onClick:()=>a("/connection-hub"),children:"Book a Free Consultation"}),de.jsx(Oo,{variant:"outline",size:"lg",className:"bg-transparent hover:bg-[#153462]/5 text-[#153462] font-bold px-10 py-7 rounded-2xl text-lg border-2 border-[#153462] transition-all active:scale-95",onClick:()=>a("/work-showcase"),children:"Explore Our Services"})]})]}),de.jsxs("div",{className:"flex-1 flex justify-center items-center mt-12 md:mt-0 relative",children:[de.jsx(f.div,{animate:{y:[0,-15,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"relative z-10",children:de.jsx("img",{src:"/Portfolio//ready.svg",alt:"Ready to start",className:"w-full max-w-[380px] h-auto object-contain md:scale-125 drop-shadow-2xl"})}),de.jsx("div",{className:"absolute w-48 h-48 bg-[#153462] opacity-10 rounded-full blur-[80px]"})]})]})})]})})},$o=({children:e,className:t="",delay:s=0})=>{const a=r.useRef(null),n=D(a,{once:!1,margin:"-100px"});return de.jsx(f.section,{ref:a,initial:{opacity:0,y:50},animate:n?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.8,delay:s,ease:[.22,1,.36,1]},className:t,children:e})},Do=()=>{r.useEffect((()=>(document.documentElement.style.scrollBehavior="smooth",()=>{document.documentElement.style.scrollBehavior="auto"})),[]);const e={name:"EITO Group",title:"We Build Unforgettable Team Experiences â For People, For Culture, For Growth.",tagline:" ",bio:" When people connect, companies grow. ",image:"/Portfolio/assets/mainPic-WL16ORcX.jpg",alt:"A diverse group of professionals participating in a fun team-building activity, smiling and collaborating together."};return de.jsxs(de.Fragment,{children:[de.jsxs(Dt,{children:[de.jsx("title",{children:"EITO Group"}),de.jsx("link",{rel:"icon",type:"image/png",href:"/Portfolio/EITO bw.png"})]}),de.jsxs("div",{className:"min-h-screen bg-background relative",children:[de.jsxs("main",{className:"relative z-10",children:[de.jsx(Fn,{personalInfo:e}),de.jsx($o,{delay:.1,children:de.jsx(Jn,{})}),de.jsx($o,{delay:.2,children:de.jsx(Yn,{})}),de.jsx($o,{delay:.3,children:de.jsx(Zn,{})}),de.jsx($o,{delay:.4,children:de.jsx(Io,{philosophies:[{id:1,quote:"Alone we can do so little; together we can do so much.",author:"Helen Keller",context:"This reminds us that teamwork multiplies our impact and helps us achieve what we couldn't do alone."},{id:2,quote:"Coming together is a beginning. Keeping together is progress. Working together is success.",author:"Henry Ford",context:"True success is built on ongoing collaboration and unity."},{id:3,quote:"None of us is as smart as all of us.",author:"Ken Blanchard",context:"We value every team member's input and believe in the power of collective wisdom."},{id:4,quote:"Trust is knowing that when a team member does push you, they're doing it because they care about the team.",author:"Patrick Lencioni",context:"Healthy teams challenge each other to grow, always with respect and trust."},{id:5,quote:"Great things in business are never done by one person. They're done by a team of people.",author:"Steve Jobs",context:"We celebrate the achievements that come from working together."},{id:6,quote:"Teamwork divides the task and multiplies the success.",author:"Unknown",context:"By sharing the load, we make every challenge more manageable and every victory sweeter."}]})})]}),de.jsx(zt,{})]})]})},Lo=r.createContext({onCardClose:()=>{},currentIndex:0}),zo=({items:e,initialScroll:t=0})=>{const s=i.useRef(null),[a,n]=i.useState(!1),[o,l]=i.useState(!0),[c,d]=r.useState(0);r.useEffect((()=>{s.current&&(s.current.scrollLeft=t,u())}),[t]);const u=()=>{if(s.current){const{scrollLeft:e,scrollWidth:t,clientWidth:r}=s.current;n(e>0),l(e<t-r)}},h=()=>window&&window.innerWidth<768;return de.jsx(Lo.Provider,{value:{onCardClose:e=>{if(s.current){const t=((h()?230:384)+(h()?4:8))*(e+1);s.current.scrollTo({left:t,behavior:"smooth"}),d(e)}},currentIndex:c},children:de.jsxs("div",{className:"relative w-full",children:[de.jsxs("div",{className:"flex w-full overflow-x-scroll overscroll-x-auto scroll-smooth py-10 [scrollbar-width:none] md:py-20",ref:s,onScroll:u,children:[de.jsx("div",{className:So("absolute right-0 z-[1000] h-auto w-[5%] overflow-hidden bg-gradient-to-l")}),de.jsx("div",{className:So("flex flex-row justify-start gap-4 pl-4","mx-auto max-w-7xl"),children:e.map(((e,t)=>de.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,delay:.2*t,ease:"easeOut",once:!0}},className:"rounded-3xl last:pr-[5%] md:last:pr-[33%]",children:e},"card"+t)))})]}),de.jsxs("div",{className:"mr-10 flex justify-end gap-2",children:[de.jsx("button",{className:"relative z-40 flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 disabled:opacity-50 dark:bg-neutral-800",onClick:()=>{s.current&&s.current.scrollBy({left:-300,behavior:"smooth"})},disabled:!a,children:de.jsx(z,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})}),de.jsx("button",{className:"relative z-40 flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 disabled:opacity-50 dark:bg-neutral-800",onClick:()=>{s.current&&s.current.scrollBy({left:300,behavior:"smooth"})},disabled:!o,children:de.jsx(M,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]})]})})},Mo=({card:e,index:t,layout:s=!1,compact:a=!1})=>{const[n,i]=r.useState(!1),o=r.useRef(null),{onCardClose:l,currentIndex:c}=r.useContext(Lo);var d,u;r.useEffect((()=>{function e(e){"Escape"===e.key&&h()}return document.body.style.overflow=n?"hidden":"auto",window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[n]),d=o,u=()=>h(),r.useEffect((()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&u(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[d,u]);const h=()=>{i(!1),l(t)};return de.jsxs(de.Fragment,{children:[de.jsx(x,{children:n&&de.jsxs("div",{className:"fixed inset-0 z-50 h-screen overflow-auto",children:[de.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 h-full w-full bg-black/80 backdrop-blur-lg"}),de.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},ref:o,layoutId:s?`card-${e.title}`:void 0,className:"relative z-[60] mx-auto my-10 h-fit max-w-5xl rounded-3xl bg-white p-4 font-sans md:p-10 dark:bg-neutral-900",children:[de.jsx("button",{className:"sticky top-4 right-0 ml-auto flex h-8 w-8 items-center justify-center rounded-full bg-black dark:bg-white",onClick:h,children:de.jsx(L,{className:"h-6 w-6 text-neutral-100 dark:text-neutral-900"})}),de.jsx(f.p,{layoutId:s?`category-${e.title}`:void 0,className:"text-base font-medium text-black dark:text-white",children:e.category}),de.jsx(f.p,{layoutId:s?`title-${e.title}`:void 0,className:"mt-4 text-2xl font-semibold text-neutral-700 md:text-5xl dark:text-white",children:e.title}),de.jsx("div",{className:"py-10",children:e.content})]})]})}),de.jsxs(f.button,{layoutId:s?`card-${e.title}`:void 0,onClick:()=>{i(!0)},className:So(a?"relative z-10 flex h-56 w-44 flex-col items-start justify-start overflow-hidden rounded-3xl bg-gray-100 md:h-[24rem] md:w-72 dark:bg-neutral-900":"relative z-10 flex h-80 w-56 flex-col items-start justify-start overflow-hidden rounded-3xl bg-gray-100 md:h-[32rem] md:w-96 dark:bg-neutral-900"),children:[de.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 z-30 h-full bg-gradient-to-b from-black/50 via-transparent to-transparent"}),de.jsxs("div",{className:"relative z-40 p-8",children:[de.jsx(f.p,{layoutId:s?`category-${e.category}`:void 0,className:"text-left font-sans text-sm font-medium text-white md:text-base",children:e.category}),de.jsx(f.p,{layoutId:s?`title-${e.title}`:void 0,className:"mt-2 max-w-xs text-left font-sans text-xl font-semibold [text-wrap:balance] text-white md:text-3xl",children:e.title})]}),de.jsx(Uo,{src:e.src,alt:e.title,className:"absolute inset-0 z-10 object-cover"})]})]})},Uo=({src:e,className:t,alt:s,...a})=>{const[n,i]=r.useState(!0);return de.jsx("img",{className:So("h-full w-full transition duration-300",n?"blur-sm":"blur-0",t),onLoad:()=>i(!1),src:e,loading:"lazy",decoding:"async",alt:s||"Background of a beautiful view",...a})},Bo=({words:e,className:t,filter:s=!0,duration:a=.5})=>{const[n,i]=U();let o=e.split(" ");r.useEffect((()=>{i("span",{opacity:1,filter:s?"blur(0px)":"none"},{duration:a||1,delay:B(.2)})}),[n.current]);return de.jsx("div",{className:So("font-bold",t),children:de.jsx("div",{className:"mt-4",children:de.jsx("div",{className:"dark:text-white text-black text-2xl leading-snug tracking-wide",children:de.jsx(f.div,{ref:n,children:o.map(((e,t)=>de.jsxs(f.span,{className:"dark:text-white text-black opacity-0",style:{filter:s?"blur(10px)":"none"},children:[e," "]},e+t)))})})})})},qo=()=>{const e=r.useRef(null),{scrollYProgress:t}=b({target:e,offset:["start start","end start"]}),s=y(t,[0,1],["0%","50%"]),a=y(t,[0,.5],[1,0]);return de.jsxs("div",{ref:e,className:"relative w-full min-h-screen overflow-hidden bg-gradient-to-br from-background via-primary/5 to-secondary/10",children:[de.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[[{size:"w-96 h-96",gradient:"from-primary/30 via-secondary/30 to-primary/40",position:"top-20 -left-48",delay:0},{size:"w-[500px] h-[500px]",gradient:"from-secondary/30 via-tertiary/30 to-secondary/40",position:"top-1/3 -right-64",delay:.2},{size:"w-80 h-80",gradient:"from-tertiary/30 via-primary/30 to-tertiary/40",position:"bottom-32 left-1/4",delay:.4},{size:"w-72 h-72",gradient:"from-accent/20 via-primary/20 to-accent/30",position:"bottom-20 right-1/4",delay:.6}].map(((e,t)=>de.jsx(f.div,{initial:{opacity:0,scale:0},animate:{opacity:.3,scale:1},transition:{duration:1.2,delay:e.delay,ease:[.16,1,.3,1]},className:`absolute ${e.size} ${e.position} rounded-full bg-gradient-to-br ${e.gradient} blur-3xl animate-float`,style:{animationDelay:`${e.delay}s`,animationDuration:`${4+t}s`}},t))),de.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"\n              linear-gradient(to right, var(--color-primary) 1px, transparent 1px),\n              linear-gradient(to bottom, var(--color-primary) 1px, transparent 1px)\n            ",backgroundSize:"64px 64px"}})]}),de.jsx(f.div,{style:{y:s,opacity:a},className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-3 sm:px-6 text-center",children:de.jsxs("div",{className:"max-w-6xl mx-auto w-full",children:[de.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"inline-flex items-center space-x-2 mb-6 sm:mb-8",children:de.jsxs("div",{className:"relative group",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-electric rounded-full blur-xl opacity-60 group-hover:opacity-80 transition-butter"}),de.jsx("div",{className:"relative glass px-4 sm:px-6 py-2 sm:py-3 rounded-full flex items-center space-x-2"})]})}),de.jsx(f.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:[.16,1,.3,1]},className:"text-4xl xs:text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl mb-4 sm:mb-6 leading-tight",children:de.jsx(Bo,{words:"Build Culture. Create Impact. Celebrate Growth.",className:"animate-bounce-in text-primary"})}),de.jsx(f.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.2,ease:[.16,1,.3,1]},children:de.jsxs(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const e=document.getElementById("projects-section");null==e||e.scrollIntoView({behavior:"smooth"})},className:"group relative inline-flex items-center space-x-3 px-10 py-5 rounded-2xl font-bold text-lg overflow-hidden transition-butter",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-electric animate-gradient"}),de.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-butter"}),de.jsx("span",{className:"relative z-10 text-white",children:"Explore Projects"}),de.jsx(f.div,{className:"relative z-10",animate:{y:[0,4,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:de.jsx(he,{name:"ArrowDown",size:20,className:"text-white"})})]})})]})}),de.jsxs(f.div,{initial:{opacity:0},animate:{opacity:.6},transition:{duration:1,delay:1},className:"absolute inset-0 pointer-events-none",children:[de.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"}),de.jsx("div",{className:"absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"}),de.jsx("div",{className:"absolute top-0 left-0 h-full w-px bg-gradient-to-b from-transparent via-primary/40 to-transparent"}),de.jsx("div",{className:"absolute top-0 right-0 h-full w-px bg-gradient-to-b from-transparent via-primary/40 to-transparent"})]})]})},Wo=()=>{const e=l(),[t,s]=r.useState([]),[a,n]=r.useState(!0);r.useEffect((()=>{i()}),[]);const i=async()=>{try{n(!0);const{data:t,error:r}=await qn.from("projects").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(r)throw r;const a=(t||[]).map((e=>e.id)).filter(Boolean);let i=[];if(a.length>0){const{data:e,error:t}=await qn.from("project_gallery").select("*").in("project_id",a);if(t)throw t;i=e||[]}const o=(t||[]).map((e=>{const t=e.featured_image_url||"",r=e.image_alt||e.title||"",s=i.filter((t=>t.project_id===e.id)).map((e=>({...e})));e.type_id;return{id:e.id,title:e.title,category:e.category,description:e.description,longDescription:e.long_description,technologies:e.technologies||[],year:e.year,client:e.client,role:e.role||"",duration:e.duration,outcome:e.outcome,metrics:e.metrics||[],testimonial:e.testimonial||void 0,gallery:s,featured:e.featured||!1,featured_image_url:t,image_alt:r}}));try{const{data:e,error:r}=await qn.from("project_types").select("id, type_key, description");if(r)throw r;const s=new Map((e||[]).map((e=>[e.id,e.description||e.type_key])));for(const a of o){const e=(t||[]).find((e=>e.id===a.id));e&&e.type_id&&s.has(e.type_id)&&(a.category=s.get(e.type_id))}}catch(e){}s(o)}catch(t){s([])}finally{n(!1)}},o=t.map((e=>({src:e.featured_image_url,title:e.title,category:e.category,content:de.jsxs("div",{className:"space-y-6",children:[de.jsx("div",{className:"rounded-lg overflow-hidden",children:de.jsx("img",{src:e.featured_image_url,alt:e.image_alt,className:"w-full h-40 md:h-96 object-cover"})}),de.jsx("p",{className:"text-base text-neutral-600 dark:text-neutral-400",children:e.longDescription}),de.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:[de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:"Client"}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.client})]}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:"Duration"}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.duration})]}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:"Year"}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.year})]})]}),e.metrics&&de.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.metrics.map(((e,t)=>de.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-4",children:[de.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:e.value}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.label})]},t)))}),e.gallery&&e.gallery.length>0&&de.jsxs("div",{className:"mt-6",children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"Gallery"}),de.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-thin scrollbar-thumb-neutral-400 scrollbar-track-neutral-200 dark:scrollbar-thumb-neutral-600 dark:scrollbar-track-neutral-800",children:e.gallery.map(((e,t)=>de.jsxs("div",{className:"flex-shrink-0 w-64 snap-center",children:[de.jsx("div",{className:"rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:e.url.endsWith(".mp4")?de.jsx("video",{src:e.url,controls:!0,className:"w-full h-48 object-cover"}):de.jsx("img",{src:e.url,alt:e.alt,className:"w-full h-48 object-cover hover:scale-105 transition-transform duration-300"})}),e.caption&&de.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-2 text-center",children:e.caption})]},t)))})]})]})})));return de.jsxs(de.Fragment,{children:[de.jsxs(Dt,{children:[de.jsx("title",{children:"EITO Group"}),de.jsx("link",{rel:"icon",type:"image/png",href:"/Portfolio/EITO bw.png"}),de.jsx("meta",{name:"description",content:"Explore our portfolio of team building projects and corporate services. View detailed case studies and successful implementations."})]}),de.jsxs("div",{className:"min-h-screen bg-background",children:[de.jsx(qo,{}),de.jsx("main",{className:"pt-20 sm:pt-32 pb-12 sm:pb-20 px-3 sm:px-6 lg:px-12",id:"projects-section",children:de.jsxs("div",{className:"max-w-7xl mx-auto",children:[de.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:de.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-4 sm:mb-6",children:"Project Showcase"})}),a?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Loading projects..."})}):0===t.length?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:"No projects available"})}):de.jsx(zo,{items:o.map(((e,t)=>de.jsx(Mo,{card:e,index:t,layout:!0},e.title)))}),de.jsx(f.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mt-12 sm:mt-20 text-center",children:de.jsxs("div",{className:"bg-gradient-to-r from-accent/10 via-accent/5 to-accent/10 rounded-xl sm:rounded-2xl p-6 sm:p-12",children:[de.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-3 sm:mb-4",children:"Interested in Working Together?"}),de.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-6 sm:mb-8 max-w-2xl mx-auto px-2",children:"Let's discuss how we can bring your ideas to life with innovative solutions and exceptional execution."}),de.jsx(Oo,{variant:"default",size:"lg",className:"bg-[#ee424c] hover:bg-[#d73b45] text-white font-semibold text-sm sm:text-base",iconName:"Mail",iconPosition:"right",onClick:()=>e("/connection-hub"),children:"Start a Conversation"})]})})]})}),de.jsx(zt,{})]})]})},Fo=({items:e,className:t})=>{let[s,a]=r.useState(null);return de.jsx("div",{className:So("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 py-10",t),children:e.map(((e,t)=>de.jsxs("a",{href:null==e?void 0:e.link,className:"relative group block p-2 h-full w-full",onMouseEnter:()=>a(t),onMouseLeave:()=>a(null),children:[de.jsx(x,{children:s===t&&de.jsx(f.span,{className:"absolute inset-0 h-full w-full bg-neutral-200 dark:bg-slate-800/[0.8] block rounded-3xl",layoutId:"hoverBackground",initial:{opacity:0},animate:{opacity:1,transition:{duration:.15}},exit:{opacity:0,transition:{duration:.15,delay:.2}}})}),de.jsxs(Go,{children:[e.icon&&de.jsx("div",{className:"mb-4",children:de.jsx(he,{name:e.icon,size:40,className:"text-zinc-100"})}),de.jsx(Ho,{children:e.title}),de.jsx(Vo,{children:e.description})]})]},null==e?void 0:e.link)))})},Go=({className:e,children:t})=>de.jsx("div",{className:So("rounded-2xl h-full w-full p-4 overflow-hidden bg-black border border-transparent dark:border-white/[0.2] group-hover:border-slate-700 relative z-20",e),children:de.jsx("div",{className:"relative z-50",children:de.jsx("div",{className:"p-4",children:t})})}),Ho=({className:e,children:t})=>de.jsx("h4",{className:So("text-zinc-100 font-bold tracking-wide mt-4",e),children:t}),Vo=({className:e,children:t})=>de.jsx("p",{className:So("mt-8 text-zinc-400 tracking-wide leading-relaxed text-sm",e),children:t}),Ko=({slots:e,onBookSlot:t})=>{const r=e.reduce(((e,t)=>(e[t.day]||(e[t.day]=[]),e[t.day].push(t),e)),{});return e&&0!==e.length?de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:"flex items-center gap-2 text-slate-400 font-bold text-[10px] uppercase tracking-[0.2em] bg-slate-100 w-fit px-3 py-1 rounded-full",children:[de.jsx(he,{name:"Globe",size:12})," Malaysia Time (GMT+8)"]}),de.jsx("div",{className:"flex flex-row gap-6 overflow-x-auto pb-6 snap-x",children:Object.entries(r).map((([e,r])=>de.jsxs("div",{className:"min-w-[180px] snap-start",children:[de.jsx("h4",{className:"font-black text-[#153462] text-sm mb-4 border-b-2 border-orange-200 pb-1",children:e}),de.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-[400px] overflow-y-auto pr-2",children:r.map((e=>de.jsx("button",{disabled:!e.available,onClick:()=>t(e),className:`\n                    w-full py-3 px-4 rounded-xl text-xs font-bold transition-all\n                    ${e.available?"bg-white text-[#153462] border border-slate-200 hover:border-[#f68921] hover:text-[#f68921] shadow-sm active:scale-95":"bg-slate-100 text-slate-300 border-transparent cursor-not-allowed opacity-60"}\n                  `,children:e.time},e.id)))})]},e)))})]}):de.jsx("div",{className:"bg-white border border-slate-100 rounded-[2rem] p-12 text-center text-slate-400 font-medium",children:"No available slots at the moment."})},Jo=()=>{const e=l(),[t,s]=r.useState(!1),[a,n]=r.useState(null),[i,o]=r.useState({name:"",company:"",email:""}),[c,d]=r.useState(!1),[u,h]=r.useState([]),m=[{id:"2",type:"email",label:"Request Custom Event",value:"yutongchai2@gmail.com",icon:de.jsx(G,{size:28}),color:"#f68921",description:"Tailored team building experiences for your company.",actionLabel:"Send Email"},{id:"3",type:"whatsapp",label:"Consult Team Coach",value:"60163287947",icon:de.jsx(H,{size:28}),color:"#153462",description:"Speak directly with a certified team building coach.",actionLabel:"Chat on WhatsApp"},{id:"4",type:"scroll",label:"Corporate Inquiry",value:"availability-calendar",icon:de.jsx(A,{size:28}),color:"#18616e",description:"For HR and corporate partnership inquiries.",actionLabel:"Book Consultation"}],p=[{label:"Service Brochure",icon:de.jsx(V,{size:20}),color:"#153462",action:()=>window.open("/brochure.pdf","_blank")},{label:"Event Gallery",icon:de.jsx(K,{size:20}),color:"#18616e",action:()=>e("/work-showcase")},{label:"Discovery Call",icon:de.jsx(J,{size:20}),color:"#f68921",action:()=>{var e;return null==(e=document.getElementById("availability-calendar"))?void 0:e.scrollIntoView({behavior:"smooth"})}}];r.useEffect((()=>{let e=!0;return async function(){try{const{data:t,error:r}=await qn.from("bookings").select("slot_id");if(r)throw r;if(!e)return;h((t||[]).map((e=>e.slot_id)))}catch(t){}}(),()=>{e=!1}}),[]);const g=r.useMemo((()=>{const e=[],t=new Date;for(let r=0;r<7;r++){const s=new Date(t);if(s.setDate(t.getDate()+r),0===s.getDay()||6===s.getDay())continue;const a=s.toISOString().split("T")[0],n=s.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"});for(let t=8;t<17;t++)["00","30"].forEach((r=>{const s=`${t%12||12}:${r} ${t>=12?"PM":"AM"}`,i=`${a}-${t}${r}`;e.push({id:i,day:n,time:s,available:!u.includes(i)})}))}return e}),[u]);return de.jsxs(de.Fragment,{children:[de.jsxs(Dt,{children:[de.jsx("title",{children:"Connection Hub | EITO Group"}),de.jsx("link",{rel:"icon",type:"image/png",href:"/Portfolio/EITO bw.png"})]}),de.jsxs("div",{className:"min-h-screen bg-white",children:[de.jsx(x,{children:t&&de.jsxs(f.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"fixed top-28 right-6 z-[100] bg-[#153462] text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center space-x-3 border-l-4 border-[#f68921]",children:[de.jsx(q,{className:"text-[#f68921]",size:24}),de.jsx("span",{className:"font-bold uppercase tracking-tight text-sm",children:"Message Sent Successfully!"})]})}),de.jsx("main",{className:"pt-32 pb-20",children:de.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[de.jsxs(f.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-24",children:[de.jsx("p",{className:"text-[#f68921] font-black uppercase tracking-[0.4em] text-sm mb-4",children:"Let's Connect"}),de.jsxs("h1",{className:"text-5xl md:text-8xl font-black text-[#153462] uppercase tracking-tighter leading-[0.85] mb-8",children:["Build Stronger ",de.jsx("br",{}),de.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#153462] to-[#79989f]",children:"Teams With EITO"})]}),de.jsx("div",{className:"w-24 h-2 bg-[#f68921] mx-auto rounded-full mb-8"})]}),de.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-32",children:m.map(((e,t)=>de.jsxs(f.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},onClick:()=>{var t;if("email"===e.type)window.location.href=`mailto:${e.value}`;else if("whatsapp"===e.type){const t=encodeURIComponent("Hi EITO Group, I'd like to consult a coach regarding a team building program.");window.open(`https://wa.me/${e.value}?text=${t}`,"_blank")}else"scroll"===e.type&&(null==(t=document.getElementById(e.value))||t.scrollIntoView({behavior:"smooth"}))},className:"group cursor-pointer relative bg-white border border-slate-100 p-10 rounded-[2.5rem] shadow-[0_20px_50px_rgba(21,52,98,0.05)] hover:shadow-2xl transition-all duration-500 hover:-translate-y-2",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-slate-50 opacity-0 group-hover:opacity-100 rounded-[2.5rem] transition-opacity duration-500"}),de.jsxs("div",{className:"relative z-10",children:[de.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mb-8 transition-transform group-hover:rotate-12 group-hover:scale-110",style:{backgroundColor:`${e.color}10`,color:e.color},children:e.icon}),de.jsx("h3",{className:"text-xl font-black text-[#153462] uppercase mb-3 tracking-tight",children:e.label}),de.jsx("p",{className:"text-slate-500 font-medium mb-8 leading-relaxed",children:e.description}),de.jsxs("div",{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest transition-all group-hover:gap-4",style:{color:e.color},children:[e.actionLabel," ",de.jsx(W,{size:16})]})]})]},e.id)))}),de.jsx("div",{className:"bg-[#153462] rounded-[3rem] p-4 mb-32 shadow-2xl",children:de.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(((e,t)=>de.jsxs("button",{onClick:e.action,className:"flex items-center justify-center gap-3 py-4 px-6 rounded-full bg-white/5 hover:bg-white/10 text-white transition-all group",children:[de.jsx("span",{className:"text-[#f68921] group-hover:scale-125 transition-transform",children:e.icon}),de.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:e.label})]},t)))})}),de.jsxs("div",{className:"mb-32",children:[de.jsxs("div",{className:"flex items-center gap-6 mb-12",children:[de.jsx("h2",{className:"text-4xl font-black text-[#153462] uppercase tracking-tighter whitespace-nowrap",children:"Direct Access"}),de.jsx("div",{className:"h-[1px] w-full bg-[#153462]/10"})]}),de.jsx(Fo,{items:[{title:"WhatsApp",description:"Chat with us directly for quick responses.",link:"https://wa.me/60163287947",icon:"MessageCircle"},{title:"Instagram",description:"Follow @eitogroup for behind-the-scenes.",link:"https://www.instagram.com/eitogroup/",icon:"Instagram"},{title:"Email",description:"Send us an email for formal requests.",link:"mailto:yutongchai2@gmail.com",icon:"Mail"}]})]}),de.jsx("div",{className:"grid grid-cols-1 gap-16 mb-32",children:de.jsxs("div",{id:"availability-calendar",className:"relative bg-slate-50 p-8 md:p-12 rounded-[3rem] border border-slate-100 overflow-hidden",children:[de.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[de.jsxs("div",{children:[de.jsx("h3",{className:"text-3xl font-black text-[#153462] uppercase tracking-tight mb-2",children:a?"Confirm Details":"Check Availability"}),de.jsx("p",{className:"text-[#79989f] font-bold uppercase tracking-widest text-xs",children:a?"Almost there":"Live Facilitator Schedule"})]}),a&&de.jsx("button",{onClick:()=>n(null),className:"p-3 bg-white rounded-full text-slate-400 hover:text-red-500 transition-colors shadow-sm",children:de.jsx(L,{size:20})})]}),de.jsx("div",{className:"relative min-h-[400px]",children:de.jsx(x,{mode:"wait",children:a?de.jsxs(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"max-w-xl mx-auto bg-white p-8 md:p-12 rounded-[2rem] shadow-xl border border-slate-50",children:[de.jsxs("div",{className:"mb-8 p-4 bg-slate-50 rounded-xl border-l-4 border-[#f68921]",children:[de.jsx("p",{className:"text-sm font-bold text-[#153462]",children:"SELECTED SLOT"}),de.jsxs("p",{className:"text-[#153462]",children:[a.day," â¢ ",a.time]})]}),de.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a){d(!0);try{const{data:e,error:t}=await qn.from("bookings").insert([{slot_id:a.id,customer_name:i.name,customer_email:i.email,company_name:i.company,appointment_time:`${a.day} ${a.time}`}]).select().single();if(t){if("23505"===(null==t?void 0:t.code)||((null==t?void 0:t.message)||"").toLowerCase().includes("duplicate"))return alert("Sorry â that slot was just booked by someone else. Please choose another slot."),void n(null);throw t}const r=null==e?void 0:e.id,l={email:i.email,slot:a,customerName:i.name,companyName:i.company,bookingId:r},{data:c,error:d}=await qn.functions.invoke("send-booking-email",{body:l});d?alert(`Booking saved but email failed to send: ${d.message||"Unknown error"}. Check console for details.`):(null==c?void 0:c.error)&&alert(`Booking saved but email failed: ${c.error}`),s(!0),n(null),o({name:"",company:"",email:""}),setTimeout((()=>s(!1)),4e3)}catch(t){alert("Failed to submit booking. Please try again.")}finally{d(!1)}}},className:"space-y-6",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"Your Full Name"}),de.jsx("input",{required:!0,type:"text",className:"w-full bg-slate-50 border-none rounded-xl px-5 py-4 focus:ring-2 focus:ring-[#f68921] transition-all outline-none",placeholder:"e.g. Adam Smith",value:i.name,onChange:e=>o({...i,name:e.target.value})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"Company Name"}),de.jsx("input",{required:!0,type:"text",className:"w-full bg-slate-50 border-none rounded-xl px-5 py-4 focus:ring-2 focus:ring-[#f68921] transition-all outline-none",placeholder:"e.g. EITO Group",value:i.company,onChange:e=>o({...i,company:e.target.value})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"Email"}),de.jsx("input",{required:!0,type:"email",className:"w-full bg-slate-50 border-none rounded-xl px-5 py-4 focus:ring-2 focus:ring-[#f68921] transition-all outline-none",placeholder:"your@email.com",value:i.email,onChange:e=>o({...i,email:e.target.value})})]}),de.jsx("button",{type:"submit",className:"w-full bg-[#153462] hover:bg-[#1e4a8a] text-white py-5 rounded-xl font-black uppercase tracking-widest text-sm flex items-center justify-center gap-3 transition-all transform hover:-translate-y-1",disabled:c,children:c?de.jsxs(de.Fragment,{children:["Sending... ",de.jsx(F,{size:14})]}):de.jsxs(de.Fragment,{children:["Generate Email Request ",de.jsx(F,{size:18})]})})]})]},"booking-form"):de.jsx(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:de.jsx(Ko,{slots:g,onBookSlot:e=>n(e)})},"calendar")})})]})})]})}),de.jsx(zt,{})]})]})},Yo="https://eitogroup.com",Zo={workShowcase:{title:"Our Work & Success Stories | EITO Group",description:"Explore EITO Group's portfolio of successful team building events and training programs. See how we've helped companies like Petronas, AirAsia, and Maxis transform their teams.",keywords:["team building case studies","corporate training success stories","team building portfolio Malaysia","corporate event gallery"],url:`${Yo}/work-showcase`,type:"website"},personalStory:{title:"About Our Team Building Experts | EITO Group",description:"Meet the passionate team behind EITO Group. Learn about our founder's journey and our mission to transform corporate teams through innovative training and team building programs.",keywords:["team building facilitator Malaysia","corporate trainer profile","team building expert","leadership coach Malaysia"],url:`${Yo}/personal-story`,type:"profile"},connectionHub:{title:"Book a Consultation | Team Building Experts Malaysia",description:"Schedule a free consultation with EITO Group's team building experts. Get customized solutions for your corporate training, team building events, and CSR programs. Available via WhatsApp, email, or direct booking.",keywords:["book team building consultation","corporate training inquiry","team building quote Malaysia","schedule team building event"],url:`${Yo}/connection-hub`,type:"website"}},Xo={"@context":"https://schema.org","@type":"Organization",name:"EITO Group",description:"Leading corporate team building and training solutions provider in Malaysia",url:Yo,logo:`${Yo}/EITO%20bw.png`,image:`${Yo}/EITO%20bw.png`,email:"info@eitogroup.com",telephone:"+60163287947",address:{"@type":"PostalAddress",addressCountry:"MY",addressLocality:"Kuala Lumpur",addressRegion:"Federal Territory of Kuala Lumpur"},sameAs:["https://www.instagram.com/eitogroup/","https://wa.me/60163287947"],founder:{"@type":"Person",name:"Yu Tong Chai",jobTitle:"Founder & Chief Facilitator"},areaServed:{"@type":"Country",name:"Malaysia"},serviceType:["Corporate Team Building","Leadership Training","Corporate Training Programs","CSR Programs","Team Development","Employee Engagement"]},Qo={"@context":"https://schema.org","@type":"Service",serviceType:"Corporate Team Building & Training",provider:{"@type":"Organization",name:"EITO Group",url:Yo},areaServed:{"@type":"Country",name:"Malaysia"},hasOfferCatalog:{"@type":"OfferCatalog",name:"Team Building & Training Services",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"Corporate Team Building Events",description:"Customized team building activities and events for corporate organizations"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Leadership Training Programs",description:"Professional leadership development and training programs"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"CSR Programs",description:"Corporate Social Responsibility programs and team activities"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Employee Engagement Programs",description:"Enhance employee engagement and team collaboration"}}]}},el={"@context":"https://schema.org","@type":"LocalBusiness",name:"EITO Group",image:`${Yo}/EITO%20bw.png`,telephone:"+60163287947",email:"info@eitogroup.com",address:{"@type":"PostalAddress",addressCountry:"MY",addressLocality:"Kuala Lumpur"},geo:{"@type":"GeoCoordinates",latitude:"3.139003",longitude:"101.686855"},url:Yo,priceRange:"$$",openingHoursSpecification:[{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday"],opens:"09:00",closes:"18:00"}]},tl=({config:e,includeSchemas:t=!1})=>{const{title:r,description:s,keywords:a=[],url:n,image:i,locale:o="en_US",type:l="website"}=e;return de.jsxs(de.Fragment,{children:[de.jsxs(Dt,{children:[r&&de.jsx("title",{children:r}),s&&de.jsx("meta",{name:"description",content:s}),a.length>0&&de.jsx("meta",{name:"keywords",content:a.join(", ")}),n&&de.jsx("link",{rel:"canonical",href:n}),r&&de.jsx("meta",{property:"og:title",content:r}),s&&de.jsx("meta",{property:"og:description",content:s}),l&&de.jsx("meta",{property:"og:type",content:l}),n&&de.jsx("meta",{property:"og:url",content:n}),i&&de.jsx("meta",{property:"og:image",content:i}),o&&de.jsx("meta",{property:"og:locale",content:o}),de.jsx("meta",{property:"og:site_name",content:"EITO Group"}),de.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),r&&de.jsx("meta",{name:"twitter:title",content:r}),s&&de.jsx("meta",{name:"twitter:description",content:s}),i&&de.jsx("meta",{name:"twitter:image",content:i}),de.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),de.jsx("meta",{name:"googlebot",content:"index, follow"}),de.jsx("meta",{name:"google",content:"notranslate"}),de.jsx("meta",{name:"format-detection",content:"telephone=no"}),de.jsx("meta",{name:"geo.region",content:"MY-14"}),de.jsx("meta",{name:"geo.placename",content:"Kuala Lumpur"}),de.jsx("meta",{name:"geo.position",content:"3.139003;101.686855"}),de.jsx("meta",{name:"ICBM",content:"3.139003, 101.686855"})]}),t&&de.jsxs(de.Fragment,{children:[de.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(Xo)}}),de.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(Qo)}}),de.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(el)}})]})]})},rl=()=>{const e=c(),[t,s]=r.useState("home"),{scrollYProgress:a}=b(),n=v(a,{stiffness:100,damping:30,restDelta:.001}),i="home"===t?"/personal-story-section":"service"===t?"/work-showcase":"/connection-hub";r.useEffect((()=>{const t=e.pathname;s({"/personal-story-section":"home","/work-showcase":"service","/connection-hub":"connect","/":"home"}[t]||"home");try{window.scrollTo({top:0,behavior:"smooth"})}catch{window.scrollTo(0,0)}}),[e.pathname]);return de.jsxs("div",{className:"min-h-screen",children:[de.jsx(tl,{config:(()=>{switch(t){case"service":return Zo.workShowcase;case"connect":return Zo.connectionHub;default:return Zo.personalStory}})(),includeSchemas:"home"===t}),de.jsx(f.div,{className:"fixed top-0 left-0 right-0 h-1 bg-accent origin-left z-50",style:{scaleX:n}}),de.jsx(pe,{logo:Lt,logoAlt:"EITO Group Logo",items:[{label:"Home",href:"/personal-story-section"},{label:"Services",href:"/work-showcase"},{label:"Connect",href:"/connection-hub"}],activeHref:i}),"home"===t&&de.jsx(Do,{}),"service"===t&&de.jsx(Wo,{}),"connect"===t&&de.jsx(Jo,{})]})},sl=["Accounting","Airlines/Aviation","Alternative Dispute Resolution","Alternative Medicine","Animation","Apparel/Fashion","Architecture/Planning","Arts/Crafts","Automotive","Aviation/Aerospace","Banking/Mortgage","Biotechnology/Greentech","Broadcast Media","Building Materials","Business Supplies/Equipment","Capital Markets/Hedge Fund/Private Equity","Chemicals","Civic/Social Organization","Civil Engineering","Commercial Real Estate","Computer Games","Computer Hardware","Computer Networking","Computer Software/Engineering","Computer/Network Security","Construction","Consumer Electronics","Consumer Goods","Consumer Services","Cosmetics","Dairy","Defense/Space","Design","E-Learning","Education Management","Electrical/Electronic Manufacturing","Entertainment/Movie Production","Environmental Services","Events Services","Executive Office","Facilities Services","Farming","Financial Services","Fine Art","Fishery","Food Production","Food/Beverages","Fundraising","Furniture","Gambling/Casinos","Glass/Ceramics/Concrete","Government Administration","Government Relations","Graphic Design/Web Design","Health/Fitness","Higher Education/Academia","Hospital/Health Care","Hospitality","Human Resources/HR","Import/Export","Individual/Family Services","Industrial Automation","Information Services","Information Technology/IT","Insurance","International Affairs","International Trade/Development","Internet","Investment Banking/Venture","Investment Management/Hedge Fund/Private Equity","Judiciary","Law Enforcement","Law Practice/Law Firms","Legal Services","Legislative Office","Leisure/Travel","Library","Logistics/Procurement","Luxury Goods/Jewelry","Machinery","Management Consulting","Maritime","Market Research","Marketing/Advertising/Sales","Mechanical or Industrial Engineering","Media Production","Medical Equipment","Medical Practice","Mental Health Care","Military Industry","Mining/Metals","Motion Pictures/Film","Museums/Institutions","Music","Nanotechnology","Newspapers/Journalism","Non-Profit/Volunteering","Oil/Energy/Solar/Greentech","Online Publishing","Outsourcing/Offshoring","Package/Freight Delivery","Packaging/Containers","Paper/Forest Products","Performing Arts","Pharmaceuticals","Philanthropy","Photography","Plastics","Political Organization","Primary/Secondary Education","Printing","Professional Training","Program Development","Public Relations/PR","Public Safety","Publishing Industry","Railroad Manufacture","Ranching","Real Estate/Mortgage","Recreational Facilities/Services","Religious Institutions","Renewables/Environment","Research Industry","Restaurants","Retail Industry","Security/Investigations","Semiconductors","Shipbuilding","Sporting Goods","Sports","Staffing/Recruiting","Supermarkets","Telecommunications","Textiles","Think Tanks","Tobacco","Translation/Localization","Transportation","Utilities","Venture Capital/VC","Veterinary","Warehousing","Wholesale","Wine/Spirits","Wireless","Writing/Editing","Other"],al=i.forwardRef((({className:e,type:t="text",label:r,description:s,error:a,required:n=!1,id:i,...o},l)=>{const c=i||`input-${Math.random().toString(36).substr(2,9)}`;return"checkbox"===t?de.jsx("input",{type:"checkbox",className:So("h-4 w-4 rounded border border-input bg-background text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,id:c,...o}):"radio"===t?de.jsx("input",{type:"radio",className:So("h-4 w-4 rounded-full border border-input bg-background text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,id:c,...o}):de.jsxs("div",{className:"space-y-2",children:[r&&de.jsxs("label",{htmlFor:c,className:So("text-xs leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a?"text-destructive":"text-foreground"),children:[r,n&&de.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),de.jsx("input",{type:t,className:So("text-xs flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-xs ring-offset-background file:border-0 file:bg-transparent file:text-xs file:font-medium placeholder:text-sm text-gray-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a&&"text-xs border-destructive focus-visible:ring-destructive",e),ref:l,id:c,...o}),s&&!a&&de.jsx("p",{className:"text-xs text-muted-foreground",children:s}),a&&de.jsx("p",{className:"text-xs text-destructive",children:a})]})}));al.displayName="Input";const nl=i.forwardRef((({className:e,options:t=[],value:s,defaultValue:a,placeholder:n="Select an option",multiple:i=!1,disabled:o=!1,required:l=!1,label:c,description:d,error:u,searchable:h=!1,clearable:m=!1,loading:p=!1,id:g,name:f,onChange:x,onOpenChange:b,...y},v)=>{const[w,j]=r.useState(!1),[k,N]=r.useState(""),_=g||`select-${Math.random().toString(36).substr(2,9)}`,S=h&&k?t.filter((e=>e.label.toLowerCase().includes(k.toLowerCase())||e.value&&e.value.toString().toLowerCase().includes(k.toLowerCase()))):t,C=e=>{if(i){return(Array.isArray(s)?s:[]).includes(e)}return s===e},E=i?Array.isArray(s)&&s.length>0:void 0!==s&&""!==s;return de.jsxs("div",{className:So("relative",e),children:[c&&de.jsxs("label",{htmlFor:_,className:So("text-xs font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mb-2 block",u?"text-destructive":"text-foreground"),children:[c,l&&de.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),de.jsxs("div",{className:"relative",children:[de.jsxs("button",{ref:v,id:_,type:"button",className:So("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white text-black px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",u&&"border-destructive focus:ring-destructive",!E&&"text-gray-600"),onClick:()=>{if(!o){const e=!w;j(e),null==b||b(e),e||N("")}},disabled:o,"aria-expanded":w,"aria-haspopup":"listbox",...y,children:[de.jsx("span",{className:"truncate",children:(()=>{if(!s)return n;if(i){const e=Array.isArray(s)?s:[s],r=t.filter((t=>e.includes(t.value)));return 0===r.length?n:1===r.length?r[0].label:`${r.length} items selected`}const e=t.find((e=>e.value===s));return e?e.label:n})()}),de.jsxs("div",{className:"flex items-center gap-1",children:[p&&de.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m&&E&&!p&&de.jsx(Oo,{variant:"ghost",size:"icon",className:"h-4 w-4",onClick:e=>{e.stopPropagation(),null==x||x(i?[]:"")},children:de.jsx(L,{className:"h-3 w-3"})}),de.jsx(Y,{className:So("h-4 w-4 transition-transform",w&&"rotate-180")})]})]}),de.jsxs("select",{name:f,value:Array.isArray(s)?s.map((e=>String(e))):s?String(s):"",onChange:()=>{},className:"sr-only",tabIndex:-1,multiple:i,required:l,children:[de.jsx("option",{value:"",children:"Select..."}),t.map((e=>de.jsx("option",{value:String(e.value),children:e.label},e.value)))]}),w&&de.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white text-black border border-border rounded-md shadow-md",children:[h&&de.jsx("div",{className:"p-2 border-b",children:de.jsxs("div",{className:"relative",children:[de.jsx(Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),de.jsx(al,{placeholder:"Search options...",value:k,onChange:e=>{N(e.target.value)},className:"pl-8"})]})}),de.jsx("div",{className:"py-1 max-h-60 overflow-auto",children:0===S.length?de.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:k?"No options found":"No options available"}):S.map((e=>de.jsxs("div",{className:So("relative flex cursor-pointer select-none items-center rounded-sm px-3 py-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground",C(e.value)&&"bg-primary text-primary-foreground",e.disabled&&"pointer-events-none opacity-50"),onClick:()=>!e.disabled&&(e=>{if(i){const t=Array.isArray(s)?s:[],r=t.includes(e.value)?t.filter((t=>t!==e.value)):[...t,e.value];null==x||x(r)}else null==x||x(e.value),j(!1),null==b||b(!1)})(e),children:[de.jsx("span",{className:"flex-1",children:e.label}),i&&C(e.value)&&de.jsx(X,{className:"h-4 w-4"}),e.description&&de.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:e.description})]},e.value)))})]})]}),d&&!u&&de.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d}),u&&de.jsx("p",{className:"text-sm text-destructive mt-1",children:u})]})}));nl.displayName="Select";const il=i.forwardRef((({className:e,id:t,checked:r,indeterminate:s=!1,disabled:a=!1,required:n=!1,label:i,description:o,error:l,size:c="default",...d},u)=>{const h=t||`checkbox-${Math.random().toString(36).substr(2,9)}`;return de.jsxs("div",{className:So("flex items-start space-x-2",e),children:[de.jsxs("div",{className:"relative flex items-center",children:[de.jsx("input",{type:"checkbox",ref:u,id:h,checked:r,disabled:a,required:n,className:"sr-only",...d}),de.jsxs("label",{htmlFor:h,className:So("peer shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground cursor-pointer transition-colors flex items-center justify-center",{sm:"h-4 w-4",default:"h-4 w-4",lg:"h-5 w-5"}[c],r&&"bg-primary text-primary-foreground border-primary",s&&"bg-primary text-primary-foreground border-primary",l&&"border-destructive",a&&"cursor-not-allowed opacity-50"),children:[r&&!s&&de.jsx(X,{className:"h-3 w-3 pr-0.5"}),s&&de.jsx(Q,{className:"h-3 w-3"})]})]}),(i||o||l)&&de.jsxs("div",{className:"flex-1 space-y-1",children:[i&&de.jsxs("label",{htmlFor:h,className:So("text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",l?"text-destructive":"text-foreground"),children:[i,n&&de.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o&&!l&&de.jsx("p",{className:"text-sm text-muted-foreground",children:o}),l&&de.jsx("p",{className:"text-sm text-destructive",children:l})]})]})}));il.displayName="Checkbox";i.forwardRef((({className:e,children:t,label:r,description:s,error:a,required:n=!1,disabled:i=!1,...o},l)=>de.jsxs("fieldset",{ref:l,disabled:i,className:So("space-y-3",e),...o,children:[r&&de.jsxs("legend",{className:So("text-sm",a?"text-destructive":"text-foreground"),children:[r,n&&de.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s&&!a&&de.jsx("p",{className:"text-sm text-muted-foreground",children:s}),de.jsx("div",{className:"space-y-2",children:t}),a&&de.jsx("p",{className:"text-sm text-destructive",children:a})]}))).displayName="CheckboxGroup";const ol=({formType:e="csr"})=>{const t=(new Date).getFullYear(),s=Array.from({length:10},((e,r)=>{const s=(t+r).toString();return{value:s,label:s}})),[a,n]=r.useState({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",durationOther:"",eventMonth:"",eventYear:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""}),[i,o]=r.useState(!1),[l,c]=r.useState(null),[d,u]=r.useState({});r.useEffect((()=>{if(!l)return;const e=setTimeout((()=>c(null)),4e3);return()=>clearTimeout(e)}),[l]);const h=e=>{const{name:t,value:r}=e.target;n((e=>({...e,[t]:r})))};return de.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-[2rem] md:rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] border border-gray-100",children:[de.jsx("h3",{className:"text-2xl md:text-3xl font-black mb-6 md:mb-8",children:"Let's Connect"}),l&&de.jsx("div",{className:"fixed top-10 left-1/2 -translate-x-1/2 z-[100] w-[90%] md:w-auto px-6 py-4 rounded-2xl shadow-2xl border transition-all animate-in fade-in slide-in-from-top-4 "+("success"===l.type?"bg-green-600 text-white border-green-400":"bg-red-600 text-white border-red-400"),children:de.jsx("p",{className:"font-bold text-center",children:l.text})}),de.jsxs("form",{onSubmit:async t=>{t.preventDefault(),o(!0),c(null);const r={};if(["name","contact","companyName","companyEmail","industryOption","noOfPax","duration","eventMonth","eventYear","budget","location"].filter((e=>!a[e])).length>0||0===a.languages.length)return a.duration||(r.duration="Please select the duration"),0===a.languages.length&&(r.languages="Please select at least one language"),u(r),c({type:"error",text:"Please fill in all required fields"}),void o(!1);try{const t={csr:"csr_inquiries",team_building:"team_building_inquiries",corporate_event:"corporate_event_inquiries"},r=a.languages.filter((e=>"Others"!==e));a.languagesOther.trim()&&r.push(a.languagesOther);const s={name:a.name,contact:a.contact,company_name:a.companyName,company_email:a.companyEmail,industry:"Other"===a.industryOption?a.industryOther:a.industryOption,no_of_pax:parseInt(a.noOfPax),duration:"Others"===a.duration?a.durationOther:a.duration,estimated_event_month:`${a.eventMonth} ${a.eventYear}`,budget:a.budget,hrdc:"Yes"===a.hrdc,preferred_location:a.location,language:r.join(", "),remarks:a.remarks},{error:i}=await qn.from(t[e]).insert([s]);if(i)throw i;c({type:"success",text:"Thank you! Your inquiry has been sent."}),n({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",durationOther:"",eventMonth:"",eventYear:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""})}catch(s){c({type:"error",text:"Database error. Please ensure all fields are valid."})}finally{o(!1)}},className:"space-y-4 md:space-y-5",noValidate:!0,children:[de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[de.jsx("div",{children:de.jsx(al,{type:"text",name:"name",placeholder:"Name",required:!0,onChange:h,onInvalid:e=>e.currentTarget.setCustomValidity("Please enter your name"),onInput:e=>e.currentTarget.setCustomValidity(""),value:a.name,disabled:i})}),de.jsx("div",{children:de.jsx(al,{type:"text",name:"contact",placeholder:"Contact Number",required:!0,onChange:h,onInvalid:e=>e.currentTarget.setCustomValidity("Please enter your contact number"),onInput:e=>e.currentTarget.setCustomValidity(""),value:a.contact,disabled:i,min:0,step:1})})]}),de.jsx("div",{children:de.jsx(al,{type:"text",name:"companyName",placeholder:"Company Name",required:!0,onChange:h,onInvalid:e=>e.currentTarget.setCustomValidity("Please enter your company name"),onInput:e=>e.currentTarget.setCustomValidity(""),value:a.companyName,disabled:i})}),de.jsx("div",{children:de.jsx(al,{type:"email",name:"companyEmail",placeholder:"Company Email",required:!0,onChange:h,onInvalid:e=>{e.currentTarget.validity.valueMissing?e.currentTarget.setCustomValidity("Please enter your company email"):e.currentTarget.validity.typeMismatch&&e.currentTarget.setCustomValidity("Please enter a valid email address")},onInput:e=>e.currentTarget.setCustomValidity(""),value:a.companyEmail,disabled:i})}),de.jsx("div",{children:de.jsx(nl,{name:"industryOption",className:"text-base",value:a.industryOption,onChange:e=>n((t=>({...t,industryOption:e}))),options:sl.map((e=>({value:e,label:e}))),placeholder:"Select Industry",searchable:!0,disabled:i})}),"Other"===a.industryOption&&de.jsx("div",{children:de.jsx(al,{type:"text",name:"industryOther",placeholder:"Please specify your industry",required:!0,onChange:h,onInvalid:e=>e.currentTarget.setCustomValidity("Please specify your industry"),onInput:e=>e.currentTarget.setCustomValidity(""),value:a.industryOther,disabled:i})}),de.jsx("div",{children:de.jsx(al,{type:"number",name:"noOfPax",placeholder:"No of pax",required:!0,onChange:h,onInvalid:e=>e.currentTarget.setCustomValidity("Please enter the number of participants"),onInput:e=>e.currentTarget.setCustomValidity(""),value:a.noOfPax,disabled:i,min:0,step:1})}),de.jsxs("div",{className:"py-2",children:[de.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Duration: ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsx("div",{className:"flex flex-wrap gap-4",children:["Half day","Full day","2D1N","3D2N","Others"].map((e=>de.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[de.jsx(al,{type:"radio",name:"duration",value:e,onChange:e=>{h(e),u((e=>({...e,duration:void 0})))},checked:a.duration===e,disabled:i}),de.jsx("span",{className:"text-sm text-gray-600",children:e})]},e)))}),d.duration&&de.jsx("p",{className:"mt-2 text-sm font-medium text-red-600",children:d.duration})]}),"Others"===a.duration&&de.jsx("div",{children:de.jsx(al,{type:"text",name:"durationOther",placeholder:"Please specify duration",required:!0,onChange:h,onInvalid:e=>e.currentTarget.setCustomValidity("Please specify the duration"),onInput:e=>e.currentTarget.setCustomValidity(""),value:a.durationOther,disabled:i})}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[de.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[de.jsx(nl,{name:"eventMonth",value:a.eventMonth,onChange:e=>n((t=>({...t,eventMonth:e}))),options:[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}],placeholder:"Month",disabled:i}),de.jsx(nl,{name:"eventYear",value:a.eventYear,onChange:e=>n((t=>({...t,eventYear:e}))),options:s,placeholder:"Year",disabled:i})]}),de.jsx("div",{children:de.jsx(al,{type:"number",name:"budget",placeholder:"Budget (RM)",required:!0,onChange:h,onInvalid:e=>e.currentTarget.setCustomValidity("Please enter your budget"),onInput:e=>e.currentTarget.setCustomValidity(""),value:a.budget,disabled:i})})]}),de.jsxs("div",{className:"flex gap-10 items-center py-2",children:[de.jsx("label",{className:"font-bold text-gray-700",children:"HRDC Claimable?"}),de.jsx("div",{className:"flex gap-4",children:["Yes","No"].map((e=>de.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[de.jsx(al,{type:"radio",name:"hrdc",value:e,checked:a.hrdc===e,onChange:h,disabled:i}),de.jsx("span",{className:"text-gray-600",children:e})]},e)))})]}),de.jsx("div",{children:de.jsx(al,{type:"text",name:"location",placeholder:"Preferred Location",required:!0,onChange:h,onInvalid:e=>e.currentTarget.setCustomValidity("Please enter your preferred location"),onInput:e=>e.currentTarget.setCustomValidity(""),value:a.location,disabled:i})}),de.jsxs("div",{className:"py-2",children:[de.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Language to Conduct: ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsx("div",{className:"flex flex-wrap gap-6",children:["English","Mandarin","BM","Others"].map(((e,t)=>de.jsx(il,{checked:a.languages.includes(e),onChange:()=>(e=>{n((t=>{const r=t.languages.includes(e);return{...t,languages:r?t.languages.filter((t=>t!==e)):[...t.languages,e]}})),u((e=>({...e,languages:void 0})))})(e),disabled:i,label:e},e)))}),d.languages&&de.jsx("p",{className:"mt-2 text-sm font-medium text-red-600",children:d.languages})]}),a.languages.includes("Others")&&de.jsx("div",{children:de.jsx(al,{type:"text",name:"languagesOther",placeholder:"Please specify other language",required:!0,onChange:h,onInvalid:e=>e.currentTarget.setCustomValidity("Please specify the other language"),onInput:e=>e.currentTarget.setCustomValidity(""),value:a.languagesOther,disabled:i})}),de.jsx("div",{children:de.jsx("textarea",{name:"remarks",rows:3,placeholder:"Additional Remarks (Optional)",onChange:h,value:a.remarks,disabled:i,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})}),de.jsx(Oo,{type:"submit",disabled:i,loading:i,fullWidth:!0,className:"py-4 md:py-5 bg-[#fcb22f] text-white font-black text-lg md:text-xl rounded-2xl hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:i?"Submitting...":"Submit Inquiry"})]})]})},ll=()=>de.jsxs(de.Fragment,{children:[de.jsx(pe,{logo:Lt,logoAlt:"EITO Group Logo",items:[{label:"Home",href:"/personal-story-section"},{label:"Services",href:"/work-showcase"},{label:"Connect",href:"/connection-hub"}],activeHref:"/work-showcase"}),de.jsxs("section",{className:"min-h-[60vh] flex flex-col items-center justify-center py-16 px-4",children:[de.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Team Building"}),de.jsx("p",{className:"text-lg text-center max-w-xl mb-8",children:"Boost collaboration, trust, and morale with our engaging team building experiences designed for all group sizes."})]}),de.jsx("section",{className:"py-32 px-8 max-w-7xl mx-auto",children:de.jsx(ol,{formType:"team_building"})}),de.jsx(zt,{})]}),cl=()=>de.jsxs(de.Fragment,{children:[de.jsx(pe,{logo:Lt,logoAlt:"EITO Group Logo",items:[{label:"Home",href:"/personal-story-section"},{label:"Services",href:"/work-showcase"},{label:"Connect",href:"/connection-hub"}],activeHref:"/work-showcase"}),de.jsxs("section",{className:"min-h-[60vh] flex flex-col items-center justify-center py-16 px-4",children:[de.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Corporate Event"}),de.jsx("p",{className:"text-lg text-center max-w-xl mb-8",children:"Make your next corporate event memorable and seamless with our expert planning and execution services."})]}),de.jsx("section",{className:"py-32 px-8 max-w-7xl mx-auto",children:de.jsx(ol,{formType:"corporate_event"})}),de.jsx(zt,{})]}),dl=()=>{const e=(new Date).getFullYear(),t=Array.from({length:10},((t,r)=>{const s=(e+r).toString();return{value:s,label:s}})),[s,a]=r.useState({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",trainingTypes:[],trainingOther:"",eventMonth:"",eventYear:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""}),[n,i]=r.useState(!1),[o,l]=r.useState(null);r.useEffect((()=>{if(!o)return;const e=setTimeout((()=>l(null)),4e3);return()=>clearTimeout(e)}),[o]);const c=e=>{const{name:t,value:r}=e.target;a((e=>({...e,[t]:r})))},d=(e,t)=>{a((r=>{const s=r[e],a=s.includes(t);return{...r,[e]:a?s.filter((e=>e!==t)):[...s,t]}}))};return de.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-[2rem] md:rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] border border-gray-100",children:[de.jsx("h3",{className:"text-2xl md:text-3xl font-black mb-6 md:mb-8",children:"Let's Connect"}),o&&de.jsx("div",{role:"status","aria-live":"polite",className:"fixed left-4 right-4 top-6 md:left-auto md:right-6 md:top-6 z-[60] rounded-xl px-5 md:px-6 py-3 md:py-4 shadow-xl border font-bold "+("success"===o.type?"bg-green-600 text-white border-green-400":"bg-red-600 text-white border-red-400"),children:o.text}),de.jsxs("form",{onSubmit:async e=>{e.preventDefault();const t=["name","contact","companyName","companyEmail","industryOption","noOfPax","duration","eventMonth","eventYear","budget","location"].some((e=>!s[e])),r=0===s.trainingTypes.length||0===s.languages.length;if(t||r)l({type:"error",text:"Please fill in all required fields"});else{i(!0),l(null);try{const e=s.trainingTypes.filter((e=>"Others"!==e));s.trainingOther.trim()&&e.push(s.trainingOther);const t=s.languages.filter((e=>"Others"!==e));s.languagesOther.trim()&&t.push(s.languagesOther);const r={name:s.name,contact:s.contact?parseInt(s.contact,10):null,company_name:s.companyName,company_email:s.companyEmail,industry:"Other"===s.industryOption?s.industryOther:s.industryOption,no_of_pax:s.noOfPax?parseInt(s.noOfPax):null,duration:s.duration,types_of_training:e,estimated_training_month:`${s.eventMonth} ${s.eventYear}`,budget:s.budget?parseFloat(s.budget):null,eventYear:"",hrdc:"Yes"===s.hrdc,preferred_location:s.location,language:t.join(", "),remarks:s.remarks},{error:n}=await qn.from("training_program_inquiries").insert([r]);if(n)throw n;l({type:"success",text:"Thank you! Your inquiry has been sent. We will get back to you soon."}),a({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",trainingTypes:[],trainingOther:"",eventMonth:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""})}catch(n){l({type:"error",text:"Error submitting form. Please ensure all data is valid and try again."})}finally{i(!1)}}},className:"space-y-4 md:space-y-5",noValidate:!0,children:[de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[de.jsx("div",{children:de.jsx(al,{type:"text",name:"name",placeholder:"Name",required:!0,onChange:c,value:s.name,disabled:n})}),de.jsx("div",{children:de.jsx(al,{type:"text",name:"contact",placeholder:"Contact",required:!0,onChange:c,value:s.contact,disabled:n})})]}),de.jsx("div",{children:de.jsx(al,{type:"text",name:"companyName",placeholder:"Company Name",required:!0,onChange:c,value:s.companyName,disabled:n})}),de.jsx("div",{children:de.jsx(al,{type:"email",name:"companyEmail",placeholder:"Company Email",required:!0,onChange:c,value:s.companyEmail,disabled:n})}),de.jsx("div",{children:de.jsx(nl,{name:"industryOption",value:s.industryOption,onChange:e=>a((t=>({...t,industryOption:e}))),options:sl.map((e=>({value:e,label:e}))),placeholder:"Select Industry",searchable:!0,required:!0,disabled:n})}),"Other"===s.industryOption&&de.jsx("div",{children:de.jsx(al,{type:"text",name:"industryOther",placeholder:"Please specify your industry",required:!0,onChange:c,value:s.industryOther,disabled:n})}),de.jsx("div",{children:de.jsx(al,{type:"number",name:"noOfPax",placeholder:"No of pax",required:!0,onChange:c,value:s.noOfPax,disabled:n,min:0,step:1})}),de.jsxs("div",{className:"py-2",children:[de.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Duration of Training: ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsx("div",{className:"flex gap-6",children:["Half day","Full day"].map((e=>de.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[de.jsx(al,{type:"radio",name:"duration",value:e,onChange:c,checked:s.duration===e,disabled:n}),de.jsx("span",{className:"text-gray-600 text-sm",children:e})]},e)))})]}),de.jsxs("div",{className:"py-2",children:[de.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Types of Training: ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsx("div",{className:"flex flex-col gap-3",children:["Mental Health & Wellbeing","Leadership & Management","Personal Development & Soft Skills","Others"].map((e=>de.jsx(il,{checked:s.trainingTypes.includes(e),onChange:()=>d("trainingTypes",e),disabled:n,label:e},e)))})]}),s.trainingTypes.includes("Others")&&de.jsx("div",{children:de.jsx(al,{type:"text",name:"trainingOther",placeholder:"Please specify other training type",required:!0,onChange:c,value:s.trainingOther,disabled:n})}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[de.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[de.jsx(nl,{name:"eventMonth",value:s.eventMonth,onChange:e=>a((t=>({...t,eventMonth:e}))),options:[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}],placeholder:"Month",disabled:n}),de.jsx(nl,{name:"eventYear",value:s.eventYear,onChange:e=>a((t=>({...t,eventYear:e}))),options:t,placeholder:"Year",disabled:n})]}),de.jsx("div",{children:de.jsx(al,{type:"number",name:"budget",placeholder:"Budget (RM)",required:!0,onChange:c,value:s.budget,disabled:n,min:0,step:"0.01"})})]}),de.jsxs("div",{className:"flex gap-10 items-center py-2",children:[de.jsx("label",{className:"font-bold text-gray-700",children:"HRDC Claimable?"}),de.jsx("div",{className:"flex gap-4",children:["Yes","No"].map((e=>de.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[de.jsx(al,{type:"radio",name:"hrdc",value:e,checked:s.hrdc===e,onChange:c,disabled:n}),de.jsx("span",{className:"text-sm text-gray-600",children:e})]},e)))})]}),de.jsx("div",{children:de.jsx(al,{type:"text",name:"location",placeholder:"Preferred Location",required:!0,onChange:c,value:s.location,disabled:n})}),de.jsxs("div",{className:"py-2",children:[de.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Language to Conduct: ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsx("div",{className:"flex flex-wrap gap-6",children:["English","Mandarin","BM","Others"].map((e=>de.jsx(il,{checked:s.languages.includes(e),onChange:()=>d("languages",e),disabled:n,label:e},e)))})]}),s.languages.includes("Others")&&de.jsx("div",{children:de.jsx(al,{type:"text",name:"languagesOther",placeholder:"Please specify other language",required:!0,onChange:c,value:s.languagesOther,disabled:n})}),de.jsx("div",{children:de.jsx("textarea",{name:"remarks",rows:3,placeholder:"Remarks (Optional)",onChange:c,value:s.remarks,disabled:n,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})}),de.jsx(Oo,{type:"submit",disabled:n,loading:n,fullWidth:!0,className:"py-4 md:py-5 bg-[#fcb22f] text-white font-black text-lg md:text-xl rounded-2xl hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:n?"Submitting...":"Submit Inquiry"})]})]})},ul=()=>de.jsxs(de.Fragment,{children:[de.jsx(pe,{logo:Lt,logoAlt:"EITO Group Logo",items:[{label:"Home",href:"/personal-story-section"},{label:"Services",href:"/work-showcase"},{label:"Connect",href:"/connection-hub"}],activeHref:"/work-showcase"}),de.jsxs("section",{className:"min-h-[60vh] flex flex-col items-center justify-center py-16 px-4",children:[de.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Training Program"}),de.jsx("p",{className:"text-lg text-center max-w-xl mb-8",children:"Empower your team with tailored training programs that drive professional growth and organizational success."})]}),de.jsx("section",{className:"py-32 px-8 max-w-7xl mx-auto",children:de.jsx(dl,{})}),de.jsx(zt,{})]}),hl=[{url:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&q=80",caption:"Building a Greener Future"},{url:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?auto=format&fit=crop&q=80",caption:"Empowering Local Communities"},{url:"https://images.unsplash.com/photo-1509062522246-3755977927d7?auto=format&fit=crop&q=80",caption:"Nurturing the Next Generation"}],ml=()=>{const[e,t]=r.useState(0);return r.useEffect((()=>{const e=setInterval((()=>{t((e=>(e+1)%hl.length))}),5e3);return()=>clearInterval(e)}),[]),de.jsxs("div",{className:"bg-[#fdfdfb] text-[#23242b] overflow-x-hidden",children:[de.jsx(pe,{logo:Lt,logoAlt:"EITO Group Logo",items:[{label:"Home",href:"/"},{label:"Services",href:"/work-showcase"},{label:"Connect",href:"/connection-hub"}],activeHref:"/work-showcase"}),de.jsxs("section",{className:"relative h-[90vh] flex items-center justify-center overflow-hidden bg-black",children:[de.jsx(x,{mode:"wait",children:de.jsxs(f.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:1.5,ease:"easeInOut"},className:"absolute inset-0",children:[de.jsx("div",{className:"absolute inset-0 bg-black/40 z-10"}),de.jsx("img",{src:hl[e].url,className:"w-full h-full object-cover",alt:"CSR Showcase"})]},e)}),de.jsxs("div",{className:"relative z-20 text-center text-white px-4",children:[de.jsxs(f.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},className:"flex items-center justify-center gap-6 mb-6",children:[de.jsx("div",{className:"h-[2px] w-20 bg-[#fcb22f]"}),de.jsx("span",{className:"uppercase tracking-[0.6em] text-xs font-black text-[#fcb22f]",children:"Social Responsibility"}),de.jsx("div",{className:"h-[2px] w-20 bg-[#fcb22f]"})]}),de.jsx(f.h1,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-7xl md:text-9xl font-black mb-8 tracking-tighter",children:"CSR"}),de.jsx("p",{className:"text-xl md:text-2xl font-medium max-w-2xl mx-auto opacity-90 leading-relaxed",children:"Create positive impact through meaningful CSR initiatives that align with your company values."})]}),de.jsx("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 z-30 flex gap-3",children:hl.map(((t,r)=>de.jsx("div",{className:"h-1 transition-all duration-500 rounded-full "+(r===e?"w-12 bg-[#fcb22f]":"w-4 bg-white/30")},r)))})]}),de.jsxs("section",{className:"py-32 px-8 max-w-7xl mx-auto flex flex-col items-center text-center",children:[de.jsxs("h2",{className:"text-4xl md:text-6xl font-black mb-10 leading-tight",children:["How CSR with EITO ",de.jsx("br",{}),de.jsx("span",{className:"text-[#fcb22f]",children:"helps your organization"})]}),de.jsx("p",{className:"text-xl text-gray-500 max-w-3xl leading-relaxed mb-16 font-medium",children:"We bridge corporate vision with grassroots needs. Our approach ensures your initiatives are HRD-claimable, operationally seamless, and leave a measurable impact on both the community and your brand equity."}),de.jsx("div",{className:"w-full h-[1px] bg-gray-200"})]}),de.jsx("section",{className:"bg-white border-y border-gray-100 py-16 px-8",children:de.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-12",children:[de.jsxs("div",{className:"flex-1",children:[de.jsx("h3",{className:"text-3xl font-black mb-4",children:"Certified Excellence"}),de.jsxs("p",{className:"text-gray-500 text-lg",children:["Our CSR programs are fully claimable under ",de.jsx("strong",{children:"HRD Corp Malaysia"}),", helping you maximize your levy while doing good."]})]}),de.jsx("img",{src:"/Portfolio//HRD.png",alt:"HRD Logo",className:"h-32 object-contain grayscale hover:grayscale-0 transition-all duration-500"})]})}),de.jsx("section",{className:"py-32 px-8 bg-white",children:de.jsxs("div",{className:"max-w-7xl mx-auto",children:[de.jsxs("div",{className:"flex items-end justify-between mb-20",children:[de.jsxs("div",{className:"flex-1",children:[de.jsx("p",{className:"text-[#f68921] font-bold tracking-[0.3em] uppercase mb-4 text-sm",children:"Focus Areas"}),de.jsx("h2",{className:"text-5xl md:text-6xl font-black text-[#153462] uppercase tracking-tighter",children:"Sub-categories"})]}),de.jsx("div",{className:"hidden md:block h-[1px] w-1/3 bg-[#153462]/10 mb-4"})]}),de.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Environmental",description:"Eco-focused initiatives like tree planting and coastal cleanups to drive sustainability.",icon:de.jsx(N,{size:32}),color:"#18616e"},{title:"Community Outreach",description:"Direct support for local social welfare programs and empowering underprivileged groups.",icon:de.jsx(k,{size:32}),color:"#153462"},{title:"Education",description:"Empowering the next generation through skill sharing, mentorship, and literacy programs.",icon:de.jsx(j,{size:32}),color:"#f68921"}].map(((e,t)=>de.jsxs("div",{className:"group relative bg-white rounded-[2.5rem] p-10 border border-slate-100 shadow-[0_15px_40px_-15px_rgba(21,52,98,0.08)] transition-all duration-500 hover:-translate-y-3 hover:shadow-2xl hover:shadow-[#153462]/10",children:[de.jsxs("span",{className:"absolute top-8 right-10 text-6xl font-black text-[#153462]/5 group-hover:text-[#f68921]/10 transition-colors",children:["0",t+1]}),de.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mb-8 transition-transform duration-500 group-hover:rotate-[10deg] group-hover:scale-110",style:{backgroundColor:`${e.color}10`,color:e.color},children:e.icon}),de.jsx("h3",{className:"text-2xl font-black text-[#153462] mb-4 uppercase tracking-tight",children:e.title}),de.jsx("p",{className:"text-slate-500 leading-relaxed text-lg font-medium",children:e.description}),de.jsx("div",{className:"mt-8 h-1.5 w-12 rounded-full transition-all duration-500 group-hover:w-full",style:{backgroundColor:e.color}})]},t)))})]})}),de.jsxs("section",{className:"py-32 px-8 max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-24",children:[de.jsxs("div",{children:[de.jsx("h2",{className:"text-5xl font-black mb-12",children:"Why choose us?"}),de.jsx("div",{className:"space-y-12",children:[{t:"Measurable Impact",d:"We provide detailed reports on the social and environmental outcomes of your project."},{t:"Strategic Alignment",d:"We tailor initiatives to match your company's core values and industry focus."},{t:"End-to-End Management",d:"From logistics to NGO coordination, we handle everything so you don't have to."}].map(((e,t)=>de.jsxs("div",{className:"flex gap-6",children:[de.jsxs("span",{className:"text-[#fcb22f] font-black text-2xl",children:["0",t+1]}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-xl font-bold mb-2",children:e.t}),de.jsx("p",{className:"text-gray-500 font-medium leading-relaxed",children:e.d})]})]},t)))})]}),de.jsx(ol,{formType:"csr"})]}),de.jsx(zt,{})]})},pl=r.createContext(void 0),gl=({children:e})=>{const[t,s]=r.useState(null),[a,n]=r.useState(null),[i,o]=r.useState(!0),[l,c]=r.useState(!1),[d,u]=r.useState(null),h=r.useRef(!1),m=r.useRef(0),p=r.useRef(!0);r.useEffect((()=>(p.current=!0,()=>{p.current=!1})),[]),r.useEffect((()=>{let e=!0;let t;(async()=>{var t;try{const{data:{session:r}}=await qn.auth.getSession();if(!e)return;n(r),s((null==r?void 0:r.user)??null),(null==(t=null==r?void 0:r.user)?void 0:t.email)&&await g(r.user.email)}catch(r){}finally{e&&o(!1)}})();const{data:{subscription:r}}=qn.auth.onAuthStateChange((async(r,a)=>{clearTimeout(t),t=setTimeout((async()=>{var t;e&&(n(a),s((null==a?void 0:a.user)??null),(null==(t=null==a?void 0:a.user)?void 0:t.email)?(await g(a.user.email),o(!1)):(c(!1),o(!1)))}),500)}));return()=>{e=!1,clearTimeout(t),r.unsubscribe()}}),[]);const g=async(e,t=!1)=>{const r=++m.current;if(!h.current||t)try{if(h.current=!0,!e)return void c(!1);const s=Date.now();if(!t&&d&&d.email===e&&s-d.timestamp<3e5)return void(r===m.current&&p.current&&c(d.isAdmin));const a=new Promise(((e,t)=>{setTimeout((()=>{r===m.current&&t(new Error("Admin check timeout"))}),1e4)})),n=qn.from("site_settings").select("setting_value").eq("setting_key","admin_emails").maybeSingle(),i=await Promise.race([n,a]);if(r!==m.current)return;if(i.error)return d&&d.email===e?void(p.current&&c(d.isAdmin)):void(p.current&&c(!1));if(!i.data)return void(p.current&&c(!1));const o=JSON.parse(i.data.setting_value||"[]").includes(e);u({email:e,isAdmin:o,timestamp:s}),p.current&&c(o)}catch(s){if(r!==m.current)return;d&&d.email===e?p.current&&c(d.isAdmin):p.current&&c(!1)}finally{r===m.current&&(h.current=!1)}},f={user:t,session:a,loading:i,signIn:async(e,t)=>{try{const{error:r}=await qn.auth.signInWithPassword({email:e,password:t});return{error:r}}catch(r){return{error:r}}},signOut:async()=>{await qn.auth.signOut(),p.current&&(c(!1),u(null))},isAdmin:l,refreshAdminStatus:async()=>{(null==t?void 0:t.email)&&await g(t.email,!0)}};return de.jsx(pl.Provider,{value:f,children:e})},fl=()=>{const e=r.useContext(pl);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},xl=()=>{const{user:e,signOut:t}=fl(),s=l(),[a,n]=r.useState({heroImages:0,clientLogos:0,projects:0});r.useEffect((()=>{i()}),[]);const i=async()=>{try{const{count:e}=await qn.from("hero_images").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:t}=await qn.from("client_logos").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:r}=await qn.from("projects").select("*",{count:"exact",head:!0}).eq("is_active",!0);n({heroImages:e||0,clientLogos:t||0,projects:r||0})}catch(e){}};return de.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[de.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),de.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Welcome back, ",null==e?void 0:e.email]})]}),de.jsxs("div",{className:"flex items-center gap-4",children:[de.jsx(Oo,{onClick:()=>s("/"),className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600",children:"View Site"}),de.jsx(Oo,{onClick:async()=>{await t(),s("/")},className:"bg-red-600 hover:bg-red-700 text-white",children:"Sign Out"})]})]})})}),de.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Hero Images"}),de.jsx("span",{className:"text-2xl",children:"ð¼ï¸"})]}),de.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Manage hero section background images and animations"}),de.jsx(Oo,{onClick:()=>s("/admin/hero-images"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Manage Hero Images"})]}),de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Client Logos"}),de.jsx("span",{className:"text-2xl",children:"ð¢"})]}),de.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Add, edit, or remove client logos from the sphere gallery"}),de.jsx(Oo,{onClick:()=>s("/admin/client-logos"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:"Manage Client Logos"})]}),de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Projects"}),de.jsx("span",{className:"text-2xl",children:"ð¼"})]}),de.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Create and manage portfolio project showcase cards"}),de.jsx(Oo,{onClick:()=>s("/admin/projects"),className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Manage Projects"})]}),de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Media Library"}),de.jsx("span",{className:"text-2xl",children:"ð"})]}),de.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Browse and manage all uploaded media files"}),de.jsx(Oo,{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:"Open Media Library"})]})]}),de.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),de.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:a.heroImages}),de.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Hero Images"})]}),de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:a.clientLogos}),de.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Client Logos"})]}),de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:a.projects}),de.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Projects"})]})]})]})]})]})},bl=()=>{const[e,t]=r.useState(""),[s,a]=r.useState(""),[n,i]=r.useState(""),[o,c]=r.useState(!1),{signIn:d,user:u,isAdmin:h,loading:m}=fl(),p=l();r.useEffect((()=>{m||(u&&h?(c(!1),p("/admin/dashboard")):!u||h||o||(i("You do not have admin access"),c(!1)))}),[u,h,m,p,o]);return de.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 px-4",children:de.jsxs("div",{className:"max-w-md w-full space-y-8",children:[de.jsxs("div",{className:"text-center",children:[de.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Admin Login"}),de.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sign in to access the content management system"})]}),de.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-2xl rounded-2xl p-8",children:[de.jsxs("form",{onSubmit:async t=>{t.preventDefault(),i(""),c(!0);try{const{error:t}=await d(e,s);if(t)return i(t.message),void c(!1)}catch(r){i("An unexpected error occurred"),c(!1)}},className:"space-y-6",children:[n&&de.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg",children:n}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),de.jsx(al,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"admin@example.com",required:!0,className:"w-full"})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),de.jsx(al,{id:"password",type:"password",value:s,onChange:e=>a(e.target.value),placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢",required:!0,className:"w-full"})]}),de.jsx(Oo,{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:o?de.jsxs("span",{className:"flex items-center justify-center",children:[de.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),de.jsxs("div",{className:"mt-6 text-center space-y-3",children:[de.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",de.jsx("button",{type:"button",onClick:()=>p("/admin/register"),className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Create admin account"})]}),de.jsx("button",{onClick:()=>p("/"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"â Back to Portfolio"})]})]}),de.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:"Protected by Supabase Authentication"})]})})};function yl(){const e=l(),[t,s]=r.useState(""),[a,n]=r.useState(""),[i,o]=r.useState(""),[c,d]=r.useState(!1),[u,h]=r.useState(""),[m,p]=r.useState(!1);return de.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 dark:from-black dark:via-neutral-950 dark:to-black p-4",children:de.jsxs("div",{className:"bg-white dark:bg-neutral-900 p-8 rounded-2xl shadow-2xl border border-neutral-200 dark:border-neutral-800 max-w-md w-full",children:[de.jsxs("div",{className:"mb-6",children:[de.jsx("h2",{className:"text-3xl font-bold text-neutral-900 dark:text-white mb-2",children:"Create Admin Account"}),de.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 text-sm",children:"â ï¸ One-time use only. Delete this page after registration."})]}),m?de.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[de.jsx("h3",{className:"text-green-800 dark:text-green-400 font-semibold mb-2",children:"â Account Created!"}),de.jsx("p",{className:"text-green-700 dark:text-green-500 text-sm mb-3",children:"Your admin account has been created successfully."}),de.jsx("p",{className:"text-green-600 dark:text-green-600 text-xs",children:"Redirecting to login page..."})]}):de.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),h(""),a===i)if(a.length<6)h("Password must be at least 6 characters");else{d(!0);try{const{data:r,error:s}=await qn.auth.signUp({email:t,password:a,options:{emailRedirectTo:`${window.location.origin}/admin/dashboard`,data:{email_confirm:!1}}});if(s)throw s;if(r.user){const{data:r,error:s}=await qn.from("site_settings").select("setting_value").eq("setting_key","admin_emails").single();let a=[];if(!s&&(null==r?void 0:r.setting_value)&&(a=JSON.parse(r.setting_value)),!a.includes(t)){a.push(t);const{error:e}=await qn.from("site_settings").upsert({setting_key:"admin_emails",setting_type:"admin",setting_value:JSON.stringify(a)},{onConflict:"setting_key"})}p(!0),setTimeout((()=>{e("/admin/login")}),3e3)}}catch(s){h(s.message||"Failed to create account")}finally{d(!1)}}else h("Passwords do not match")},className:"space-y-4",children:[u&&de.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:de.jsx("p",{className:"text-red-800 dark:text-red-400 text-sm",children:u})}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Email Address"}),de.jsx("input",{id:"email",type:"email",value:t,onChange:e=>s(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent transition-all",placeholder:"admin@example.com"})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Password"}),de.jsx("input",{id:"password",type:"password",value:a,onChange:e=>n(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent transition-all",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢"}),de.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500 mt-1",children:"Minimum 6 characters"})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Confirm Password"}),de.jsx("input",{id:"confirmPassword",type:"password",value:i,onChange:e=>o(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent transition-all",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢"})]}),de.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:c?"Creating Account...":"Create Admin Account"}),de.jsxs("div",{className:"text-center text-sm text-neutral-600 dark:text-neutral-400",children:["Already have an account?"," ",de.jsx("button",{type:"button",onClick:()=>e("/admin/login"),className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Sign in"})]})]}),de.jsx("div",{className:"mt-6 pt-6 border-t border-neutral-200 dark:border-neutral-800",children:de.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:[de.jsx("strong",{children:"Security Note:"})," After creating your admin account, set"," ",de.jsx("code",{className:"bg-neutral-100 dark:bg-neutral-800 px-1 py-0.5 rounded",children:"ALLOW_REGISTRATION = false"})," ","in this file or delete it entirely."]})})]})})}var vl,wl,jl,kl,Nl,_l,Sl,Cl,El,Tl,Ol,Rl,Pl,Al,Il,$l=!1;function Dl(){if(!$l){$l=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Rl=/\b(iPhone|iP[ao]d)/.exec(e),Pl=/\b(iP[ao]d)/.exec(e),Tl=/Android/i.exec(e),Al=/FBAN\/\w+;/i.exec(e),Il=/Mobile/i.exec(e),Ol=!!/Win64/.exec(e),t){(vl=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(vl=document.documentMode);var s=/(?:Trident\/(\d+.\d+))/.exec(e);_l=s?parseFloat(s[1])+4:vl,wl=t[2]?parseFloat(t[2]):NaN,jl=t[3]?parseFloat(t[3]):NaN,(kl=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Nl=t&&t[1]?parseFloat(t[1]):NaN):Nl=NaN}else vl=wl=jl=Nl=kl=NaN;if(r){if(r[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Sl=!a||parseFloat(a[1].replace("_","."))}else Sl=!1;Cl=!!r[2],El=!!r[3]}else Sl=Cl=El=!1}}var Ll,zl={ie:function(){return Dl()||vl},ieCompatibilityMode:function(){return Dl()||_l>vl},ie64:function(){return zl.ie()&&Ol},firefox:function(){return Dl()||wl},opera:function(){return Dl()||jl},webkit:function(){return Dl()||kl},safari:function(){return zl.webkit()},chrome:function(){return Dl()||Nl},windows:function(){return Dl()||Cl},osx:function(){return Dl()||Sl},linux:function(){return Dl()||El},iphone:function(){return Dl()||Rl},mobile:function(){return Dl()||Rl||Pl||Tl||Il},nativeApp:function(){return Dl()||Al},android:function(){return Dl()||Tl},ipad:function(){return Dl()||Pl}},Ml=zl,Ul={canUseDOM:!("undefined"==typeof window||!window.document||!window.document.createElement)};Ul.canUseDOM&&(Ll=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */;var Bl=Ml,ql=function(e,t){if(!Ul.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,s=r in document;if(!s){var a=document.createElement("div");a.setAttribute(r,"return;"),s="function"==typeof a[r]}return!s&&Ll&&"wheel"===e&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s};function Wl(e){var t=0,r=0,s=0,a=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),s=10*t,a=10*r,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(s=e.deltaX),(s||a)&&e.deltaMode&&(1==e.deltaMode?(s*=40,a*=40):(s*=800,a*=800)),s&&!t&&(t=s<1?-1:1),a&&!r&&(r=a<1?-1:1),{spinX:t,spinY:r,pixelX:s,pixelY:a}}Wl.getEventType=function(){return Bl.firefox()?"DOMMouseScroll":ql("wheel")?"wheel":"mousewheel"};const Fl=n(Wl);function Gl(e,t,r,s,a){void 0===a&&(a=0);var n=Xl(t.width,t.height,a),i=n.width,o=n.height;return{x:Hl(e.x,i,r.width,s),y:Hl(e.y,o,r.height,s)}}function Hl(e,t,r,s){var a=t*s/2-r/2;return Ql(e,-a,a)}function Vl(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function Kl(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function Jl(e,t){return Math.min(e,Math.max(0,t))}function Yl(e,t){return t}function Zl(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function Xl(e,t,r){var s=r*Math.PI/180;return{width:Math.abs(Math.cos(s)*e)+Math.abs(Math.sin(s)*t),height:Math.abs(Math.sin(s)*e)+Math.abs(Math.cos(s)*t)}}function Ql(e,t,r){return Math.min(Math.max(e,t),r)}function ec(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return"string"==typeof e&&e.length>0})).join(" ").trim()}var tc=function(e){function t(){var s=null!==e&&e.apply(this,arguments)||this;return s.cropperRef=r.createRef(),s.imageRef=r.createRef(),s.videoRef=r.createRef(),s.containerPosition={x:0,y:0},s.containerRef=null,s.styleRef=null,s.containerRect=null,s.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},s.dragStartPosition={x:0,y:0},s.dragStartCrop={x:0,y:0},s.gestureZoomStart=0,s.gestureRotationStart=0,s.isTouching=!1,s.lastPinchDistance=0,s.lastPinchRotation=0,s.rafDragTimeout=null,s.rafPinchTimeout=null,s.wheelTimer=null,s.currentDoc="undefined"!=typeof document?document:null,s.currentWindow="undefined"!=typeof window?window:null,s.resizeObserver=null,s.previousCropSize=null,s.isInitialized=!1,s.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},s.initResizeObserver=function(){if(void 0!==window.ResizeObserver&&s.containerRef){var e=!0;s.resizeObserver=new window.ResizeObserver((function(t){e?e=!1:s.computeSizes()})),s.resizeObserver.observe(s.containerRef)}},s.preventZoomSafari=function(e){return e.preventDefault()},s.cleanEvents=function(){s.currentDoc&&(s.currentDoc.removeEventListener("mousemove",s.onMouseMove),s.currentDoc.removeEventListener("mouseup",s.onDragStopped),s.currentDoc.removeEventListener("touchmove",s.onTouchMove),s.currentDoc.removeEventListener("touchend",s.onDragStopped),s.currentDoc.removeEventListener("gesturechange",s.onGestureChange),s.currentDoc.removeEventListener("gestureend",s.onGestureEnd),s.currentDoc.removeEventListener("scroll",s.onScroll))},s.clearScrollEvent=function(){s.containerRef&&s.containerRef.removeEventListener("wheel",s.onWheel),s.wheelTimer&&clearTimeout(s.wheelTimer)},s.onMediaLoad=function(){var e=s.computeSizes();e&&(s.previousCropSize=e,s.emitCropData(),s.setInitialCrop(e),s.isInitialized=!0),s.props.onMediaLoaded&&s.props.onMediaLoaded(s.mediaSize)},s.setInitialCrop=function(e){if(s.props.initialCroppedAreaPercentages){var t=function(e,t,r,s,a,n){var i=Xl(t.width,t.height,r),o=Ql(s.width/i.width*(100/e.width),a,n);return{crop:{x:o*i.width/2-s.width/2-i.width*o*(e.x/100),y:o*i.height/2-s.height/2-i.height*o*(e.y/100)},zoom:o}}(s.props.initialCroppedAreaPercentages,s.mediaSize,s.props.rotation,e,s.props.minZoom,s.props.maxZoom),r=t.crop,a=t.zoom;s.props.onCropChange(r),s.props.onZoomChange&&s.props.onZoomChange(a)}else if(s.props.initialCroppedAreaPixels){var n=function(e,t,r,s,a,n){void 0===r&&(r=0);var i=Xl(t.naturalWidth,t.naturalHeight,r),o=Ql(function(e,t,r){var s=function(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}(t);return r.height>r.width?r.height/(e.height*s):r.width/(e.width*s)}(e,t,s),a,n),l=s.height>s.width?s.height/e.height:s.width/e.width;return{crop:{x:((i.width-e.width)/2-e.x)*l,y:((i.height-e.height)/2-e.y)*l},zoom:o}}(s.props.initialCroppedAreaPixels,s.mediaSize,s.props.rotation,e,s.props.minZoom,s.props.maxZoom);r=n.crop,a=n.zoom;s.props.onCropChange(r),s.props.onZoomChange&&s.props.onZoomChange(a)}},s.computeSizes=function(){var e,t,r,a,n,i,o=s.imageRef.current||s.videoRef.current;if(o&&s.containerRef){s.containerRect=s.containerRef.getBoundingClientRect(),s.saveContainerPosition();var l=s.containerRect.width/s.containerRect.height,c=(null===(e=s.imageRef.current)||void 0===e?void 0:e.naturalWidth)||(null===(t=s.videoRef.current)||void 0===t?void 0:t.videoWidth)||0,d=(null===(r=s.imageRef.current)||void 0===r?void 0:r.naturalHeight)||(null===(a=s.videoRef.current)||void 0===a?void 0:a.videoHeight)||0,u=c/d,h=void 0;if(o.offsetWidth<c||o.offsetHeight<d)switch(s.state.mediaObjectFit){default:case"contain":h=l>u?{width:s.containerRect.height*u,height:s.containerRect.height}:{width:s.containerRect.width,height:s.containerRect.width/u};break;case"horizontal-cover":h={width:s.containerRect.width,height:s.containerRect.width/u};break;case"vertical-cover":h={width:s.containerRect.height*u,height:s.containerRect.height}}else h={width:o.offsetWidth,height:o.offsetHeight};s.mediaSize=qt(qt({},h),{naturalWidth:c,naturalHeight:d}),s.props.setMediaSize&&s.props.setMediaSize(s.mediaSize);var m=s.props.cropSize?s.props.cropSize:function(e,t,r,s,a,n){void 0===n&&(n=0);var i=Xl(e,t,n),o=i.width,l=i.height,c=Math.min(o,r),d=Math.min(l,s);return c>d*a?{width:d*a,height:d}:{width:c,height:c/a}}(s.mediaSize.width,s.mediaSize.height,s.containerRect.width,s.containerRect.height,s.props.aspect,s.props.rotation);return(null===(n=s.state.cropSize)||void 0===n?void 0:n.height)===m.height&&(null===(i=s.state.cropSize)||void 0===i?void 0:i.width)===m.width||s.props.onCropSizeChange&&s.props.onCropSizeChange(m),s.setState({cropSize:m},s.recomputeCropPosition),s.props.setCropSize&&s.props.setCropSize(m),m}},s.saveContainerPosition=function(){if(s.containerRef){var e=s.containerRef.getBoundingClientRect();s.containerPosition={x:e.left,y:e.top}}},s.onMouseDown=function(e){s.currentDoc&&(e.preventDefault(),s.currentDoc.addEventListener("mousemove",s.onMouseMove),s.currentDoc.addEventListener("mouseup",s.onDragStopped),s.saveContainerPosition(),s.onDragStart(t.getMousePoint(e)))},s.onMouseMove=function(e){return s.onDrag(t.getMousePoint(e))},s.onScroll=function(e){s.currentDoc&&(e.preventDefault(),s.saveContainerPosition())},s.onTouchStart=function(e){s.currentDoc&&(s.isTouching=!0,s.props.onTouchRequest&&!s.props.onTouchRequest(e)||(s.currentDoc.addEventListener("touchmove",s.onTouchMove,{passive:!1}),s.currentDoc.addEventListener("touchend",s.onDragStopped),s.saveContainerPosition(),2===e.touches.length?s.onPinchStart(e):1===e.touches.length&&s.onDragStart(t.getTouchPoint(e.touches[0]))))},s.onTouchMove=function(e){e.preventDefault(),2===e.touches.length?s.onPinchMove(e):1===e.touches.length&&s.onDrag(t.getTouchPoint(e.touches[0]))},s.onGestureStart=function(e){s.currentDoc&&(e.preventDefault(),s.currentDoc.addEventListener("gesturechange",s.onGestureChange),s.currentDoc.addEventListener("gestureend",s.onGestureEnd),s.gestureZoomStart=s.props.zoom,s.gestureRotationStart=s.props.rotation)},s.onGestureChange=function(e){if(e.preventDefault(),!s.isTouching){var r=t.getMousePoint(e),a=s.gestureZoomStart-1+e.scale;if(s.setNewZoom(a,r,{shouldUpdatePosition:!0}),s.props.onRotationChange){var n=s.gestureRotationStart+e.rotation;s.props.onRotationChange(n)}}},s.onGestureEnd=function(e){s.cleanEvents()},s.onDragStart=function(e){var t,r,a=e.x,n=e.y;s.dragStartPosition={x:a,y:n},s.dragStartCrop=qt({},s.props.crop),null===(r=(t=s.props).onInteractionStart)||void 0===r||r.call(t)},s.onDrag=function(e){var t=e.x,r=e.y;s.currentWindow&&(s.rafDragTimeout&&s.currentWindow.cancelAnimationFrame(s.rafDragTimeout),s.rafDragTimeout=s.currentWindow.requestAnimationFrame((function(){if(s.state.cropSize&&void 0!==t&&void 0!==r){var e=t-s.dragStartPosition.x,a=r-s.dragStartPosition.y,n={x:s.dragStartCrop.x+e,y:s.dragStartCrop.y+a},i=s.props.restrictPosition?Gl(n,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):n;s.props.onCropChange(i)}})))},s.onDragStopped=function(){var e,t;s.isTouching=!1,s.cleanEvents(),s.emitCropData(),null===(t=(e=s.props).onInteractionEnd)||void 0===t||t.call(e)},s.onWheel=function(e){if(s.currentWindow&&(!s.props.onWheelRequest||s.props.onWheelRequest(e))){e.preventDefault();var r=t.getMousePoint(e),a=Fl(e).pixelY,n=s.props.zoom-a*s.props.zoomSpeed/200;s.setNewZoom(n,r,{shouldUpdatePosition:!0}),s.state.hasWheelJustStarted||s.setState({hasWheelJustStarted:!0},(function(){var e,t;return null===(t=(e=s.props).onInteractionStart)||void 0===t?void 0:t.call(e)})),s.wheelTimer&&clearTimeout(s.wheelTimer),s.wheelTimer=s.currentWindow.setTimeout((function(){return s.setState({hasWheelJustStarted:!1},(function(){var e,t;return null===(t=(e=s.props).onInteractionEnd)||void 0===t?void 0:t.call(e)}))}),250)}},s.getPointOnContainer=function(e,t){var r=e.x,a=e.y;if(!s.containerRect)throw new Error("The Cropper is not mounted");return{x:s.containerRect.width/2-(r-t.x),y:s.containerRect.height/2-(a-t.y)}},s.getPointOnMedia=function(e){var t=e.x,r=e.y,a=s.props,n=a.crop,i=a.zoom;return{x:(t+n.x)/i,y:(r+n.y)/i}},s.setNewZoom=function(e,t,r){var a=(void 0===r?{}:r).shouldUpdatePosition,n=void 0===a||a;if(s.state.cropSize&&s.props.onZoomChange){var i=Ql(e,s.props.minZoom,s.props.maxZoom);if(n){var o=s.getPointOnContainer(t,s.containerPosition),l=s.getPointOnMedia(o),c={x:l.x*i-o.x,y:l.y*i-o.y},d=s.props.restrictPosition?Gl(c,s.mediaSize,s.state.cropSize,i,s.props.rotation):c;s.props.onCropChange(d)}s.props.onZoomChange(i)}},s.getCropData=function(){return s.state.cropSize?function(e,t,r,s,a,n,i){void 0===n&&(n=0),void 0===i&&(i=!0);var o=i?Jl:Yl,l=Xl(t.width,t.height,n),c=Xl(t.naturalWidth,t.naturalHeight,n),d={x:o(100,((l.width-r.width/a)/2-e.x/a)/l.width*100),y:o(100,((l.height-r.height/a)/2-e.y/a)/l.height*100),width:o(100,r.width/l.width*100/a),height:o(100,r.height/l.height*100/a)},u=Math.round(o(c.width,d.width*c.width/100)),h=Math.round(o(c.height,d.height*c.height/100)),m=c.width>=c.height*s?{width:Math.round(h*s),height:h}:{width:u,height:Math.round(u/s)};return{croppedAreaPercentages:d,croppedAreaPixels:qt(qt({},m),{x:Math.round(o(c.width-m.width,d.x*c.width/100)),y:Math.round(o(c.height-m.height,d.y*c.height/100))})}}(s.props.restrictPosition?Gl(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop,s.mediaSize,s.state.cropSize,s.getAspect(),s.props.zoom,s.props.rotation,s.props.restrictPosition):null},s.emitCropData=function(){var e=s.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;s.props.onCropComplete&&s.props.onCropComplete(t,r),s.props.onCropAreaChange&&s.props.onCropAreaChange(t,r)}},s.emitCropAreaChange=function(){var e=s.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;s.props.onCropAreaChange&&s.props.onCropAreaChange(t,r)}},s.recomputeCropPosition=function(){var e,t;if(s.state.cropSize){var r=s.props.crop;if(s.isInitialized&&(null===(e=s.previousCropSize)||void 0===e?void 0:e.width)&&(null===(t=s.previousCropSize)||void 0===t?void 0:t.height))if(Math.abs(s.previousCropSize.width-s.state.cropSize.width)>1e-6||Math.abs(s.previousCropSize.height-s.state.cropSize.height)>1e-6){var a=s.state.cropSize.width/s.previousCropSize.width,n=s.state.cropSize.height/s.previousCropSize.height;r={x:s.props.crop.x*a,y:s.props.crop.y*n}}var i=s.props.restrictPosition?Gl(r,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):r;s.previousCropSize=s.state.cropSize,s.props.onCropChange(i),s.emitCropData()}},s.onKeyDown=function(e){var t,r,a=s.props,n=a.crop,i=a.onCropChange,o=a.keyboardStep,l=a.zoom,c=a.rotation,d=o;if(s.state.cropSize){e.shiftKey&&(d*=.2);var u=qt({},n);switch(e.key){case"ArrowUp":u.y-=d,e.preventDefault();break;case"ArrowDown":u.y+=d,e.preventDefault();break;case"ArrowLeft":u.x-=d,e.preventDefault();break;case"ArrowRight":u.x+=d,e.preventDefault();break;default:return}s.props.restrictPosition&&(u=Gl(u,s.mediaSize,s.state.cropSize,l,c)),e.repeat||null===(r=(t=s.props).onInteractionStart)||void 0===r||r.call(t),i(u)}},s.onKeyUp=function(e){var t,r;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":e.preventDefault();break;default:return}s.emitCropData(),null===(r=(t=s.props).onInteractionEnd)||void 0===r||r.call(t)},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Bt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.componentDidMount=function(){this.currentDoc&&this.currentWindow&&(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),void 0===window.ResizeObserver&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var e,t;this.currentDoc&&this.currentWindow&&(void 0===window.ResizeObserver&&this.currentWindow.removeEventListener("resize",this.computeSizes),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null===(t=this.styleRef.parentNode)||void 0===t||t.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(e){var t,r,s,a,n,i,o,l,c;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect||e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():(null===(t=e.cropSize)||void 0===t?void 0:t.height)!==(null===(r=this.props.cropSize)||void 0===r?void 0:r.height)||(null===(s=e.cropSize)||void 0===s?void 0:s.width)!==(null===(a=this.props.cropSize)||void 0===a?void 0:a.width)?this.computeSizes():(null===(n=e.crop)||void 0===n?void 0:n.x)===(null===(i=this.props.crop)||void 0===i?void 0:i.x)&&(null===(o=e.crop)||void 0===o?void 0:o.y)===(null===(l=this.props.crop)||void 0===l?void 0:l.y)||this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&(null===(c=this.videoRef.current)||void 0===c||c.load());var d=this.getObjectFit();d!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:d},this.computeSizes)},t.prototype.getAspect=function(){var e=this.props,t=e.cropSize,r=e.aspect;return t?t.width/t.height:r},t.prototype.getObjectFit=function(){var e,t,r,s;if("cover"===this.props.objectFit){if((this.imageRef.current||this.videoRef.current)&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height;return((null===(e=this.imageRef.current)||void 0===e?void 0:e.naturalWidth)||(null===(t=this.videoRef.current)||void 0===t?void 0:t.videoWidth)||0)/((null===(r=this.imageRef.current)||void 0===r?void 0:r.naturalHeight)||(null===(s=this.videoRef.current)||void 0===s?void 0:s.videoHeight)||0)<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(e){var r=t.getTouchPoint(e.touches[0]),s=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=Vl(r,s),this.lastPinchRotation=Kl(r,s),this.onDragStart(Zl(r,s))},t.prototype.onPinchMove=function(e){var r=this;if(this.currentDoc&&this.currentWindow){var s=t.getTouchPoint(e.touches[0]),a=t.getTouchPoint(e.touches[1]),n=Zl(s,a);this.onDrag(n),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame((function(){var e=Vl(s,a),t=r.props.zoom*(e/r.lastPinchDistance);r.setNewZoom(t,n,{shouldUpdatePosition:!1}),r.lastPinchDistance=e;var i=Kl(s,a),o=r.props.rotation+(i-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(o),r.lastPinchRotation=i}))}},t.prototype.render=function(){var e,t=this,s=this.props,a=s.image,n=s.video,i=s.mediaProps,o=s.cropperProps,l=s.transform,c=s.crop,d=c.x,u=c.y,h=s.rotation,m=s.zoom,p=s.cropShape,g=s.showGrid,f=s.roundCropAreaPixels,x=s.style,b=x.containerStyle,y=x.cropAreaStyle,v=x.mediaStyle,w=s.classes,j=w.containerClassName,k=w.cropAreaClassName,N=w.mediaClassName,_=null!==(e=this.state.mediaObjectFit)&&void 0!==e?e:this.getObjectFit();return r.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(e){return t.containerRef=e},"data-testid":"container",style:b,className:ec("reactEasyCrop_Container",j)},a?r.createElement("img",qt({alt:"",className:ec("reactEasyCrop_Image","contain"===_&&"reactEasyCrop_Contain","horizontal-cover"===_&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===_&&"reactEasyCrop_Cover_Vertical",N)},i,{src:a,ref:this.imageRef,style:qt(qt({},v),{transform:l||"translate(".concat(d,"px, ").concat(u,"px) rotate(").concat(h,"deg) scale(").concat(m,")")}),onLoad:this.onMediaLoad})):n&&r.createElement("video",qt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ec("reactEasyCrop_Video","contain"===_&&"reactEasyCrop_Contain","horizontal-cover"===_&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===_&&"reactEasyCrop_Cover_Vertical",N)},i,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:qt(qt({},v),{transform:l||"translate(".concat(d,"px, ").concat(u,"px) rotate(").concat(h,"deg) scale(").concat(m,")")}),controls:!1}),(Array.isArray(n)?n:[{src:n}]).map((function(e){return r.createElement("source",qt({key:e.src},e))}))),this.state.cropSize&&r.createElement("div",qt({ref:this.cropperRef,style:qt(qt({},y),{width:f?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:f?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ec("reactEasyCrop_CropArea","round"===p&&"reactEasyCrop_CropAreaRound",g&&"reactEasyCrop_CropAreaGrid",k)},o)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:1},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(r.Component);async function rc(e,t){const r=await(s=e,new Promise(((e,t)=>{const r=new Image;r.addEventListener("load",(()=>e(r))),r.addEventListener("error",(e=>t(e))),r.src=s})));var s;const a=document.createElement("canvas"),n=a.getContext("2d");if(!n)throw new Error("No 2d context");return a.width=t.width,a.height=t.height,n.drawImage(r,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise(((e,t)=>{a.toBlob((r=>{r?e(r):t(new Error("Canvas is empty"))}),"image/jpeg")}))}const sc=({onClose:e})=>{const[t,s]=r.useState([]),[a,n]=r.useState(0),[i,o]=r.useState(""),[l,c]=r.useState({x:0,y:0}),[d,u]=r.useState(1),[h,m]=r.useState(null),[p,g]=r.useState(!1),[f,x]=r.useState({current:0,total:0}),b=r.useCallback(((e,t)=>{m(t)}),[]);return de.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-auto",children:[de.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:de.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Add New Hero Image"})}),de.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),0!==t.length&&h){g(!0),x({current:0,total:t.length});try{const r=t[a],s=await rc(i,h),l=`${Date.now()}_${r.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,d=qn.storage.from("hero-images").upload(l,s,{contentType:"image/jpeg",cacheControl:"3600",upsert:!1}),p=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Upload timeout - please check your internet connection"))),6e4)})),{data:g,error:f}=await Promise.race([d,p]);if(f)throw new Error(`Storage upload failed: ${f.message}`);const{data:{publicUrl:b}}=qn.storage.from("hero-images").getPublicUrl(l),{error:y}=await qn.from("hero_images").insert({title:r.name.replace(/\.[^/.]+$/,""),alt_text:null,image_url:b,is_active:!0});if(y)throw await qn.storage.from("hero-images").remove([l]),new Error(`Database insert failed: ${y.message}`);x({current:a+1,total:t.length}),a+1<t.length?((()=>{const e=a+1;if(e<t.length){n(e);const r=new FileReader;r.onloadend=()=>{o(r.result),c({x:0,y:0}),u(1)},r.readAsDataURL(t[e])}})(),m(null)):(alert(`Successfully uploaded ${t.length} image(s)!`),e())}catch(s){alert(`Failed to upload image ${a+1}: ${s.message||"Unknown error"}`)}finally{g(!1)}}else alert("Please select at least one image and adjust the crop")},className:"p-6",children:[de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Images *"}),de.jsx("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=Array.from(e.target.files);s(t),n(0);const r=new FileReader;r.onloadend=()=>{o(r.result),c({x:0,y:0}),u(1)},r.readAsDataURL(t[0])}},multiple:!0,required:!0,className:"block w-full text-sm text-gray-900 dark:text-gray-300 \n                         file:mr-4 file:py-2 file:px-4\n                         file:rounded file:border-0\n                         file:text-sm file:font-semibold\n                         file:bg-blue-50 file:text-blue-700\n                         dark:file:bg-blue-900 dark:file:text-blue-300\n                         hover:file:bg-blue-100 dark:hover:file:bg-blue-800"}),t.length>0&&de.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[t.length," file(s) selected. Cropping image ",a+1," of ",t.length]})]}),i&&de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Crop Image ",a+1]}),de.jsx("div",{className:"relative h-96 bg-gray-200 dark:bg-gray-700 rounded",children:de.jsx(tc,{image:i,crop:l,zoom:d,aspect:16/9,onCropChange:c,onCropComplete:b,onZoomChange:u})}),de.jsxs("div",{className:"mt-4",children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Zoom"}),de.jsx("input",{type:"range",value:d,min:1,max:3,step:.1,onChange:e=>u(Number(e.target.value)),className:"w-full"})]})]})]}),de.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[de.jsx(Oo,{type:"button",onClick:e,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500",disabled:p,children:"Cancel"}),de.jsx(Oo,{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white",disabled:p||0===t.length,children:p?a+1<t.length?`Upload & Next (${f.current}/${f.total})`:`Uploading (${f.current}/${f.total})...`:a+1<t.length?`Upload & Next (${a+1}/${t.length})`:"Upload "+(t.length>1?"All":"Image")})]})]})]})})},ac=()=>{const{user:e,signOut:t}=fl(),s=l(),[a,n]=r.useState([]),[i,o]=r.useState(!0),[c,d]=r.useState(0),[u,h]=r.useState(!1),[m,p]=r.useState(null);r.useEffect((()=>{g()}),[]);const g=async(e=!1)=>{try{o(!0);const{data:t,error:r}=await qn.from("hero_images").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(r)throw r;const s=t||[];n(s),e&&s.length>0&&d(0)}catch(t){}finally{o(!1)}};r.useEffect((()=>{if(0===a.length)return;const e=setInterval((()=>{d((e=>(e+1)%a.length))}),5e3);return()=>clearInterval(e)}),[a.length]),r.useEffect((()=>{c>=a.length&&d(0)}),[a.length,c]);return de.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[de.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("button",{onClick:()=>s("/admin/dashboard"),className:"text-blue-600 dark:text-blue-400 hover:underline mb-2 text-sm",children:"â Back to Dashboard"}),de.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Hero Images"}),de.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:null==e?void 0:e.email})]}),de.jsxs("div",{className:"flex items-center gap-4",children:[de.jsx(Oo,{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"+ Add New Image"}),de.jsx(Oo,{onClick:async()=>{await t(),s("/")},className:"bg-red-600 hover:bg-red-700 text-white",children:"Sign Out"})]})]})})}),de.jsxs("main",{className:"h-[calc(100vh-120px)] flex gap-4 px-4 sm:px-6 lg:px-8 py-4",children:[de.jsxs("div",{className:"w-1/2 overflow-y-auto",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Your Images"}),i?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Loading..."})}):de.jsx(de.Fragment,{children:0===a.length?de.jsx("div",{className:"text-center py-12 text-gray-500",children:'No hero images yet. Click "Add New Image" to get started.'}):de.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map((e=>de.jsxs("div",{className:"relative group rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow bg-white dark:bg-gray-800",children:[de.jsx("button",{onClick:()=>(async(e,t)=>{p({id:e,imageUrl:t})})(e.id,e.image_url),className:"absolute top-2 right-2 z-10 w-8 h-8 flex items-center justify-center bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors shadow-lg opacity-0 group-hover:opacity-100",title:"Delete image",children:de.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:de.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),de.jsx("div",{className:"aspect-video w-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:de.jsx("img",{src:e.image_url,alt:e.title||"Hero image",className:"w-full h-full object-cover"})}),de.jsxs("div",{className:"p-2",children:[e.title&&de.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.title}),e.subtitle&&de.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:e.subtitle})]})]},e.id)))})})]}),de.jsxs("div",{className:"w-1/2 sticky top-0",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Live Preview"}),de.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden border-2 border-gray-300 dark:border-gray-600 p-4",children:de.jsx(Fn,{preview:!0})}),de.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Preview shows the first active image as it will appear on your homepage"})]})]}),u&&de.jsx(sc,{onClose:()=>{h(!1),g(!0)}}),m&&de.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 dark:bg-red-900 flex items-center justify-center",children:de.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),de.jsx("h3",{className:"ml-4 text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Image"})]}),de.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["Are you sure you want to delete this image? This action is ",de.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:"IRREVERSIBLE"})," and the image will be permanently removed."]}),de.jsxs("div",{className:"flex justify-end gap-3",children:[de.jsx(Oo,{onClick:()=>p(null),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-900 dark:text-white",children:"Cancel"}),de.jsx(Oo,{onClick:async()=>{if(m)try{const{error:e}=await qn.from("hero_images").update({is_active:!1}).eq("id",m.id);if(e)throw e;p(null),g(!0)}catch(e){alert("Failed to delete image")}},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})})]})},nc=({onClose:e})=>{const[t,s]=r.useState(""),[a,n]=r.useState(""),[i,o]=r.useState([]),[l,c]=r.useState(!1),[d,u]=r.useState({current:0,total:0});return de.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-auto",children:[de.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:de.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Add Client Logo"})}),de.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),0!==i.length)if(t.trim()){c(!0),u({current:0,total:i.length});try{for(let e=0;e<i.length;e++){const r=i[e],s=`${Date.now()}_${r.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,n=qn.storage.from("client-logos").upload(s,r,{contentType:r.type,cacheControl:"3600",upsert:!1}),o=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Upload timeout"))),6e4)})),{data:l,error:c}=await Promise.race([n,o]);if(c)throw new Error(`Storage upload failed: ${c.message}`);const{data:{publicUrl:d}}=qn.storage.from("client-logos").getPublicUrl(s),{error:h}=await qn.from("client_logos").insert({company_name:t,logo_url:d,website_url:a||null,alt_text:`${t} logo`,is_active:!0});if(h)throw await qn.storage.from("client-logos").remove([s]),new Error(`Database insert failed: ${h.message}`);u({current:e+1,total:i.length})}alert(`Successfully uploaded ${i.length} logo(s)!`),e()}catch(s){alert(`Failed to upload logo: ${s.message||"Unknown error"}`)}finally{c(!1)}}else alert("Please enter a company name");else alert("Please select at least one logo file")},className:"p-6",children:[de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name *"}),de.jsx(al,{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Enter company name",required:!0})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Website URL (optional)"}),de.jsx(al,{type:"url",value:a,onChange:e=>n(e.target.value),placeholder:"https://company.com"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Logo File(s) * (PNG, JPG, SVG)"}),de.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/svg+xml",onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=Array.from(e.target.files);o(t)}},multiple:!0,required:!0,className:"block w-full text-sm text-gray-900 dark:text-gray-300 \n                         file:mr-4 file:py-2 file:px-4\n                         file:rounded file:border-0\n                         file:text-sm file:font-semibold\n                         file:bg-blue-50 file:text-blue-700\n                         dark:file:bg-blue-900 dark:file:text-blue-300\n                         hover:file:bg-blue-100 dark:hover:file:bg-blue-800"}),i.length>0&&de.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[i.length," file(s) selected"]})]})]}),de.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[de.jsx(Oo,{type:"button",onClick:e,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500",disabled:l,children:"Cancel"}),de.jsx(Oo,{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white",disabled:l||0===i.length,children:l?`Uploading (${d.current}/${d.total})...`:"Upload "+(i.length>1?"All":"Logo")})]})]})]})})},ic=({images:e,fit:t=.8,minRadius:s=600,maxVerticalRotationDeg:a=0,segments:n=34,dragDampening:i=2,grayscale:o=!0})=>{const l=r.useRef(null),c=r.useRef(null),d=r.useRef({x:0,y:0}),u=r.useRef(null),h=r.useMemo((()=>{const t=Array.from({length:n},((e,t)=>2*t-37)),r=[-4,-2,0,2,4],s=[-3,-1,1,3,5],a=t.flatMap(((e,t)=>(t%2==0?r:s).map((t=>({x:e,y:t,sizeX:2,sizeY:2}))))),i=a.length,o=Array.from({length:i},((t,r)=>e[r%e.length]));return a.map(((e,t)=>({...e,src:o[t]})))}),[e,n]),m=r.useCallback(((e,t)=>{const r=c.current;r&&(r.style.transform=`translateZ(calc(var(--radius) * -1)) rotateX(${e}deg) rotateY(${t}deg)`)}),[]);r.useEffect((()=>{const e=()=>{d.current.y=(d.current.y+.1)%360,m(d.current.x,d.current.y),u.current=requestAnimationFrame(e)};return u.current=requestAnimationFrame(e),()=>{u.current&&cancelAnimationFrame(u.current)}}),[m]),r.useEffect((()=>{const e=l.current;if(!e)return;const r=()=>{const r=e.getBoundingClientRect(),a=Math.max(1,r.width),n=Math.max(1,r.height);let i=Math.min(a,n)*t;const l=1.35*n;var c,d,u;i=Math.min(i,l),c=i,d=s,u=1/0,i=Math.min(Math.max(c,d),u),e.style.setProperty("--radius",`${Math.round(i)}px`),e.style.setProperty("--image-filter",o?"grayscale(1)":"none")},a=new ResizeObserver(r);return a.observe(e),r(),()=>a.disconnect()}),[t,s,o]);return de.jsx("div",{ref:l,className:"client-dome-root",style:{"--segments-x":n,"--segments-y":n,"--image-filter":o?"grayscale(1)":"none"},children:de.jsxs("div",{className:"client-dome-main",children:[de.jsx("div",{className:"client-dome-stage",children:de.jsx("div",{ref:c,className:"client-dome-sphere",children:h.map(((e,t)=>{const r=((e,t,r,s)=>{const a=360/n/2;return{rotateX:a*(t-(s-1)/2),rotateY:a*(e+(r-1)/2)}})(e.x,e.y,e.sizeX,e.sizeY);return de.jsx("div",{className:"client-dome-item",style:{"--offset-x":e.x,"--offset-y":e.y,"--item-size-x":e.sizeX,"--item-size-y":e.sizeY,transform:`rotateY(${r.rotateY}deg) rotateX(${r.rotateX}deg) translateZ(var(--radius))`},children:de.jsx("div",{className:"client-dome-item__image",children:de.jsx("img",{src:e.src,draggable:!1,alt:"Client logo"})})},`${e.x},${e.y},${t}`)}))})}),de.jsx("div",{className:"client-dome-overlay"}),de.jsx("div",{className:"client-dome-overlay client-dome-overlay--blur"})]})})},oc=()=>{const{user:e,signOut:t}=fl(),s=l(),[a,n]=r.useState([]),[i,o]=r.useState(!0),[c,d]=r.useState(!1),[u,h]=r.useState(null),[m,p]=r.useState(0),[g,f]=r.useState("3d");r.useEffect((()=>{x()}),[]),r.useEffect((()=>{if(0===a.length)return;const e=setInterval((()=>{p((e=>(e+1)%a.length))}),3e3);return()=>clearInterval(e)}),[a.length]);const x=async()=>{try{o(!0);const{data:e,error:t}=await qn.from("client_logos").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(t)throw t;n(e||[])}catch(e){}finally{o(!1)}},b=a.map((e=>e.logo_url)),y=b;return de.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[de.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("button",{onClick:()=>s("/admin/dashboard"),className:"text-blue-600 dark:text-blue-400 hover:underline mb-2 text-sm",children:"â Back to Dashboard"}),de.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Client Logos"}),de.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:null==e?void 0:e.email})]}),de.jsxs("div",{className:"flex items-center gap-4",children:[de.jsx(Oo,{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"+ Add New Logo"}),de.jsx(Oo,{onClick:async()=>{await t(),s("/")},className:"bg-red-600 hover:bg-red-700 text-white",children:"Sign Out"})]})]})})}),de.jsxs("main",{className:"h-[calc(100vh-120px)] flex flex-col lg:flex-row gap-4 px-4 sm:px-6 lg:px-8 py-4",children:[de.jsxs("div",{className:"w-full lg:w-1/2 overflow-y-auto pr-2",children:[de.jsxs("div",{className:"flex justify-between items-center mb-4",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Your Logos"}),de.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.length," ",1===a.length?"logo":"logos"]})]}),i?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Loading..."})}):de.jsx(de.Fragment,{children:0===a.length?de.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[de.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),de.jsx("p",{className:"mt-4",children:"No client logos yet."}),de.jsx("p",{className:"text-sm mt-1",children:'Click "Add New Logo" to get started.'})]}):de.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((e=>de.jsxs("div",{className:"relative group rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow bg-white dark:bg-gray-800 p-3",children:[de.jsx("button",{onClick:()=>(async(e,t)=>{h({id:e,logoUrl:t})})(e.id,e.logo_url),className:"absolute top-2 right-2 z-10 w-8 h-8 flex items-center justify-center bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors shadow-lg opacity-0 group-hover:opacity-100",title:"Delete logo",children:de.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:de.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),de.jsx("div",{className:"aspect-square w-full flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded p-2",children:de.jsx("img",{src:e.logo_url,alt:e.company_name,className:"max-w-full max-h-full object-contain"})}),de.jsxs("div",{className:"mt-2 text-center",children:[de.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white truncate",children:e.company_name}),de.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Added: ",new Date(e.created_at).toLocaleDateString()]})]})]},e.id)))})})]}),de.jsxs("div",{className:"w-full lg:w-1/2 sticky top-0",children:[de.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg h-72 md:h-80 bg-white dark:bg-gray-800 p-4 md:p-8 border-2 border-gray-300 dark:border-gray-600",children:[de.jsxs("div",{className:"flex justify-between items-center mb-6",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Live Preview"}),de.jsxs("div",{className:"flex items-center gap-2",children:[de.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"View:"}),de.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",children:[de.jsx("button",{onClick:()=>f("2d"),className:"px-3 py-1 text-sm font-medium transition-colors "+("2d"===g?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"2D Grid"}),de.jsx("button",{onClick:()=>f("3d"),className:"px-3 py-1 text-sm font-medium transition-colors "+("3d"===g?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"3D Sphere"})]})]})]}),0===a.length?de.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 dark:text-gray-400 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[de.jsx("svg",{className:"w-16 h-16 mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),de.jsx("p",{children:"No logos to preview"}),de.jsx("p",{className:"text-sm mt-1",children:"Add logos to see them here"})]}):de.jsxs("div",{className:"space-y-6",children:["2d"===g?de.jsx(de.Fragment,{children:de.jsxs("div",{children:[de.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 dark:text-white mb-6",children:"Our Trusted Partners"}),de.jsxs("div",{className:"mb-6",children:[de.jsx("div",{className:"flex items-center justify-center mb-4",children:de.jsx("div",{className:"w-48 h-48 bg-white dark:bg-gray-800 rounded-lg flex items-center justify-center p-6 shadow-md",children:de.jsx("img",{src:a[m].logo_url,alt:a[m].company_name,className:"max-w-full max-h-full object-contain"})})}),de.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:a.map(((e,t)=>de.jsx("button",{onClick:()=>p(t),"aria-label":`Go to logo ${t+1}`,className:"w-2 h-2 rounded-full "+(t===m?"bg-blue-600":"bg-gray-300")},t)))})]}),de.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:a.map((e=>de.jsx("div",{className:"aspect-square flex items-center justify-center bg-white dark:bg-gray-800 rounded-lg p-3 hover:shadow-md transition-shadow border border-gray-200 dark:border-gray-700",children:de.jsx("img",{src:e.logo_url,alt:e.company_name,className:"max-w-full max-h-full object-contain filter grayscale hover:grayscale-0 transition-all duration-300",title:e.company_name})},e.id)))})]})}):de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"h-full rounded-lg overflow-hidden border flex items-start justify-center pb-6",children:de.jsx(ic,{images:y,fit:.8,minRadius:600,maxVerticalRotationDeg:0,segments:34,dragDampening:2,grayscale:!1})}),de.jsxs("div",{className:"text-center space-y-2",children:[de.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drag to rotate the sphere â¢ Logos automatically rotate"}),de.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Showing ",b.length," logos in 3D sphere view"]})]})]}),de.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:de.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Logos"}),de.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a.length})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Preview Mode"}),de.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:g.toUpperCase()})]})]})})]})]}),de.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:de.jsxs("div",{className:"flex items-start gap-2",children:[de.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),de.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[de.jsx("span",{className:"font-medium",children:"Live Preview:"})," Changes made to logos will instantly update in the preview above.","3d"===g&&" Drag the 3D sphere to rotate it."]})]})})]})]}),c&&de.jsx(nc,{onClose:()=>{d(!1),x()}}),u&&de.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 dark:bg-red-900 flex items-center justify-center",children:de.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),de.jsx("h3",{className:"ml-4 text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Logo"})]}),de.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["Are you sure you want to delete this logo? This action is ",de.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:"IRREVERSIBLE"})," and the logo will be permanently removed."]}),de.jsxs("div",{className:"flex justify-end gap-3",children:[de.jsx(Oo,{onClick:()=>h(null),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-900 dark:text-white",children:"Cancel"}),de.jsx(Oo,{onClick:async()=>{if(u)try{const{error:e}=await qn.from("client_logos").update({is_active:!1}).eq("id",u.id);if(e)throw e;h(null),x()}catch(e){alert("Failed to delete logo")}},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})})]})},lc=[];for(let kc=0;kc<256;++kc)lc.push((kc+256).toString(16).slice(1));let cc;const dc=new Uint8Array(16);const uc={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function hc(e,t,r){var s;const a=(e=e||{}).random??(null==(s=e.rng)?void 0:s.call(e))??function(){if(!cc){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cc=crypto.getRandomValues.bind(crypto)}return cc(dc)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=15&a[6]|64,a[8]=63&a[8]|128,function(e,t=0){return(lc[e[t+0]]+lc[e[t+1]]+lc[e[t+2]]+lc[e[t+3]]+"-"+lc[e[t+4]]+lc[e[t+5]]+"-"+lc[e[t+6]]+lc[e[t+7]]+"-"+lc[e[t+8]]+lc[e[t+9]]+"-"+lc[e[t+10]]+lc[e[t+11]]+lc[e[t+12]]+lc[e[t+13]]+lc[e[t+14]]+lc[e[t+15]]).toLowerCase()}(a)}function mc(e,t,r){return uc.randomUUID&&!e?uc.randomUUID():hc(e)}const pc=({onClose:e,project:t,onSaved:s})=>{var a;const[n,i]=r.useState(!1),[o,l]=r.useState(!1),[c,d]=r.useState(null),[u,h]=r.useState((null==t?void 0:t.id)||""),[m,p]=r.useState((null==t?void 0:t.title)||""),[g,f]=r.useState((null==t?void 0:t.category)||""),[x,b]=r.useState([]),[y,v]=r.useState(""),[w,j]=r.useState((null==t?void 0:t.description)||""),[k,N]=r.useState((null==t?void 0:t.long_description)||""),[_,S]=r.useState((null==t?void 0:t.featured_image_url)||""),[C,E]=r.useState((null==t?void 0:t.image_alt)||""),[T,O]=r.useState((null==t?void 0:t.year)||(new Date).getFullYear().toString()),[R,P]=r.useState((null==t?void 0:t.client)||""),[A,I]=r.useState((null==t?void 0:t.role)||""),[$,D]=r.useState((null==t?void 0:t.duration)||""),[L,z]=r.useState((null==t?void 0:t.outcome)||""),[M,U]=r.useState((null==(a=null==t?void 0:t.technologies)?void 0:a.join(", "))||""),[B,q]=r.useState((null==t?void 0:t.metrics)||[]),[W,F]=r.useState(((null==t?void 0:t.gallery)||[]).map((e=>({id:e.id||mc(),url:e.url,alt:e.alt})))),[G,H]=r.useState({current:0,total:0});r.useEffect((()=>{(async()=>{const{data:e,error:r}=await qn.from("project_types").select("id, type_key, description").order("type_key",{ascending:!0});r||(b(e||[]),t&&t.type_id&&v(t.type_id))})()}),[]);const[V,K]=r.useState(""),[J,Y]=r.useState(""),[Z,X]=r.useState(!1),[Q,ee]=r.useState((null==t?void 0:t.featured)||!1),te=async(e,t="main")=>{try{l(!0);const r=e.name.split(".").pop(),s=`${t}/${Date.now()}-${Math.random().toString(36).substring(7)}.${r}`,{data:a,error:n}=await qn.storage.from("project-images").upload(s,e,{cacheControl:"3600",upsert:!1});if(n)throw n;const{data:{publicUrl:i}}=qn.storage.from("project-images").getPublicUrl(s);return i}catch(r){throw new Error("Failed to upload image: "+r.message)}finally{l(!1)}},re=async(e,t=1600,r=.8)=>{try{if(!e.type.startsWith("image/"))return e;const s=await createImageBitmap(e),a=Math.min(1,t/s.width),n=document.createElement("canvas");n.width=Math.max(1,Math.round(s.width*a)),n.height=Math.max(1,Math.round(s.height*a));const i=n.getContext("2d");if(!i)return e;i.drawImage(s,0,0,n.width,n.height);const o=await new Promise((e=>n.toBlob(e,"image/jpeg",r)));if(!o)return e;return new File([o],e.name.replace(/\.[^/.]+$/,".jpg"),{type:"image/jpeg"})}catch(s){return e}};return de.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 overflow-y-auto",children:de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[de.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between sticky top-0 bg-white dark:bg-gray-800 z-10",children:[de.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t?"Edit Project":"Add New Project"}),de.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:de.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),de.jsxs("form",{onSubmit:async r=>{r.preventDefault(),i(!0),d(null);try{const r=[];if(m||r.push("title"),k||r.push("longDescription"),_||r.push("featuredImageUrl"),T||r.push("year"),R||r.push("client"),$||r.push("duration"),r.length)throw new Error("Please fill in all required fields: "+r.join(", "));const a={...t?{}:{id:mc()},title:m,long_description:k,featured_image_url:_,image_alt:C,year:T,client:R,duration:$,metrics:B,featured:Q,is_active:!0,type_id:y||null};let n=(null==t?void 0:t.id)||u||null;if(t){const{error:e}=await qn.from("projects").update(a).eq("id",t.id);if(e)throw e}else{const{data:e,error:t}=await qn.from("projects").insert([a]).select().single();if(t)throw t;n=e.id}if(n){const{error:e}=await qn.from("project_gallery").delete().eq("project_id",n);if(e)throw e;if((W||[]).length){const e=W.map((e=>({project_id:n,url:e.url,alt:e.alt||null}))),{error:t}=await qn.from("project_gallery").insert(e);if(t)throw t}}null==s||s(),e()}catch(a){d(a.message||"Failed to save project")}finally{i(!1)}},className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[c&&de.jsx("div",{className:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 p-3 rounded",children:c}),de.jsxs("div",{className:"space-y-4",children:[de.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Basic Information"}),de.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[de.jsx(al,{label:"Year",value:T,onChange:e=>O(e.target.value),placeholder:"e.g., 2025",required:!0}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Type"}),de.jsxs("select",{value:y||"",onChange:e=>v(e.target.value),className:"...",children:[de.jsx("option",{value:"",children:"Select a type"}),x.map((e=>de.jsxs("option",{value:e.id,children:[e.type_key.replace("_"," ").toUpperCase()," ",e.description?`â ${e.description}`:""]},e.id)))]})]}),de.jsx(al,{label:"Duration",value:$,onChange:e=>D(e.target.value),placeholder:"e.g., 3 months",required:!0})]}),de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsx(al,{label:"Client",value:R,onChange:e=>P(e.target.value),placeholder:"e.g., GlobalCorp",required:!0}),de.jsx(al,{label:"Title",value:m,onChange:e=>p(e.target.value),placeholder:"e.g., Corporate Social Responsibility",required:!0})]}),de.jsxs("div",{className:"space-y-4 border-t pt-4",children:[de.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Full Description"}),de.jsx("div",{children:de.jsx("textarea",{value:k,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:4,placeholder:"Detailed project description for case study",required:!0,"aria-multiline":!0})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Main Image"}),de.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r)try{const e=await te(r,"main"),t=r.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ");S(e),E(t)}catch(s){d(s.message)}},disabled:o,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!_}),o&&de.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Uploading..."}),de.jsx("div",{className:"mt-4",children:de.jsxs("div",{className:"space-y-6 bg-white dark:bg-neutral-900 p-0",children:[de.jsx("div",{className:"rounded-lg overflow-hidden",children:_?de.jsx("img",{src:_,alt:C,className:"w-full h-30 object-cover"}):de.jsx("div",{className:"w-full h-30 bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-sm text-gray-500",children:"No main image"})}),de.jsx("p",{className:"text-base text-neutral-600 dark:text-neutral-400",children:k}),de.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:[de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:"Client"}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:R})]}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:"Duration"}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:$})]}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:"Year"}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:T})]})]}),B&&B.length>0&&de.jsx("div",{className:"grid grid-cols-2 gap-4",children:B.map(((e,t)=>de.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-4",children:[de.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:e.value}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.label})]},t)))}),W&&W.length>0&&de.jsxs("div",{className:"mt-6",children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"Gallery"}),de.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-thin scrollbar-thumb-neutral-400 scrollbar-track-neutral-200 dark:scrollbar-thumb-neutral-600 dark:scrollbar-track-neutral-800",children:W.map(((e,t)=>de.jsx("div",{className:"flex-shrink-0 w-64 snap-center",children:de.jsx("div",{className:"rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:e.url.endsWith(".mp4")?de.jsx("video",{src:e.url,controls:!0,className:"w-full h-48 object-cover"}):de.jsx("img",{src:e.url,alt:e.alt,className:"w-full h-48 object-cover hover:scale-105 transition-transform duration-300"})})},t)))})]})]})})]})]}),de.jsxs("div",{className:"space-y-4 border-t pt-4",children:[de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Gallery"}),de.jsx("div",{className:"flex items-center gap-2",children:de.jsxs("div",{className:"flex flex-col",children:[de.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files||[]);if(!t.length)return;d(null),l(!0),H({current:0,total:t.length});const r=[];let s=0;try{const e=Array.from({length:Math.min(4,t.length)},(()=>(async()=>{for(;;){const a=s++;if(a>=t.length)return;const n=t[a];try{const e=n.type.startsWith("image/")?await re(n):n,t=await te(e,"gallery"),s=n.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ");r.push({id:mc(),url:t,alt:s})}catch(e){d(e.message||"Failed to upload one or more files")}finally{H((e=>({current:e.current+1,total:t.length})))}}})()));await Promise.all(e),r.length&&F((e=>[...r,...e]))}catch(a){d(a.message||"Failed to upload files")}finally{l(!1),H({current:0,total:0});try{e.target.value=""}catch{}}},disabled:o,className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),o&&G.total>0&&de.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["Uploading ",G.current," / ",G.total,"â¦"]})]})})]}),de.jsx("div",{className:"flex gap-3 overflow-x-auto py-2",children:W.map(((e,t)=>de.jsxs("div",{className:"relative w-40 h-28 flex-shrink-0 rounded overflow-hidden shadow-md bg-gray-50 dark:bg-gray-700",children:[de.jsx("button",{type:"button",onClick:()=>(e=>{F(W.filter(((t,r)=>r!==e)))})(t),className:"absolute top-1 right-1 z-20 bg-black/60 text-white rounded-full w-6 h-6 flex items-center justify-center","aria-label":`Remove gallery item ${t+1}`,children:"Ã"}),e.url&&(e.url.endsWith(".mp4")||e.url.endsWith(".mov")?de.jsx("video",{src:e.url,className:"w-full h-full object-cover",controls:!0}):de.jsx("img",{src:e.url,alt:e.alt||`Gallery ${t+1}`,className:"w-full h-full object-cover"}))]},e.id||t)))})]}),de.jsx("div",{className:"border-t pt-4",children:de.jsxs("div",{className:"flex items-center gap-3",children:[de.jsx("input",{type:"checkbox",id:"featured",checked:Q,onChange:e=>ee(e.target.checked),className:"w-4 h-4"}),de.jsx("label",{htmlFor:"featured",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mark as Featured Project"})]})}),de.jsxs("div",{className:"flex gap-3 pt-4 border-t sticky bottom--1 bg-white dark:bg-gray-800",children:[de.jsx(Oo,{type:"button",onClick:e,className:"flex-1 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-900 dark:text-white",children:"Cancel"}),de.jsx(Oo,{type:"submit",disabled:n,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:n?"Saving...":t?"Update Project":"Create Project"})]})]})]})})},gc=()=>{const{user:e,signOut:t}=fl(),s=l(),[a,n]=r.useState([]),[i,o]=r.useState(!0),[c,d]=r.useState(!1),[u,h]=r.useState(void 0),[m,p]=r.useState(null);r.useEffect((()=>{g()}),[]);const g=async()=>{try{o(!0);const[{data:e},{data:t,error:r},{data:s}]=await Promise.all([qn.from("project_types").select("*"),qn.from("projects").select("*").eq("is_active",!0).order("created_at",{ascending:!1}),qn.from("project_gallery").select("*")]);if(r)throw r;const a={};(e||[]).forEach((e=>{a[e.id]=e}));const i=e=>{if(!e)return"";if(e.startsWith("http"))return e;const{data:t}=qn.storage.from("project-images").getPublicUrl(e);return(null==t?void 0:t.publicUrl)||e},l=(t||[]).map((e=>{var t,r;return{...e,type_key:null==(t=a[e.type_id])?void 0:t.type_key,type_description:null==(r=a[e.type_id])?void 0:r.description,featured_image_url:i(e.featured_image_url||""),gallery:(s||[]).filter((t=>t.project_id===e.id)).map((e=>({...e,url:i(e.url)})))}}));n(l||[])}catch(e){}finally{o(!1)}},f=()=>{d(!1),h(void 0),g()},x=a.map(((e,t)=>{var r,s;const a=e.featured_image_url||(null==(s=null==(r=e.gallery)?void 0:r[0])?void 0:s.url)||"",n=de.jsxs("div",{className:"space-y-6",children:[de.jsx("div",{className:"rounded-lg overflow-hidden",children:a?de.jsx("img",{src:a,alt:e.image_alt||e.title,className:"w-full h-40 object-cover"}):de.jsx("div",{className:"w-full h-40 bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-sm text-gray-500",children:"No main image"})}),de.jsx("p",{className:"text-base text-neutral-600 dark:text-neutral-400",children:e.long_description||e.description}),de.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:[de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:"Client"}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.client})]}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:"Duration"}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.duration})]}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-1",children:"Year"}),de.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.year})]})]}),e.gallery&&e.gallery.length>0&&de.jsxs("div",{className:"mt-6",children:[de.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"Gallery"}),de.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-thin scrollbar-thumb-neutral-400 scrollbar-track-neutral-200 dark:scrollbar-thumb-neutral-600 dark:scrollbar-track-neutral-800",children:e.gallery.map(((e,t)=>de.jsx("div",{className:"flex-shrink-0 w-64 snap-center",children:de.jsx("div",{className:"rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:e.url.endsWith(".mp4")?de.jsx("video",{src:e.url,controls:!0,className:"w-full h-48 object-cover"}):de.jsx("img",{src:e.url,alt:e.alt,className:"w-full h-48 object-cover hover:scale-105 transition-transform duration-300"})})},t)))})]})]});return de.jsx(Mo,{index:t,layout:!0,compact:!0,card:{src:a,title:e.title,category:e.type_description||"â",content:n}},e.id)}));return de.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[de.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("button",{onClick:()=>s("/admin/dashboard"),className:"text-blue-600 dark:text-blue-400 hover:underline mb-2 text-sm",children:"â Back to Dashboard"}),de.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Projects"}),de.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:null==e?void 0:e.email})]}),de.jsxs("div",{className:"flex items-center gap-4",children:[de.jsx(Oo,{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"+ Add New Project"}),de.jsx(Oo,{onClick:async()=>{await t(),s("/")},className:"bg-red-600 hover:bg-red-700 text-white",children:"Sign Out"})]})]})})}),de.jsxs("main",{className:"h-[calc(100vh-120px)] flex gap-4 px-4 sm:px-6 lg:px-8 py-4",children:[de.jsxs("div",{className:"w-1/2 overflow-y-auto",children:[de.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Your Projects (",a.length,")"]}),de.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 block",children:"Select a project to edit its details or delete it."}),i?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Loading..."})}):de.jsx(de.Fragment,{children:0===a.length?de.jsx("div",{className:"text-center py-12 text-gray-500",children:'No projects yet. Click "Add New Project" to get started.'}):de.jsx("div",{className:"space-y-4",children:a.map((e=>de.jsxs("div",{onClick:()=>(e=>{h(e),d(!0)})(e),className:"relative group rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow bg-white dark:bg-gray-800 p-4 cursor-pointer",children:[de.jsx("button",{onClick:t=>{t.stopPropagation(),(async(e,t)=>{p({id:e,title:t})})(e.id,e.title)},className:"absolute top-2 right-2 z-10 w-8 h-8 flex items-center justify-center bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors shadow-lg opacity-0 group-hover:opacity-100",title:"Delete project",children:de.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:de.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),de.jsx("div",{className:"flex gap-4",children:de.jsxs("div",{className:"flex-1 min-w-0",children:[de.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:e.title}),de.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.type_key||"â"," â¢ ",e.year||""]}),de.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",children:e.description}),de.jsx("div",{className:"flex gap-2 mt-2",children:de.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded",children:e.type_key||"â"})})]})})]},e.id)))})})]}),de.jsxs("div",{className:"w-1/2 sticky top-0",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Live Preview"}),de.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-2 border-gray-300 dark:border-gray-600 overflow-y-auto max-h-[calc(100vh-200px)]",children:0===a.length?de.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"No projects to preview"}):de.jsx("div",{className:"space-y-8",children:de.jsx(zo,{items:x,initialScroll:0})})})]})]}),c&&de.jsx(pc,{onClose:f,project:u,onSaved:f}),m&&de.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:de.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 dark:bg-red-900 flex items-center justify-center",children:de.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),de.jsx("h3",{className:"ml-4 text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Project"})]}),de.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:['Are you sure you want to delete "',de.jsx("span",{className:"font-semibold",children:m.title}),'"? This action is ',de.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:"IRREVERSIBLE"}),"."]}),de.jsxs("div",{className:"flex justify-end gap-3",children:[de.jsx(Oo,{onClick:()=>p(null),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-900 dark:text-white",children:"Cancel"}),de.jsx(Oo,{onClick:async()=>{if(m)try{const{error:e}=await qn.from("projects").update({is_active:!1}).eq("id",m.id);if(e)throw e;p(null),g()}catch(e){alert("Failed to delete project")}},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})})]})},fc=({children:e})=>{const{user:t,isAdmin:s,loading:a}=fl(),n=l();return r.useEffect((()=>{a||t&&s||n("/admin/login")}),[t,s,a,n]),a?de.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"}),de.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):t&&s?de.jsx(de.Fragment,{children:e}):null},xc=()=>de.jsx(d,{basename:"/Portfolio/",children:de.jsx(me,{children:de.jsxs(u,{children:[de.jsx(h,{path:"/",element:de.jsx(rl,{})}),de.jsx(h,{path:"/personal-story-section",element:de.jsx(rl,{})}),de.jsx(h,{path:"/work-showcase",element:de.jsx(rl,{})}),de.jsx(h,{path:"/work-showcase/team-building",element:de.jsx(ll,{})}),de.jsx(h,{path:"/work-showcase/corporate-event",element:de.jsx(cl,{})}),de.jsx(h,{path:"/work-showcase/training-program",element:de.jsx(ul,{})}),de.jsx(h,{path:"/work-showcase/csr",element:de.jsx(ml,{})}),de.jsx(h,{path:"/connection-hub",element:de.jsx(rl,{})}),de.jsx(h,{path:"/admin/login",element:de.jsx(bl,{})}),de.jsx(h,{path:"/admin/register",element:de.jsx(yl,{})}),de.jsx(h,{path:"/admin/*",element:de.jsx(fc,{children:de.jsxs(u,{children:[de.jsx(h,{path:"dashboard",element:de.jsx(xl,{})}),de.jsx(h,{path:"hero-images",element:de.jsx(ac,{})}),de.jsx(h,{path:"client-logos",element:de.jsx(oc,{})}),de.jsx(h,{path:"projects",element:de.jsx(gc,{})}),de.jsx(h,{path:"*",element:de.jsx(m,{to:"/admin/dashboard",replace:!0})})]})})}),de.jsx(h,{path:"/admin",element:de.jsx(m,{to:"/admin/login",replace:!0})})]})})}),bc=r.createContext(void 0),yc=({children:e})=>{const[t,s]=r.useState((()=>localStorage.getItem("theme-mode")||"citrus"));r.useEffect((()=>{const e=document.documentElement;e.classList.remove("citrus","jewel"),e.classList.add(t),localStorage.setItem("theme-mode",t)}),[t]);return de.jsx(bc.Provider,{value:{theme:t,toggleTheme:()=>{s((e=>"citrus"===e?"jewel":"citrus"))},setTheme:e=>{s(e)}},children:e})},vc=({phone:e="60163287947",message:t="Hi, I am interested in your service!"})=>{if(("undefined"!=typeof window?window.location.pathname:"/").toLowerCase().startsWith("/admin"))return null;const r=`https://wa.me/${e}?text=${encodeURIComponent(t)}`;return de.jsxs("div",{className:"fixed bottom-6 right-6 z-50 group",children:[de.jsx("div",{className:"\n                        pointer-events-none absolute right-16 top-1/2 -translate-y-1/2\n                        opacity-0 translate-x-2\n                        group-hover:opacity-100 group-hover:translate-x-0\n                        transition-all duration-200\n                        hidden md:block\n                        ",children:de.jsx("div",{className:"rounded-lg bg-gray-900 px-3 py-2 text-sm text-white shadow-lg whitespace-nowrap",children:"WhatsApp Us Now!"})}),de.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer","aria-label":`Chat on WhatsApp ${e}`,className:"\n                        w-14 h-14 rounded-full\n                        bg-[#25D366] hover:bg-[#1ebe57]\n                        shadow-lg\n                        flex items-center justify-center\n                        text-white\n                        transition-all duration-200\n                        hover:scale-105 active:scale-95\n                        ",children:de.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[de.jsx("path",{fill:"currentColor",d:"M16.04 0C7.18 0 0 7.18 0 16.04c0 2.83.74 5.6 2.14 8.04L0 32l8.19-2.11a15.92 15.92 0 007.85 2.02c8.86 0 16.04-7.18 16.04-16.04C32.08 7.18 24.9 0 16.04 0zm0 29.5c-2.47 0-4.89-.66-7.01-1.91l-.5-.29-4.86 1.25 1.3-4.73-.33-.51a13.45 13.45 0 01-2.07-7.27c0-7.44 6.05-13.49 13.49-13.49s13.49 6.05 13.49 13.49S23.48 29.5 16.04 29.5z"}),de.jsx("path",{fill:"currentColor",d:"M24.1 19.67c-.44-.22-2.61-1.29-3.02-1.44-.41-.15-.71-.22-1.01.22-.29.44-1.16 1.44-1.42 1.73-.26.29-.52.33-.96.11-.44-.22-1.86-.68-3.54-2.17-1.31-1.17-2.2-2.62-2.45-3.06-.26-.44-.03-.68.19-.9.2-.2.44-.52.66-.77.22-.26.29-.44.44-.74.15-.29.07-.55-.04-.77-.11-.22-1.01-2.43-1.38-3.33-.36-.87-.73-.75-1.01-.77l-.86-.02c-.29 0-.77.11-1.17.55-.41.44-1.54 1.52-1.54 3.72s1.58 4.31 1.8 4.61c.22.29 3.11 4.79 7.53 6.72 1.05.45 1.87.72 2.51.92 1.05.33 2.01.28 2.77.17.85-.13 2.61-1.07 2.98-2.11.37-1.04.37-1.93.26-2.11-.11-.18-.41-.29-.85-.51z"})]})})]})},wc=()=>de.jsx(yc,{children:de.jsxs(gl,{children:[de.jsx(xc,{}),de.jsx(vc,{})]})}),jc=document.getElementById("root");if(!jc)throw new Error("Root element not found");ce(jc).render(de.jsx(wc,{}));
