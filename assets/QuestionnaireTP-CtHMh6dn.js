import{j as e,s as a}from"./index-xd_huRit.js";import{r as s}from"./vendor-eyX32RLL.js";import{S as t,I as r}from"./Select-CJT0wfNo.js";import{I as l}from"./Input-C7FTQHlj.js";import{B as n}from"./Button-BLiUp13s.js";import{m as i}from"./ui-Df28J_fA.js";const c=()=>{const c=(new Date).getFullYear(),o=Array.from({length:10},(e,a)=>{const s=(c+a).toString();return{value:s,label:s}}),[d,x]=s.useState(1),[p,m]=s.useState({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",trainingTypes:[],trainingOther:"",eventMonth:"",eventYear:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""}),[u,h]=s.useState(!1),[b,g]=s.useState(null),[f,y]=s.useState(!1),[v,N]=s.useState({});s.useEffect(()=>{if(!b)return;const e=setTimeout(()=>g(null),4e3);return()=>clearTimeout(e)},[b]);const j=e=>{const{name:a,value:s,type:t}=e.target;if("noOfPax"===a){if(Number(s)<0)return}if("contact"===a){const e=s.replace(/[^0-9+\s]/g,"");return void m(s=>({...s,[a]:e}))}m(e=>({...e,[a]:s}))},_=(e,a)=>{m(s=>{const t=s[e],r=t.includes(a);return{...s,[e]:r?t.filter(e=>e!==a):[...t,a]}}),N(a=>({...a,[e]:void 0}))},w=()=>{var e;(1===(e=d)?p.name&&p.contact&&p.companyName&&p.companyEmail&&p.industryOption:2!==e||p.noOfPax&&p.duration&&p.trainingTypes.length>0&&p.eventMonth&&p.eventYear&&p.budget&&p.location)?x(d+1):g({type:"error",text:"Please fill in all required fields"})},k="border-4 border-[#153462] p-4 font-bold placeholder:text-slate-400 focus:ring-0 shadow-[4px_4px_0px_0px_#153462] transition-all focus:translate-x-[2px] focus:translate-y-[2px] focus:shadow-none",C="block text-xs font-black uppercase tracking-widest text-[#153462] mb-2",O="mb-6";return e.jsxs("div",{className:"max-w-4xl mx-auto bg-white border-4 border-[#153462] rounded-[2rem] md:rounded-[3rem] shadow-[12px_12px_0px_0px_#153462] p-8 md:p-12",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("div",{className:"inline-block border-4 border-[#153462] bg-[#f68921] px-4 py-1 mb-2 rotate-[-1deg] shadow-[4px_4px_0px_0px_#153462]",children:e.jsx("span",{className:"text-white font-black uppercase tracking-widest text-sm",children:"Training Inquiry"})}),e.jsxs("h3",{className:"text-4xl md:text-5xl font-black text-[#153462] uppercase italic tracking-tighter mb-8",children:["Elevate Your ",e.jsx("span",{className:"text-[#f68921]",children:"Team_"})]}),e.jsx("div",{className:"flex justify-between gap-4 mb-6 border-b-4 border-[#153462] pb-6",children:[1,2,3].map(a=>e.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-center",children:[e.jsx("div",{className:"w-8 h-8 flex items-center justify-center font-black border-2 border-[#153462] transition-all "+(d===a?"bg-[#f68921] text-white scale-110":d>a?"bg-[#153462] text-white":"bg-gray-100 text-[#153462]"),children:a}),e.jsx("span",{className:"text-[10px] font-black uppercase hidden md:block "+(d===a?"text-[#f68921]":"text-slate-400"),children:1===a?"Company":2===a?"Training Details":"Preferences"})]},a))})]}),b&&e.jsx("div",{className:`mb-8 p-4 border-4 border-[#153462] font-black uppercase italic ${"success"===b.type?"bg-green-400":"bg-red-400"} shadow-[4px_4px_0px_0px_#153462]`,children:b.text}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const s=["name","contact","companyName","companyEmail","industryOption","noOfPax","duration","eventMonth","eventYear","budget","location"].some(e=>!p[e]),t=0===p.trainingTypes.length||0===p.languages.length;if(s||t||!f)return f||N({privacyConsent:"Agreement required"}),void g({type:"error",text:"Please fill in all required fields"});h(!0);try{const e=p.trainingTypes.filter(e=>"Others"!==e);p.trainingOther.trim()&&e.push(p.trainingOther);const s=p.languages.filter(e=>"Others"!==e);p.languagesOther.trim()&&s.push(p.languagesOther);const t={name:p.name,contact:parseInt(p.contact.replace(/[\s+]/g,""),10),company_name:p.companyName,company_email:p.companyEmail,industry:"Other"===p.industryOption?p.industryOther:p.industryOption,no_of_pax:p.noOfPax?parseInt(p.noOfPax):null,duration:p.duration,types_of_training:e,estimated_training_month:`${p.eventMonth} ${p.eventYear}`,budget:p.budget?parseFloat(p.budget):null,hrdc:"Yes"===p.hrdc,preferred_location:p.location,language:s.join(", "),remarks:p.remarks},{error:r}=await a.from("training_program_inquiries").insert(t);if(r)throw r;g({type:"success",text:"Success! We will contact you shortly."})}catch(r){g({type:"error",text:"Error submitting form. Please try again."})}finally{h(!1)}},className:"space-y-4",noValidate:!0,children:[1===d&&e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("h3",{className:"text-2xl font-black text-[#153462] mb-6 uppercase italic",children:"Step 1: Company Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Full Name *"}),e.jsx(l,{className:k+" focus:border-[#f68921]",name:"name",placeholder:"Your name",value:p.name,onChange:j,required:!0})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Contact Number *"}),e.jsx(l,{className:k+" focus:border-[#f68921]",name:"contact",placeholder:"e.g. +60 12 345 6789",value:p.contact,onChange:j,required:!0})]})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Company Name *"}),e.jsx(l,{className:k+" focus:border-[#f68921]",name:"companyName",placeholder:"Company Ltd",value:p.companyName,onChange:j,required:!0})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Work Email Address *"}),e.jsx(l,{className:k+" focus:border-[#f68921]",type:"email",name:"companyEmail",placeholder:"name@company.com",value:p.companyEmail,onChange:j,required:!0})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Industry *"}),e.jsx(t,{name:"industryOption",className:"border-4 border-[#153462] rounded-[2rem] md:rounded-[2rem] font-bold h-full shadow-[4px_4px_0px_0px_#153462]",value:p.industryOption,onChange:e=>m(a=>({...a,industryOption:e})),options:r.map(e=>({value:e,label:e})),placeholder:"Select industry"})]}),e.jsx("button",{type:"button",onClick:w,className:"w-full bg-[#153462] text-[#fcb22f] py-4 font-black uppercase tracking-widest hover:bg-[#f68921] hover:text-white transition-all shadow-[4px_4px_0px_0px_#f68921] hover:shadow-none hover:translate-x-1 hover:translate-y-1",children:"Next: Training Details →"})]}),2===d&&e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("h3",{className:"text-2xl font-black text-[#153462] mb-6 uppercase italic",children:"Step 2: Training Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Number of Pax *"}),e.jsx(l,{className:k+" focus:border-[#f68921]",type:"number",name:"noOfPax",placeholder:"e.g. 30",value:p.noOfPax,onChange:j,min:0})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Location Preference *"}),e.jsx(l,{className:k+" focus:border-[#f68921]",name:"location",placeholder:"City / Venue",value:p.location,onChange:j})]})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Duration *"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:["Half day","Full day"].map(a=>e.jsx("button",{type:"button",onClick:()=>m(e=>({...e,duration:a})),className:"px-4 py-2 border-2 border-[#153462] font-black uppercase text-xs transition-all "+(p.duration===a?"bg-[#153462] text-white -translate-y-1 shadow-[4px_4px_0px_0px_#fcb22f]":"bg-white text-[#153462]"),children:a},a))}),v.duration&&e.jsx("div",{className:"text-sm text-red-600 mt-2",children:v.duration})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Types of Training *"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["Mental Health & Wellbeing","Leadership & Management","Personal Development & Soft Skills","Others"].map(a=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",className:"sr-only",checked:p.trainingTypes.includes(a),onChange:()=>_("trainingTypes",a)}),e.jsx("div",{className:"w-6 h-6 border-2 border-[#153462] transition-all shadow-[2px_2px_0px_0px_#153462] "+(p.trainingTypes.includes(a)?"bg-[#f68921]":"bg-white")})]}),e.jsx("span",{className:"font-bold uppercase text-xs text-[#153462]",children:a})]},a))}),v.trainingTypes&&e.jsx("div",{className:"text-sm text-red-600 mt-2",children:v.trainingTypes})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Training Month *"}),e.jsx(t,{name:"eventMonth",className:"border-4 border-[#153462] font-bold shadow-[4px_4px_0px_0px_#153462]",value:p.eventMonth,onChange:e=>m(a=>({...a,eventMonth:e})),options:[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}],placeholder:"Month"})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Training Year *"}),e.jsx(t,{name:"eventYear",className:"border-4 border-[#153462] font-bold shadow-[4px_4px_0px_0px_#153462]",value:p.eventYear,onChange:e=>m(a=>({...a,eventYear:e})),options:o,placeholder:"Year"})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Budget (RM) *"}),e.jsx(l,{className:k+" focus:border-[#f68921]",name:"budget",placeholder:"e.g. 5000",value:p.budget,onChange:j})]})]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>x(1),className:"flex-1 border-4 border-[#153462] py-4 font-black uppercase hover:bg-gray-100 transition-all",children:"← Back"}),e.jsx("button",{type:"button",onClick:w,className:"flex-1 bg-[#153462] text-[#fcb22f] py-4 font-black uppercase shadow-[4px_4px_0px_0px_#f68921] hover:shadow-none hover:translate-x-1 hover:translate-y-1 transition-all",children:"Next: Preferences →"})]})]}),3===d&&e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("h3",{className:"text-2xl font-black text-[#153462] mb-6 uppercase italic",children:"Step 3: Preferences"}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"HRDC Claimable?"}),e.jsx("div",{className:"flex gap-4",children:["Yes","No"].map(a=>e.jsx("button",{type:"button",onClick:()=>m(e=>({...e,hrdc:a})),className:"flex-1 py-3 border-2 border-[#153462] font-black uppercase transition-all "+(p.hrdc===a?"bg-[#153462] text-white shadow-[4px_4px_0px_0px_#fcb22f]":"bg-white text-[#153462]"),children:a},a))})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Language to Conduct *"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:["English","Mandarin","BM","Others"].map(a=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",className:"sr-only",checked:p.languages.includes(a),onChange:()=>_("languages",a)}),e.jsx("div",{className:"w-6 h-6 border-2 border-[#153462] transition-all shadow-[2px_2px_0px_0px_#153462] "+(p.languages.includes(a)?"bg-[#f68921]":"bg-white")})]}),e.jsx("span",{className:"font-bold uppercase text-xs text-[#153462]",children:a})]},a))}),v.languages&&e.jsx("div",{className:"text-sm text-red-600 mt-2",children:v.languages})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Special Remarks (Optional)"}),e.jsx("textarea",{name:"remarks",className:`${k} focus:border-[#f68921] w-full py-2 text-sm`,rows:4,placeholder:"Any special notes or requests",value:p.remarks,onChange:j})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"flex items-start gap-4 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"sr-only",checked:f,onChange:()=>y(!f)}),e.jsx("div",{className:"mt-1 min-w-[20px] h-5 w-5 border-2 border-[#153462] shadow-[2px_2px_0px_0px_#153462] transition-all "+(f?"bg-[#153462]":"bg-white")}),e.jsxs("span",{className:"text-sm font-bold text-[#153462] uppercase leading-tight",children:["I AGREE TO THE ",e.jsx("a",{href:"/privacy-policy",className:"underline text-[#f68921]",children:"PRIVACY POLICY"})," AND DATA PROCESSING."]})]}),v.privacyConsent&&e.jsx("div",{className:"text-sm text-red-600 mt-2",children:v.privacyConsent})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{type:"button",onClick:()=>x(2),className:"w-1/3 border-4 border-[#153462] py-4 font-black uppercase hover:bg-gray-100 transition-all",children:"← Back"}),e.jsx(n,{type:"submit",disabled:u,className:"flex-1 py-5 bg-[#153462] text-[#fcb22f] font-black text-lg uppercase italic border-4 border-[#153462] shadow-[8px_8px_0px_0px_#f68921] hover:shadow-none hover:translate-x-1 hover:translate-y-1 transition-all",children:u?"SENDING...":"SUBMIT REQUEST →"})]})]})]})]})};export{c as default};
