import{j as e,I as a,S as n,a as t,C as l,B as r,s}from"./index-CbJVS72Q.js";import{r as i}from"./vendor-Bulzf-Ob.js";import"./ui-T4piHq5h.js";const d=()=>{const d=(new Date).getFullYear(),o=Array.from({length:10},((e,a)=>{const n=(d+a).toString();return{value:n,label:n}})),[c,u]=i.useState({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",trainingTypes:[],trainingOther:"",eventMonth:"",eventYear:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""}),[m,h]=i.useState(!1),[p,g]=i.useState(null);i.useEffect((()=>{if(!p)return;const e=setTimeout((()=>g(null)),4e3);return()=>clearTimeout(e)}),[p]);const x=e=>{const{name:a,value:n}=e.target;u((e=>({...e,[a]:n})))},b=(e,a)=>{u((n=>{const t=n[e],l=t.includes(a);return{...n,[e]:l?t.filter((e=>e!==a)):[...t,a]}}))};return e.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-[2rem] md:rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] border border-gray-100",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-black mb-6 md:mb-8",children:"Let's Connect"}),p&&e.jsx("div",{role:"status","aria-live":"polite",className:"fixed left-4 right-4 top-6 md:left-auto md:right-6 md:top-6 z-[60] rounded-xl px-5 md:px-6 py-3 md:py-4 shadow-xl border font-bold "+("success"===p.type?"bg-green-600 text-white border-green-400":"bg-red-600 text-white border-red-400"),children:p.text}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const a=["name","contact","companyName","companyEmail","industryOption","noOfPax","duration","eventMonth","eventYear","budget","location"].some((e=>!c[e])),n=0===c.trainingTypes.length||0===c.languages.length;if(a||n)g({type:"error",text:"Please fill in all required fields"});else{h(!0),g(null);try{const e=c.trainingTypes.filter((e=>"Others"!==e));c.trainingOther.trim()&&e.push(c.trainingOther);const a=c.languages.filter((e=>"Others"!==e));c.languagesOther.trim()&&a.push(c.languagesOther);const n={name:c.name,contact:c.contact?parseInt(c.contact,10):null,company_name:c.companyName,company_email:c.companyEmail,industry:"Other"===c.industryOption?c.industryOther:c.industryOption,no_of_pax:c.noOfPax?parseInt(c.noOfPax):null,duration:c.duration,types_of_training:e,estimated_training_month:`${c.eventMonth} ${c.eventYear}`,budget:c.budget?parseFloat(c.budget):null,eventYear:"",hrdc:"Yes"===c.hrdc,preferred_location:c.location,language:a.join(", "),remarks:c.remarks},{error:t}=await s.from("training_program_inquiries").insert([n]);if(t)throw t;g({type:"success",text:"Thank you! Your inquiry has been sent. We will get back to you soon."}),u({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",trainingTypes:[],trainingOther:"",eventMonth:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""})}catch(t){g({type:"error",text:"Error submitting form. Please ensure all data is valid and try again."})}finally{h(!1)}}},className:"space-y-4 md:space-y-5",noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(a,{type:"text",name:"name",placeholder:"Name",required:!0,onChange:x,value:c.name,disabled:m})}),e.jsx("div",{children:e.jsx(a,{type:"text",name:"contact",placeholder:"Contact",required:!0,onChange:x,value:c.contact,disabled:m})})]}),e.jsx("div",{children:e.jsx(a,{type:"text",name:"companyName",placeholder:"Company Name",required:!0,onChange:x,value:c.companyName,disabled:m})}),e.jsx("div",{children:e.jsx(a,{type:"email",name:"companyEmail",placeholder:"Company Email",required:!0,onChange:x,value:c.companyEmail,disabled:m})}),e.jsx("div",{children:e.jsx(n,{name:"industryOption",value:c.industryOption,onChange:e=>u((a=>({...a,industryOption:e}))),options:t.map((e=>({value:e,label:e}))),placeholder:"Select Industry",searchable:!0,required:!0,disabled:m})}),"Other"===c.industryOption&&e.jsx("div",{children:e.jsx(a,{type:"text",name:"industryOther",placeholder:"Please specify your industry",required:!0,onChange:x,value:c.industryOther,disabled:m})}),e.jsx("div",{children:e.jsx(a,{type:"number",name:"noOfPax",placeholder:"No of pax",required:!0,onChange:x,value:c.noOfPax,disabled:m,min:0,step:1})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Duration of Training: ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-6",children:["Half day","Full day"].map((n=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(a,{type:"radio",name:"duration",value:n,onChange:x,checked:c.duration===n,disabled:m}),e.jsx("span",{className:"text-gray-600 text-sm",children:n})]},n)))})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Types of Training: ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex flex-col gap-3",children:["Mental Health & Wellbeing","Leadership & Management","Personal Development & Soft Skills","Others"].map((a=>e.jsx(l,{checked:c.trainingTypes.includes(a),onChange:()=>b("trainingTypes",a),disabled:m,label:a},a)))})]}),c.trainingTypes.includes("Others")&&e.jsx("div",{children:e.jsx(a,{type:"text",name:"trainingOther",placeholder:"Please specify other training type",required:!0,onChange:x,value:c.trainingOther,disabled:m})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(n,{name:"eventMonth",value:c.eventMonth,onChange:e=>u((a=>({...a,eventMonth:e}))),options:[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}],placeholder:"Month",disabled:m}),e.jsx(n,{name:"eventYear",value:c.eventYear,onChange:e=>u((a=>({...a,eventYear:e}))),options:o,placeholder:"Year",disabled:m})]}),e.jsx("div",{children:e.jsx(a,{type:"number",name:"budget",placeholder:"Budget (RM)",required:!0,onChange:x,value:c.budget,disabled:m,min:0,step:"0.01"})})]}),e.jsxs("div",{className:"flex gap-10 items-center py-2",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"HRDC Claimable?"}),e.jsx("div",{className:"flex gap-4",children:["Yes","No"].map((n=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(a,{type:"radio",name:"hrdc",value:n,checked:c.hrdc===n,onChange:x,disabled:m}),e.jsx("span",{className:"text-sm text-gray-600",children:n})]},n)))})]}),e.jsx("div",{children:e.jsx(a,{type:"text",name:"location",placeholder:"Preferred Location",required:!0,onChange:x,value:c.location,disabled:m})}),e.jsxs("div",{className:"py-2",children:[e.jsxs("label",{className:"block mb-3 font-bold text-gray-700",children:["Language to Conduct: ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex flex-wrap gap-6",children:["English","Mandarin","BM","Others"].map((a=>e.jsx(l,{checked:c.languages.includes(a),onChange:()=>b("languages",a),disabled:m,label:a},a)))})]}),c.languages.includes("Others")&&e.jsx("div",{children:e.jsx(a,{type:"text",name:"languagesOther",placeholder:"Please specify other language",required:!0,onChange:x,value:c.languagesOther,disabled:m})}),e.jsx("div",{children:e.jsx("textarea",{name:"remarks",rows:3,placeholder:"Remarks (Optional)",onChange:x,value:c.remarks,disabled:m,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})}),e.jsx(r,{type:"submit",disabled:m,loading:m,fullWidth:!0,className:"py-4 md:py-5 bg-[#fcb22f] text-white font-black text-lg md:text-xl rounded-2xl hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:m?"Submitting...":"Submit Inquiry"})]})]})};export{d as default};
