import{j as e,s as a}from"./index-xd_huRit.js";import{r as s}from"./vendor-eyX32RLL.js";import{S as t,I as l}from"./Select-CJT0wfNo.js";import{I as r}from"./Input-C7FTQHlj.js";import{B as n}from"./Button-BLiUp13s.js";import{m as o}from"./ui-Df28J_fA.js";const c=({formType:c="csr"})=>{const i=(new Date).getFullYear(),d=Array.from({length:10},(e,a)=>{const s=(i+a).toString();return{value:s,label:s}}),[x,p]=s.useState(1),[m,u]=s.useState({name:"",contact:"",companyName:"",companyEmail:"",industryOption:"",industryOther:"",noOfPax:"",duration:"",durationOther:"",eventMonth:"",eventYear:"",budget:"",hrdc:"Yes",location:"",languages:[],languagesOther:"",remarks:""}),[h,b]=s.useState(!1),[g,f]=s.useState(null),[v,N]=s.useState({}),[y,j]=s.useState(!1);s.useEffect(()=>{if(!g)return;const e=setTimeout(()=>f(null),4e3);return()=>clearTimeout(e)},[g]);const _=e=>{const{name:a,value:s,type:t}=e.target;if("noOfPax"===a){if(Number(s)<0)return}if("contact"===a){const e=s.replace(/[^0-9+\s]/g,"");return void u(s=>({...s,[a]:e}))}u(e=>({...e,[a]:s}))},w=()=>{var e;(1===(e=x)?m.name&&m.contact&&m.companyName&&m.companyEmail&&m.industryOption:2!==e||m.noOfPax&&m.duration&&m.eventMonth&&m.eventYear&&m.budget&&m.location)?p(x+1):f({type:"error",text:"Please fill in all required fields"})},k="border-4 border-[#153462] p-4 font-bold placeholder:text-slate-400 focus:ring-0 shadow-[4px_4px_0px_0px_#153462] transition-all focus:translate-x-[2px] focus:translate-y-[2px] focus:shadow-none",C="block text-xs font-black uppercase tracking-widest text-[#153462] mb-2",O="mb-6";return e.jsxs("div",{className:"max-w-4xl mx-auto bg-white border-4 border-[#153462] rounded-[2rem] md:rounded-[3rem] shadow-[12px_12px_0px_0px_#153462] p-8 md:p-12",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("div",{className:"inline-block border-4 border-[#153462] bg-[#f68921] px-4 py-1 mb-2 rotate-[-1deg] shadow-[4px_4px_0px_0px_#153462]",children:e.jsx("span",{className:"text-white font-black uppercase tracking-widest text-sm",children:"Get a Quote"})}),e.jsxs("h3",{className:"text-4xl md:text-5xl font-black text-[#153462] uppercase italic tracking-tighter mb-8",children:["Let's ",e.jsx("span",{className:"text-[#f68921]",children:"Connect_"})]}),e.jsx("div",{className:"flex justify-between gap-4 mb-6 border-b-4 border-[#153462] pb-6",children:[1,2,3].map(a=>e.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-center",children:[e.jsx("div",{className:"w-8 h-8 flex items-center justify-center font-black border-2 border-[#153462] transition-all "+(x===a?"bg-[#f68921] text-white scale-110":x>a?"bg-[#153462] text-white":"bg-gray-100 text-[#153462]"),children:a}),e.jsx("span",{className:"text-[10px] font-black uppercase hidden md:block "+(x===a?"text-[#f68921]":"text-slate-400"),children:1===a?"Company":2===a?"Event Details":"Preferences"})]},a))})]}),g&&e.jsx("div",{className:`mb-8 p-4 border-4 border-[#153462] font-black uppercase italic ${"success"===g.type?"bg-green-400":"bg-red-400"} shadow-[4px_4px_0px_0px_#153462]`,children:g.text}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),b(!0),f(null);const s={};if(["name","contact","companyName","companyEmail","industryOption","noOfPax","duration","eventMonth","eventYear","budget","location"].filter(e=>!m[e]).length>0||0===m.languages.length||!y)return m.duration||(s.duration="Please select the duration"),0===m.languages.length&&(s.languages="Please select at least one language"),y||(s.privacyConsent="Please agree to the Privacy Policy"),N(s),f({type:"error",text:"Please fill in all required fields"}),void b(!1);try{const e={csr:"csr_inquiries",team_building:"team_building_inquiries",corporate_event:"corporate_event_inquiries"},s=m.languages.filter(e=>"Others"!==e);m.languagesOther.trim()&&s.push(m.languagesOther);const t={name:m.name,contact:m.contact,company_name:m.companyName,company_email:m.companyEmail,industry:"Other"===m.industryOption?m.industryOther:m.industryOption,no_of_pax:parseInt(m.noOfPax),duration:"Others"===m.duration?m.durationOther:m.duration,estimated_event_month:`${m.eventMonth} ${m.eventYear}`,budget:m.budget,hrdc:"Yes"===m.hrdc,preferred_location:m.location,language:s.join(", "),remarks:m.remarks},{error:l}=await a.from(e[c]).insert(t);if(l)throw l;f({type:"success",text:"Sent! We'll get back to you soon."})}catch(t){f({type:"error",text:"Database error. Please try again."})}finally{b(!1)}},className:"space-y-4",noValidate:!0,children:[1===x&&e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("h3",{className:"text-2xl font-black text-[#153462] mb-6 uppercase italic",children:"Step 1: Company Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Full Name *"}),e.jsx(r,{className:k+" focus:border-[#f68921]",name:"name",placeholder:"Your name",value:m.name,onChange:_,required:!0})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Contact Number *"}),e.jsx(r,{className:k+" focus:border-[#f68921]",name:"contact",placeholder:"e.g. +60 12 345 6789",value:m.contact,onChange:_,required:!0})]})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Company Name *"}),e.jsx(r,{className:k+" focus:border-[#f68921]",name:"companyName",placeholder:"Company Ltd",value:m.companyName,onChange:_,required:!0})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Work Email Address *"}),e.jsx(r,{className:k+" focus:border-[#f68921]",type:"email",name:"companyEmail",placeholder:"name@company.com",value:m.companyEmail,onChange:_,required:!0})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Industry *"}),e.jsx(t,{name:"industryOption",className:"border-4 border-[#153462] rounded-[2rem] md:rounded-[2rem]  font-bold h-full shadow-[4px_4px_0px_0px_#153462]",value:m.industryOption,onChange:e=>u(a=>({...a,industryOption:e})),options:l.map(e=>({value:e,label:e})),placeholder:"Select industry"})]}),e.jsx("button",{type:"button",onClick:w,className:"w-full bg-[#153462] text-[#fcb22f] py-4 font-black uppercase tracking-widest hover:bg-[#f68921] hover:text-white transition-all shadow-[4px_4px_0px_0px_#f68921] hover:shadow-none hover:translate-x-1 hover:translate-y-1",children:"Next: Event Details →"})]}),2===x&&e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("h3",{className:"text-2xl font-black text-[#153462] mb-6 uppercase italic",children:"Step 2: Event Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Number of Pax *"}),e.jsx(r,{className:k+" focus:border-[#f68921]",type:"number",name:"noOfPax",placeholder:"e.g. 30",value:m.noOfPax,onChange:_,min:0})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Location Preference *"}),e.jsx(r,{className:k+" focus:border-[#f68921]",name:"location",placeholder:"City / Venue",value:m.location,onChange:_})]})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Duration *"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:["Half day","Full day","2D1N","3D2N","Others"].map(a=>e.jsx("button",{type:"button",onClick:()=>u(e=>({...e,duration:a})),className:"px-4 py-2 border-2 border-[#153462] font-black uppercase text-xs transition-all "+(m.duration===a?"bg-[#153462] text-white -translate-y-1 shadow-[4px_4px_0px_0px_#fcb22f]":"bg-white text-[#153462]"),children:a},a))}),v.duration&&e.jsx("div",{className:"text-sm text-red-600 mt-2",children:v.duration})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Event Month *"}),e.jsx(t,{name:"eventMonth",className:"border-4 border-[#153462] font-bold shadow-[4px_4px_0px_0px_#153462]",value:m.eventMonth,onChange:e=>u(a=>({...a,eventMonth:e})),options:[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}],placeholder:"Month"})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Event Year *"}),e.jsx(t,{name:"eventYear",className:"border-4 border-[#153462] font-bold shadow-[4px_4px_0px_0px_#153462]",value:m.eventYear,onChange:e=>u(a=>({...a,eventYear:e})),options:d,placeholder:"Year"})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Budget (RM) *"}),e.jsx(r,{className:k+" focus:border-[#f68921]",name:"budget",placeholder:"e.g. 5000",value:m.budget,onChange:_})]})]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>p(1),className:"flex-1 border-4 border-[#153462] py-4 font-black uppercase hover:bg-gray-100 transition-all",children:"← Back"}),e.jsx("button",{type:"button",onClick:w,className:"flex-1 bg-[#153462] text-[#fcb22f] py-4 font-black uppercase shadow-[4px_4px_0px_0px_#f68921] hover:shadow-none hover:translate-x-1 hover:translate-y-1 transition-all",children:"Next: Preferences →"})]})]}),3===x&&e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("h3",{className:"text-2xl font-black text-[#153462] mb-6 uppercase italic",children:"Step 3: Preferences"}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"HRDC Claimable?"}),e.jsx("div",{className:"flex gap-4",children:["Yes","No"].map(a=>e.jsx("button",{type:"button",onClick:()=>u(e=>({...e,hrdc:a})),className:"flex-1 py-3 border-2 border-[#153462] font-black uppercase transition-all "+(m.hrdc===a?"bg-[#153462] text-white shadow-[4px_4px_0px_0px_#fcb22f]":"bg-white text-[#153462]"),children:a},a))})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Language Conducted In *"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:["English","Mandarin","BM","Others"].map(a=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",className:"sr-only",checked:m.languages.includes(a),onChange:()=>(e=>{u(a=>{const s=a.languages.includes(e);return{...a,languages:s?a.languages.filter(a=>a!==e):[...a.languages,e]}}),N(e=>({...e,languages:void 0}))})(a)}),e.jsx("div",{className:"w-6 h-6 border-2 border-[#153462] transition-all shadow-[2px_2px_0px_0px_#153462] "+(m.languages.includes(a)?"bg-[#f68921]":"bg-white")})]}),e.jsx("span",{className:"font-bold uppercase text-xs text-[#153462]",children:a})]},a))}),v.languages&&e.jsx("div",{className:"text-sm text-red-600 mt-2",children:v.languages})]}),e.jsxs("div",{className:O,children:[e.jsx("label",{className:C,children:"Special Remarks (Optional)"}),e.jsx("textarea",{name:"remarks",className:`${k} focus:border-[#f68921] w-full py-2 text-sm`,rows:4,placeholder:"Any special notes or requests",value:m.remarks,onChange:_})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"flex items-start gap-4 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"sr-only",checked:y,onChange:()=>j(!y)}),e.jsx("div",{className:"mt-1 min-w-[20px] h-5 w-5 border-2 border-[#153462] shadow-[2px_2px_0px_0px_#153462] transition-all "+(y?"bg-[#153462]":"bg-white")}),e.jsxs("span",{className:"text-sm font-bold text-[#153462] uppercase leading-tight",children:["I AGREE TO THE ",e.jsx("a",{href:"/privacy-policy",className:"underline text-[#f68921]",children:"PRIVACY POLICY"})," AND DATA PROCESSING."]})]}),v.privacyConsent&&e.jsx("div",{className:"text-sm text-red-600 mt-2",children:v.privacyConsent})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{type:"button",onClick:()=>p(2),className:"w-1/3 border-4 border-[#153462] py-4 font-black uppercase hover:bg-gray-100 transition-all",children:"← Back"}),e.jsx(n,{type:"submit",disabled:h,className:"flex-1 py-5 bg-[#153462] text-[#fcb22f] font-black text-lg uppercase italic border-4 border-[#153462] shadow-[8px_8px_0px_0px_#f68921] hover:shadow-none hover:translate-x-1 hover:translate-y-1 transition-all",children:h?"SENDING...":"GET MY QUOTE →"})]})]})]})]})};export{c as Q};
